!function(){function t(e,n,i){function r(a,o){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!o&&u)return u(a,!0);if(s)return s(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var h=n[a]={exports:{}};e[a][0].call(h.exports,function(t){var n=e[a][1][t];return r(n?n:t)},h,h.exports,t,e,n,i)}return n[a].exports}for(var s="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}return t}()({1:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=t("mobile-detect"),s=i(r),a=t("./js/bounce-logo.js"),o=function(){var t=new s["default"](window.navigator.userAgent);window.mobile=!!t.mobile(),window.mobileLayout=window.innerWidth<=768&&window.innerWidth<window.innerHeight,window.addEventListener("resize",function(){window.mobileLayout=window.innerWidth<=768&&window.innerWidth<window.innerHeight}),(0,a.init)()};document.addEventListener("DOMContentLoaded",o)},{"./js/bounce-logo.js":2,"mobile-detect":5}],2:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n.init=void 0;var r=t("lodash"),s=(i(r),t("paper")),a=void 0,o=void 0,u=void 0,l=.85,h=void 0,c=void 0,f=void 0,d=void 0,_=void 0,g=0,v=[],p={beta:0,gamma:0},m=(n.init=function(){a=window.mobile?.25:.08,o=.033,u=window.mobile?.028:.015,d=!window.mobile,s.install(window);var t=document.getElementsByClassName("paper-canvas")[0];s.setup(t),f=new Point(0,0),c=new Tool,c.onMouseMove=S,view.onFrame=A,view.onResize=function(){h.group.remove(),h=b(document.getElementById("logo"))},h=b(document.getElementById("logo")),window.mobile&&(window.addEventListener("touchstart",y),window.addEventListener("touchend",w),window.addEventListener("deviceorientation",x))},function(t,e){var n=t,i=new Point(t),r=new Point(t),s=new Point(0,0),h=e*a,c=function(){var t=new Point(n).subtract(f),e=new Point(i).subtract(n);if(t.length<h&&e.length<h&&(d||_)){var a=1-t.length/h;r.x=i.x-t.x*a,r.y=i.y-t.y*a,s.x+=(r.x-n.x)*u,s.y+=(r.y-n.y)*u}else r.x=i.x,r.y=i.y,s.x+=(r.x-n.x)*o,s.y+=(r.y-n.y)*o;n.x+=s.x*=l,n.y+=s.y*=l};return{update:c}}),b=function(t){var e=s.project.importSVG(t,{onError:function(t){return console.log("error",t)},applyMatrix:!0,expandShapes:!0,insert:!1}),n=new Group,i=e.children.main;e._children.forEach(function(t){return n.addChild(t)}),n.addChild(i);var r=n.bounds.height/n.bounds.width,a=window.mobileLayout?.45:.18;n.bounds.width=window.innerWidth*a,n.bounds.height=n.bounds.width*r,n.center=view.center,n.center.y-=window.mobileLayout?.45*n.bounds.height:.4*n.bounds.height,n.position=view.center;var o=[],u=[],l=function(t){u.push(t),t.segments.forEach(function(t,e){var n=m(t.point,t.point.getDistance(new Point(0,0)));o.push(n)})};n.children.forEach(function(t){return"main"===t.name?t.children.forEach(function(t){return l(t)}):void l(t)});var h=function(){o.forEach(function(t){return t.update()})};return{update:h,group:n}},T=function(t,e,n){if(t<e[0])return n[0];if(t>e[1])return n[1];var i=e[1]-e[0],r=n[1]-n[0],s=t-e[0];return s*r/i+n[0]},S=function(t){var e=t.point;f.x=e.x,f.y=e.y},y=function(t){var e=t.clientX,n=t.clientY;d=!0,S({point:{x:e,y:n}})},w=function(){d=!1},x=function(t){var e=(t.alpha,t.beta),n=t.gamma;if(!d){var i=window.innerWidth<window.innerHeight?e:n,r=window.innerWidth<window.innerHeight?n:e;v.length>360&&v.shift(),v.push(i);var s=v.reduce(function(t,e){return t+e});s/=v.length,i-=s;var a=T(r,[-34,34],[.18*window.innerWidth,.82*window.innerWidth]),o=T(i,[-45,45],[.16*window.innerHeight,.55*window.innerHeight]);g<50&&(g+=Math.abs(e-p.beta),g+=Math.abs(n-p.gamma)),p.beta=e,p.gamma=n,S({point:{x:a,y:o}})}},A=function(){g>0&&(g-=1),_=g>10,h&&h.update()}},{lodash:4,paper:6}],3:[function(t,e,n){},{}],4:[function(t,e,n){(function(t){(function(){function i(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function r(t,e,n,i){for(var r=-1,s=null==t?0:t.length;++r<s;){var a=t[r];e(i,a,n(a),t)}return i}function s(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t}function a(t,e){for(var n=null==t?0:t.length;n--&&e(t[n],n,t)!==!1;);return t}function o(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function u(t,e){for(var n=-1,i=null==t?0:t.length,r=0,s=[];++n<i;){var a=t[n];e(a,n,t)&&(s[r++]=a)}return s}function l(t,e){var n=null==t?0:t.length;return!!n&&T(t,e,0)>-1}function h(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function c(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function f(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function d(t,e,n,i){var r=-1,s=null==t?0:t.length;for(i&&s&&(n=t[++r]);++r<s;)n=e(n,t[r],r,t);return n}function _(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function g(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function v(t){return t.split("")}function p(t){return t.match(Re)||[]}function m(t,e,n){var i;return n(t,function(t,n,r){if(e(t,n,r))return i=n,!1}),i}function b(t,e,n,i){for(var r=t.length,s=n+(i?1:-1);i?s--:++s<r;)if(e(t[s],s,t))return s;return-1}function T(t,e,n){return e===e?K(t,e,n):b(t,y,n)}function S(t,e,n,i){for(var r=n-1,s=t.length;++r<s;)if(i(t[r],e))return r;return-1}function y(t){return t!==t}function w(t,e){var n=null==t?0:t.length;return n?M(t,e)/n:Ot}function x(t){return function(e){return null==e?et:e[t]}}function A(t){return function(e){return null==t?et:t[e]}}function P(t,e,n,i,r){return r(t,function(t,r,s){n=i?(i=!1,t):e(n,t,r,s)}),n}function C(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function M(t,e){for(var n,i=-1,r=t.length;++i<r;){var s=e(t[i]);s!==et&&(n=n===et?s:n+s)}return n}function I(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function G(t,e){return c(e,function(e){return[e,t[e]]})}function B(t){return function(e){return t(e)}}function E(t,e){return c(e,function(e){return t[e]})}function H(t,e){return t.has(e)}function O(t,e){for(var n=-1,i=t.length;++n<i&&T(e,t[n],0)>-1;);return n}function k(t,e){for(var n=t.length;n--&&T(e,t[n],0)>-1;);return n}function D(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}function L(t){return"\\"+Jn[t]}function N(t,e){return null==t?et:t[e]}function R(t){return jn.test(t)}function V(t){return Wn.test(t)}function z(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function F(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function j(t,e){return function(n){return t(e(n))}}function W(t,e){for(var n=-1,i=t.length,r=0,s=[];++n<i;){var a=t[n];a!==e&&a!==ut||(t[n]=ut,s[r++]=n)}return s}function U(t,e){return"__proto__"==e?et:t[e]}function X(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function q(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function K(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function Z(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}function Q(t){return R(t)?J(t):gi(t)}function $(t){return R(t)?Y(t):v(t)}function J(t){for(var e=zn.lastIndex=0;zn.test(t);)++e;return e}function Y(t){return t.match(zn)||[]}function tt(t){return t.match(Fn)||[]}var et,nt="4.17.5",it=200,rt="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",st="Expected a function",at="__lodash_hash_undefined__",ot=500,ut="__lodash_placeholder__",lt=1,ht=2,ct=4,ft=1,dt=2,_t=1,gt=2,vt=4,pt=8,mt=16,bt=32,Tt=64,St=128,yt=256,wt=512,xt=30,At="...",Pt=800,Ct=16,Mt=1,It=2,Gt=3,Bt=1/0,Et=9007199254740991,Ht=1.7976931348623157e308,Ot=NaN,kt=4294967295,Dt=kt-1,Lt=kt>>>1,Nt=[["ary",St],["bind",_t],["bindKey",gt],["curry",pt],["curryRight",mt],["flip",wt],["partial",bt],["partialRight",Tt],["rearg",yt]],Rt="[object Arguments]",Vt="[object Array]",zt="[object AsyncFunction]",Ft="[object Boolean]",jt="[object Date]",Wt="[object DOMException]",Ut="[object Error]",Xt="[object Function]",qt="[object GeneratorFunction]",Kt="[object Map]",Zt="[object Number]",Qt="[object Null]",$t="[object Object]",Jt="[object Promise]",Yt="[object Proxy]",te="[object RegExp]",ee="[object Set]",ne="[object String]",ie="[object Symbol]",re="[object Undefined]",se="[object WeakMap]",ae="[object WeakSet]",oe="[object ArrayBuffer]",ue="[object DataView]",le="[object Float32Array]",he="[object Float64Array]",ce="[object Int8Array]",fe="[object Int16Array]",de="[object Int32Array]",_e="[object Uint8Array]",ge="[object Uint8ClampedArray]",ve="[object Uint16Array]",pe="[object Uint32Array]",me=/\b__p \+= '';/g,be=/\b(__p \+=) '' \+/g,Te=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Se=/&(?:amp|lt|gt|quot|#39);/g,ye=/[&<>"']/g,we=RegExp(Se.source),xe=RegExp(ye.source),Ae=/<%-([\s\S]+?)%>/g,Pe=/<%([\s\S]+?)%>/g,Ce=/<%=([\s\S]+?)%>/g,Me=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ie=/^\w*$/,Ge=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Be=/[\\^$.*+?()[\]{}|]/g,Ee=RegExp(Be.source),He=/^\s+|\s+$/g,Oe=/^\s+/,ke=/\s+$/,De=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Le=/\{\n\/\* \[wrapped with (.+)\] \*/,Ne=/,? & /,Re=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ve=/\\(\\)?/g,ze=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Fe=/\w*$/,je=/^[-+]0x[0-9a-f]+$/i,We=/^0b[01]+$/i,Ue=/^\[object .+?Constructor\]$/,Xe=/^0o[0-7]+$/i,qe=/^(?:0|[1-9]\d*)$/,Ke=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ze=/($^)/,Qe=/['\n\r\u2028\u2029\\]/g,$e="\\ud800-\\udfff",Je="\\u0300-\\u036f",Ye="\\ufe20-\\ufe2f",tn="\\u20d0-\\u20ff",en=Je+Ye+tn,nn="\\u2700-\\u27bf",rn="a-z\\xdf-\\xf6\\xf8-\\xff",sn="\\xac\\xb1\\xd7\\xf7",an="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",on="\\u2000-\\u206f",un=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ln="A-Z\\xc0-\\xd6\\xd8-\\xde",hn="\\ufe0e\\ufe0f",cn=sn+an+on+un,fn="['’]",dn="["+$e+"]",_n="["+cn+"]",gn="["+en+"]",vn="\\d+",pn="["+nn+"]",mn="["+rn+"]",bn="[^"+$e+cn+vn+nn+rn+ln+"]",Tn="\\ud83c[\\udffb-\\udfff]",Sn="(?:"+gn+"|"+Tn+")",yn="[^"+$e+"]",wn="(?:\\ud83c[\\udde6-\\uddff]){2}",xn="[\\ud800-\\udbff][\\udc00-\\udfff]",An="["+ln+"]",Pn="\\u200d",Cn="(?:"+mn+"|"+bn+")",Mn="(?:"+An+"|"+bn+")",In="(?:"+fn+"(?:d|ll|m|re|s|t|ve))?",Gn="(?:"+fn+"(?:D|LL|M|RE|S|T|VE))?",Bn=Sn+"?",En="["+hn+"]?",Hn="(?:"+Pn+"(?:"+[yn,wn,xn].join("|")+")"+En+Bn+")*",On="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",kn="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Dn=En+Bn+Hn,Ln="(?:"+[pn,wn,xn].join("|")+")"+Dn,Nn="(?:"+[yn+gn+"?",gn,wn,xn,dn].join("|")+")",Rn=RegExp(fn,"g"),Vn=RegExp(gn,"g"),zn=RegExp(Tn+"(?="+Tn+")|"+Nn+Dn,"g"),Fn=RegExp([An+"?"+mn+"+"+In+"(?="+[_n,An,"$"].join("|")+")",Mn+"+"+Gn+"(?="+[_n,An+Cn,"$"].join("|")+")",An+"?"+Cn+"+"+In,An+"+"+Gn,kn,On,vn,Ln].join("|"),"g"),jn=RegExp("["+Pn+$e+en+hn+"]"),Wn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Un=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xn=-1,qn={};qn[le]=qn[he]=qn[ce]=qn[fe]=qn[de]=qn[_e]=qn[ge]=qn[ve]=qn[pe]=!0,qn[Rt]=qn[Vt]=qn[oe]=qn[Ft]=qn[ue]=qn[jt]=qn[Ut]=qn[Xt]=qn[Kt]=qn[Zt]=qn[$t]=qn[te]=qn[ee]=qn[ne]=qn[se]=!1;var Kn={};Kn[Rt]=Kn[Vt]=Kn[oe]=Kn[ue]=Kn[Ft]=Kn[jt]=Kn[le]=Kn[he]=Kn[ce]=Kn[fe]=Kn[de]=Kn[Kt]=Kn[Zt]=Kn[$t]=Kn[te]=Kn[ee]=Kn[ne]=Kn[ie]=Kn[_e]=Kn[ge]=Kn[ve]=Kn[pe]=!0,Kn[Ut]=Kn[Xt]=Kn[se]=!1;var Zn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},Qn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},$n={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Jn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Yn=parseFloat,ti=parseInt,ei="object"==typeof t&&t&&t.Object===Object&&t,ni="object"==typeof self&&self&&self.Object===Object&&self,ii=ei||ni||Function("return this")(),ri="object"==typeof n&&n&&!n.nodeType&&n,si=ri&&"object"==typeof e&&e&&!e.nodeType&&e,ai=si&&si.exports===ri,oi=ai&&ei.process,ui=function(){try{return oi&&oi.binding&&oi.binding("util")}catch(t){}}(),li=ui&&ui.isArrayBuffer,hi=ui&&ui.isDate,ci=ui&&ui.isMap,fi=ui&&ui.isRegExp,di=ui&&ui.isSet,_i=ui&&ui.isTypedArray,gi=x("length"),vi=A(Zn),pi=A(Qn),mi=A($n),bi=function Si(t){function e(t){if(su(t)&&!pf(t)&&!(t instanceof A)){if(t instanceof v)return t;if(vh.call(t,"__wrapped__"))return ea(t)}return new v(t)}function n(){}function v(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=et}function A(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=kt,this.__views__=[]}function K(){var t=new A(this.__wrapped__);return t.__actions__=Dr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Dr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Dr(this.__views__),t}function J(){if(this.__filtered__){var t=new A(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Y(){var t=this.__wrapped__.value(),e=this.__dir__,n=pf(t),i=e<0,r=n?t.length:0,s=As(0,r,this.__views__),a=s.start,o=s.end,u=o-a,l=i?o:a-1,h=this.__iteratees__,c=h.length,f=0,d=Xh(u,this.__takeCount__);if(!n||!i&&r==u&&d==u)return br(t,this.__actions__);var _=[];t:for(;u--&&f<d;){l+=e;for(var g=-1,v=t[l];++g<c;){var p=h[g],m=p.iteratee,b=p.type,T=m(v);if(b==It)v=T;else if(!T){if(b==Mt)continue t;break t}}_[f++]=v}return _}function Re(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function $e(){this.__data__=nc?nc(null):{},this.size=0}function Je(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Ye(t){var e=this.__data__;if(nc){var n=e[t];return n===at?et:n}return vh.call(e,t)?e[t]:et}function tn(t){var e=this.__data__;return nc?e[t]!==et:vh.call(e,t)}function en(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=nc&&e===et?at:e,this}function nn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function rn(){this.__data__=[],this.size=0}function sn(t){var e=this.__data__,n=Gn(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():Gh.call(e,n,1),--this.size,!0}function an(t){var e=this.__data__,n=Gn(e,t);return n<0?et:e[n][1]}function on(t){return Gn(this.__data__,t)>-1}function un(t,e){var n=this.__data__,i=Gn(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}function ln(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function hn(){this.size=0,this.__data__={hash:new Re,map:new(Jh||nn),string:new Re}}function cn(t){var e=Ss(this,t)["delete"](t);return this.size-=e?1:0,e}function fn(t){return Ss(this,t).get(t)}function dn(t){return Ss(this,t).has(t)}function _n(t,e){var n=Ss(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function gn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new ln;++e<n;)this.add(t[e])}function vn(t){return this.__data__.set(t,at),this}function pn(t){return this.__data__.has(t)}function mn(t){var e=this.__data__=new nn(t);this.size=e.size}function bn(){this.__data__=new nn,this.size=0}function Tn(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}function Sn(t){return this.__data__.get(t)}function yn(t){return this.__data__.has(t)}function wn(t,e){var n=this.__data__;if(n instanceof nn){var i=n.__data__;if(!Jh||i.length<it-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new ln(i)}return n.set(t,e),this.size=n.size,this}function xn(t,e){var n=pf(t),i=!n&&vf(t),r=!n&&!i&&bf(t),s=!n&&!i&&!r&&xf(t),a=n||i||r||s,o=a?I(t.length,lh):[],u=o.length;for(var l in t)!e&&!vh.call(t,l)||a&&("length"==l||r&&("offset"==l||"parent"==l)||s&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Hs(l,u))||o.push(l);return o}function An(t){var e=t.length;return e?t[tr(0,e-1)]:et}function Pn(t,e){return $s(Dr(t),Dn(e,0,t.length))}function Cn(t){return $s(Dr(t))}function Mn(t,e,n){(n===et||Uo(t[e],n))&&(n!==et||e in t)||On(t,e,n)}function In(t,e,n){var i=t[e];vh.call(t,e)&&Uo(i,n)&&(n!==et||e in t)||On(t,e,n)}function Gn(t,e){for(var n=t.length;n--;)if(Uo(t[n][0],e))return n;return-1}function Bn(t,e,n,i){return _c(t,function(t,r,s){e(i,t,n(t),s)}),i}function En(t,e){return t&&Lr(e,Vu(e),t)}function Hn(t,e){return t&&Lr(e,zu(e),t)}function On(t,e,n){"__proto__"==e&&Oh?Oh(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function kn(t,e){for(var n=-1,i=e.length,r=nh(i),s=null==t;++n<i;)r[n]=s?et:Lu(t,e[n]);return r}function Dn(t,e,n){return t===t&&(n!==et&&(t=t<=n?t:n),e!==et&&(t=t>=e?t:e)),t}function Ln(t,e,n,i,r,a){var o,u=e&lt,l=e&ht,h=e&ct;if(n&&(o=r?n(t,i,r,a):n(t)),o!==et)return o;if(!ru(t))return t;var c=pf(t);if(c){if(o=Ms(t),!u)return Dr(t,o)}else{var f=Pc(t),d=f==Xt||f==qt;if(bf(t))return Pr(t,u);if(f==$t||f==Rt||d&&!r){if(o=l||d?{}:Is(t),!u)return l?Rr(t,Hn(o,t)):Nr(t,En(o,t))}else{if(!Kn[f])return r?t:{};o=Gs(t,f,u)}}a||(a=new mn);var _=a.get(t);if(_)return _;if(a.set(t,o),wf(t))return t.forEach(function(i){o.add(Ln(i,e,n,i,t,a))}),o;if(Sf(t))return t.forEach(function(i,r){o.set(r,Ln(i,e,n,r,t,a))}),o;var g=h?l?ps:vs:l?zu:Vu,v=c?et:g(t);return s(v||t,function(i,r){v&&(r=i,i=t[r]),In(o,r,Ln(i,e,n,r,t,a))}),o}function Nn(t){var e=Vu(t);return function(n){return zn(n,t,e)}}function zn(t,e,n){var i=n.length;if(null==t)return!i;for(t=oh(t);i--;){var r=n[i],s=e[r],a=t[r];if(a===et&&!(r in t)||!s(a))return!1}return!0}function Fn(t,e,n){if("function"!=typeof t)throw new hh(st);return Ic(function(){t.apply(et,n)},e)}function jn(t,e,n,i){var r=-1,s=l,a=!0,o=t.length,u=[],f=e.length;if(!o)return u;n&&(e=c(e,B(n))),i?(s=h,a=!1):e.length>=it&&(s=H,a=!1,e=new gn(e));t:for(;++r<o;){var d=t[r],_=null==n?d:n(d);if(d=i||0!==d?d:0,a&&_===_){for(var g=f;g--;)if(e[g]===_)continue t;u.push(d)}else s(e,_,i)||u.push(d)}return u}function Wn(t,e){var n=!0;return _c(t,function(t,i,r){return n=!!e(t,i,r)}),n}function Zn(t,e,n){for(var i=-1,r=t.length;++i<r;){var s=t[i],a=e(s);if(null!=a&&(o===et?a===a&&!vu(a):n(a,o)))var o=a,u=s}return u}function Qn(t,e,n,i){var r=t.length;for(n=yu(n),n<0&&(n=-n>r?0:r+n),i=i===et||i>r?r:yu(i),i<0&&(i+=r),i=n>i?0:wu(i);n<i;)t[n++]=e;return t}function $n(t,e){var n=[];return _c(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}function Jn(t,e,n,i,r){var s=-1,a=t.length;for(n||(n=Es),r||(r=[]);++s<a;){var o=t[s];e>0&&n(o)?e>1?Jn(o,e-1,n,i,r):f(r,o):i||(r[r.length]=o)}return r}function ei(t,e){return t&&vc(t,e,Vu)}function ni(t,e){return t&&pc(t,e,Vu)}function ri(t,e){return u(e,function(e){return eu(t[e])})}function si(t,e){e=xr(e,t);for(var n=0,i=e.length;null!=t&&n<i;)t=t[Js(e[n++])];return n&&n==i?t:et}function oi(t,e,n){var i=e(t);return pf(t)?i:f(i,n(t))}function ui(t){return null==t?t===et?re:Qt:Hh&&Hh in oh(t)?xs(t):Us(t)}function gi(t,e){return t>e}function bi(t,e){return null!=t&&vh.call(t,e)}function yi(t,e){return null!=t&&e in oh(t)}function wi(t,e,n){return t>=Xh(e,n)&&t<Uh(e,n)}function xi(t,e,n){for(var i=n?h:l,r=t[0].length,s=t.length,a=s,o=nh(s),u=1/0,f=[];a--;){var d=t[a];a&&e&&(d=c(d,B(e))),u=Xh(d.length,u),o[a]=!n&&(e||r>=120&&d.length>=120)?new gn(a&&d):et}d=t[0];var _=-1,g=o[0];t:for(;++_<r&&f.length<u;){var v=d[_],p=e?e(v):v;if(v=n||0!==v?v:0,!(g?H(g,p):i(f,p,n))){for(a=s;--a;){var m=o[a];if(!(m?H(m,p):i(t[a],p,n)))continue t}g&&g.push(p),f.push(v)}}return f}function Ai(t,e,n,i){return ei(t,function(t,r,s){e(i,n(t),r,s)}),i}function Pi(t,e,n){e=xr(e,t),t=qs(t,e);var r=null==t?t:t[Js(Ta(e))];return null==r?et:i(r,t,n)}function Ci(t){return su(t)&&ui(t)==Rt}function Mi(t){return su(t)&&ui(t)==oe}function Ii(t){return su(t)&&ui(t)==jt}function Gi(t,e,n,i,r){return t===e||(null==t||null==e||!su(t)&&!su(e)?t!==t&&e!==e:Bi(t,e,n,i,Gi,r))}function Bi(t,e,n,i,r,s){var a=pf(t),o=pf(e),u=a?Vt:Pc(t),l=o?Vt:Pc(e);u=u==Rt?$t:u,l=l==Rt?$t:l;var h=u==$t,c=l==$t,f=u==l;if(f&&bf(t)){if(!bf(e))return!1;a=!0,h=!1}if(f&&!h)return s||(s=new mn),a||xf(t)?fs(t,e,n,i,r,s):ds(t,e,u,n,i,r,s);if(!(n&ft)){var d=h&&vh.call(t,"__wrapped__"),_=c&&vh.call(e,"__wrapped__");if(d||_){var g=d?t.value():t,v=_?e.value():e;return s||(s=new mn),r(g,v,n,i,s)}}return!!f&&(s||(s=new mn),_s(t,e,n,i,r,s))}function Ei(t){return su(t)&&Pc(t)==Kt}function Hi(t,e,n,i){var r=n.length,s=r,a=!i;if(null==t)return!s;for(t=oh(t);r--;){var o=n[r];if(a&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++r<s;){o=n[r];var u=o[0],l=t[u],h=o[1];if(a&&o[2]){if(l===et&&!(u in t))return!1}else{var c=new mn;if(i)var f=i(l,h,u,t,e,c);if(!(f===et?Gi(h,l,ft|dt,i,c):f))return!1}}return!0}function Oi(t){if(!ru(t)||Ns(t))return!1;var e=eu(t)?yh:Ue;return e.test(Ys(t))}function ki(t){return su(t)&&ui(t)==te}function Di(t){return su(t)&&Pc(t)==ee}function Li(t){return su(t)&&iu(t.length)&&!!qn[ui(t)]}function Ni(t){return"function"==typeof t?t:null==t?Gl:"object"==typeof t?pf(t)?Wi(t[0],t[1]):ji(t):Nl(t)}function Ri(t){if(!Rs(t))return Wh(t);var e=[];for(var n in oh(t))vh.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Vi(t){if(!ru(t))return Ws(t);var e=Rs(t),n=[];for(var i in t)("constructor"!=i||!e&&vh.call(t,i))&&n.push(i);return n}function zi(t,e){return t<e}function Fi(t,e){var n=-1,i=Xo(t)?nh(t.length):[];return _c(t,function(t,r,s){i[++n]=e(t,r,s)}),i}function ji(t){var e=ys(t);return 1==e.length&&e[0][2]?zs(e[0][0],e[0][1]):function(n){return n===t||Hi(n,t,e)}}function Wi(t,e){return ks(t)&&Vs(e)?zs(Js(t),e):function(n){var i=Lu(n,t);return i===et&&i===e?Ru(n,t):Gi(e,i,ft|dt)}}function Ui(t,e,n,i,r){t!==e&&vc(e,function(s,a){if(ru(s))r||(r=new mn),Xi(t,e,a,n,Ui,i,r);else{var o=i?i(U(t,a),s,a+"",t,e,r):et;o===et&&(o=s),Mn(t,a,o)}},zu)}function Xi(t,e,n,i,r,s,a){var o=U(t,n),u=U(e,n),l=a.get(u);if(l)return void Mn(t,n,l);var h=s?s(o,u,n+"",t,e,a):et,c=h===et;if(c){var f=pf(u),d=!f&&bf(u),_=!f&&!d&&xf(u);h=u,f||d||_?pf(o)?h=o:qo(o)?h=Dr(o):d?(c=!1,h=Pr(u,!0)):_?(c=!1,h=Br(u,!0)):h=[]:du(u)||vf(u)?(h=o,vf(o)?h=Au(o):(!ru(o)||i&&eu(o))&&(h=Is(u))):c=!1}c&&(a.set(u,h),r(h,u,i,s,a),a["delete"](u)),Mn(t,n,h)}function qi(t,e){var n=t.length;if(n)return e+=e<0?n:0,Hs(e,n)?t[e]:et}function Ki(t,e,n){var i=-1;e=c(e.length?e:[Gl],B(Ts()));var r=Fi(t,function(t,n,r){var s=c(e,function(e){return e(t)});return{criteria:s,index:++i,value:t}});return C(r,function(t,e){return Hr(t,e,n)})}function Zi(t,e){return Qi(t,e,function(e,n){return Ru(t,n)})}function Qi(t,e,n){for(var i=-1,r=e.length,s={};++i<r;){var a=e[i],o=si(t,a);n(o,a)&&ar(s,xr(a,t),o)}return s}function $i(t){return function(e){return si(e,t)}}function Ji(t,e,n,i){var r=i?S:T,s=-1,a=e.length,o=t;for(t===e&&(e=Dr(e)),n&&(o=c(t,B(n)));++s<a;)for(var u=0,l=e[s],h=n?n(l):l;(u=r(o,h,u,i))>-1;)o!==t&&Gh.call(o,u,1),Gh.call(t,u,1);return t}function Yi(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==s){var s=r;Hs(r)?Gh.call(t,r,1):vr(t,r)}}return t}function tr(t,e){return t+Rh(Zh()*(e-t+1))}function er(t,e,n,i){for(var r=-1,s=Uh(Nh((e-t)/(n||1)),0),a=nh(s);s--;)a[i?s:++r]=t,t+=n;return a}function nr(t,e){var n="";if(!t||e<1||e>Et)return n;do e%2&&(n+=t),e=Rh(e/2),e&&(t+=t);while(e);return n}function ir(t,e){return Gc(Xs(t,e,Gl),t+"")}function rr(t){return An(Yu(t))}function sr(t,e){var n=Yu(t);return $s(n,Dn(e,0,n.length))}function ar(t,e,n,i){if(!ru(t))return t;e=xr(e,t);for(var r=-1,s=e.length,a=s-1,o=t;null!=o&&++r<s;){var u=Js(e[r]),l=n;if(r!=a){var h=o[u];l=i?i(h,u,o):et,l===et&&(l=ru(h)?h:Hs(e[r+1])?[]:{})}In(o,u,l),o=o[u]}return t}function or(t){return $s(Yu(t))}function ur(t,e,n){var i=-1,r=t.length;e<0&&(e=-e>r?0:r+e),n=n>r?r:n,n<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var s=nh(r);++i<r;)s[i]=t[i+e];return s}function lr(t,e){var n;return _c(t,function(t,i,r){return n=e(t,i,r),!n}),!!n}function hr(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e===e&&r<=Lt){for(;i<r;){var s=i+r>>>1,a=t[s];null!==a&&!vu(a)&&(n?a<=e:a<e)?i=s+1:r=s}return r}return cr(t,e,Gl,n)}function cr(t,e,n,i){e=n(e);for(var r=0,s=null==t?0:t.length,a=e!==e,o=null===e,u=vu(e),l=e===et;r<s;){var h=Rh((r+s)/2),c=n(t[h]),f=c!==et,d=null===c,_=c===c,g=vu(c);if(a)var v=i||_;else v=l?_&&(i||f):o?_&&f&&(i||!d):u?_&&f&&!d&&(i||!g):!d&&!g&&(i?c<=e:c<e);v?r=h+1:s=h}return Xh(s,Dt)}function fr(t,e){for(var n=-1,i=t.length,r=0,s=[];++n<i;){var a=t[n],o=e?e(a):a;if(!n||!Uo(o,u)){var u=o;s[r++]=0===a?0:a}}return s}function dr(t){return"number"==typeof t?t:vu(t)?Ot:+t}function _r(t){if("string"==typeof t)return t;if(pf(t))return c(t,_r)+"";if(vu(t))return fc?fc.call(t):"";var e=t+"";return"0"==e&&1/t==-Bt?"-0":e}function gr(t,e,n){var i=-1,r=l,s=t.length,a=!0,o=[],u=o;if(n)a=!1,r=h;else if(s>=it){var c=e?null:yc(t);if(c)return X(c);a=!1,r=H,u=new gn}else u=e?[]:o;t:for(;++i<s;){var f=t[i],d=e?e(f):f;if(f=n||0!==f?f:0,a&&d===d){for(var _=u.length;_--;)if(u[_]===d)continue t;e&&u.push(d),o.push(f)}else r(u,d,n)||(u!==o&&u.push(d),o.push(f))}return o}function vr(t,e){return e=xr(e,t),t=qs(t,e),null==t||delete t[Js(Ta(e))]}function pr(t,e,n,i){return ar(t,e,n(si(t,e)),i)}function mr(t,e,n,i){for(var r=t.length,s=i?r:-1;(i?s--:++s<r)&&e(t[s],s,t););return n?ur(t,i?0:s,i?s+1:r):ur(t,i?s+1:0,i?r:s)}function br(t,e){var n=t;return n instanceof A&&(n=n.value()),d(e,function(t,e){return e.func.apply(e.thisArg,f([t],e.args))},n)}function Tr(t,e,n){var i=t.length;if(i<2)return i?gr(t[0]):[];for(var r=-1,s=nh(i);++r<i;)for(var a=t[r],o=-1;++o<i;)o!=r&&(s[r]=jn(s[r]||a,t[o],e,n));return gr(Jn(s,1),e,n)}function Sr(t,e,n){for(var i=-1,r=t.length,s=e.length,a={};++i<r;){var o=i<s?e[i]:et;n(a,t[i],o)}return a}function yr(t){return qo(t)?t:[]}function wr(t){return"function"==typeof t?t:Gl}function xr(t,e){return pf(t)?t:ks(t,e)?[t]:Bc(Cu(t))}function Ar(t,e,n){var i=t.length;return n=n===et?i:n,!e&&n>=i?t:ur(t,e,n)}function Pr(t,e){if(e)return t.slice();var n=t.length,i=Ph?Ph(n):new t.constructor(n);return t.copy(i),i}function Cr(t){var e=new t.constructor(t.byteLength);return new Ah(e).set(new Ah(t)),e}function Mr(t,e){var n=e?Cr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Ir(t){var e=new t.constructor(t.source,Fe.exec(t));return e.lastIndex=t.lastIndex,e}function Gr(t){return cc?oh(cc.call(t)):{}}function Br(t,e){var n=e?Cr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Er(t,e){if(t!==e){var n=t!==et,i=null===t,r=t===t,s=vu(t),a=e!==et,o=null===e,u=e===e,l=vu(e);if(!o&&!l&&!s&&t>e||s&&a&&u&&!o&&!l||i&&a&&u||!n&&u||!r)return 1;if(!i&&!s&&!l&&t<e||l&&n&&r&&!i&&!s||o&&n&&r||!a&&r||!u)return-1}return 0}function Hr(t,e,n){for(var i=-1,r=t.criteria,s=e.criteria,a=r.length,o=n.length;++i<a;){var u=Er(r[i],s[i]);if(u){if(i>=o)return u;var l=n[i];return u*("desc"==l?-1:1)}}return t.index-e.index}function Or(t,e,n,i){for(var r=-1,s=t.length,a=n.length,o=-1,u=e.length,l=Uh(s-a,0),h=nh(u+l),c=!i;++o<u;)h[o]=e[o];for(;++r<a;)(c||r<s)&&(h[n[r]]=t[r]);for(;l--;)h[o++]=t[r++];return h}function kr(t,e,n,i){for(var r=-1,s=t.length,a=-1,o=n.length,u=-1,l=e.length,h=Uh(s-o,0),c=nh(h+l),f=!i;++r<h;)c[r]=t[r];for(var d=r;++u<l;)c[d+u]=e[u];for(;++a<o;)(f||r<s)&&(c[d+n[a]]=t[r++]);return c}function Dr(t,e){var n=-1,i=t.length;for(e||(e=nh(i));++n<i;)e[n]=t[n];return e}function Lr(t,e,n,i){var r=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var o=e[s],u=i?i(n[o],t[o],o,n,t):et;u===et&&(u=t[o]),r?On(n,o,u):In(n,o,u)}return n}function Nr(t,e){return Lr(t,xc(t),e)}function Rr(t,e){return Lr(t,Ac(t),e)}function Vr(t,e){return function(n,i){var s=pf(n)?r:Bn,a=e?e():{};return s(n,t,Ts(i,2),a)}}function zr(t){return ir(function(e,n){var i=-1,r=n.length,s=r>1?n[r-1]:et,a=r>2?n[2]:et;for(s=t.length>3&&"function"==typeof s?(r--,s):et,a&&Os(n[0],n[1],a)&&(s=r<3?et:s,r=1),e=oh(e);++i<r;){var o=n[i];o&&t(e,o,i,s)}return e})}function Fr(t,e){return function(n,i){if(null==n)return n;if(!Xo(n))return t(n,i);for(var r=n.length,s=e?r:-1,a=oh(n);(e?s--:++s<r)&&i(a[s],s,a)!==!1;);return n}}function jr(t){return function(e,n,i){for(var r=-1,s=oh(e),a=i(e),o=a.length;o--;){var u=a[t?o:++r];if(n(s[u],u,s)===!1)break}return e}}function Wr(t,e,n){function i(){var e=this&&this!==ii&&this instanceof i?s:t;return e.apply(r?n:this,arguments)}var r=e&_t,s=qr(t);return i}function Ur(t){return function(e){e=Cu(e);var n=R(e)?$(e):et,i=n?n[0]:e.charAt(0),r=n?Ar(n,1).join(""):e.slice(1);return i[t]()+r}}function Xr(t){return function(e){return d(Al(sl(e).replace(Rn,"")),t,"")}}function qr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=dc(t.prototype),i=t.apply(n,e);return ru(i)?i:n}}function Kr(t,e,n){function r(){for(var a=arguments.length,o=nh(a),u=a,l=bs(r);u--;)o[u]=arguments[u];var h=a<3&&o[0]!==l&&o[a-1]!==l?[]:W(o,l);if(a-=h.length,a<n)return ss(t,e,$r,r.placeholder,et,o,h,et,et,n-a);var c=this&&this!==ii&&this instanceof r?s:t;return i(c,this,o)}var s=qr(t);return r}function Zr(t){return function(e,n,i){var r=oh(e);if(!Xo(e)){var s=Ts(n,3);e=Vu(e),n=function(t){return s(r[t],t,r)}}var a=t(e,n,i);return a>-1?r[s?e[a]:a]:et}}function Qr(t){return gs(function(e){var n=e.length,i=n,r=v.prototype.thru;for(t&&e.reverse();i--;){var s=e[i];if("function"!=typeof s)throw new hh(st);if(r&&!a&&"wrapper"==ms(s))var a=new v([],(!0))}for(i=a?i:n;++i<n;){s=e[i];var o=ms(s),u="wrapper"==o?wc(s):et;a=u&&Ls(u[0])&&u[1]==(St|pt|bt|yt)&&!u[4].length&&1==u[9]?a[ms(u[0])].apply(a,u[3]):1==s.length&&Ls(s)?a[o]():a.thru(s)}return function(){var t=arguments,i=t[0];if(a&&1==t.length&&pf(i))return a.plant(i).value();for(var r=0,s=n?e[r].apply(this,t):i;++r<n;)s=e[r].call(this,s);return s}})}function $r(t,e,n,i,r,s,a,o,u,l){function h(){for(var p=arguments.length,m=nh(p),b=p;b--;)m[b]=arguments[b];if(_)var T=bs(h),S=D(m,T);if(i&&(m=Or(m,i,r,_)),s&&(m=kr(m,s,a,_)),p-=S,_&&p<l){var y=W(m,T);return ss(t,e,$r,h.placeholder,n,m,y,o,u,l-p)}var w=f?n:this,x=d?w[t]:t;return p=m.length,o?m=Ks(m,o):g&&p>1&&m.reverse(),c&&u<p&&(m.length=u),this&&this!==ii&&this instanceof h&&(x=v||qr(x)),
x.apply(w,m)}var c=e&St,f=e&_t,d=e&gt,_=e&(pt|mt),g=e&wt,v=d?et:qr(t);return h}function Jr(t,e){return function(n,i){return Ai(n,t,e(i),{})}}function Yr(t,e){return function(n,i){var r;if(n===et&&i===et)return e;if(n!==et&&(r=n),i!==et){if(r===et)return i;"string"==typeof n||"string"==typeof i?(n=_r(n),i=_r(i)):(n=dr(n),i=dr(i)),r=t(n,i)}return r}}function ts(t){return gs(function(e){return e=c(e,B(Ts())),ir(function(n){var r=this;return t(e,function(t){return i(t,r,n)})})})}function es(t,e){e=e===et?" ":_r(e);var n=e.length;if(n<2)return n?nr(e,t):e;var i=nr(e,Nh(t/Q(e)));return R(e)?Ar($(i),0,t).join(""):i.slice(0,t)}function ns(t,e,n,r){function s(){for(var e=-1,u=arguments.length,l=-1,h=r.length,c=nh(h+u),f=this&&this!==ii&&this instanceof s?o:t;++l<h;)c[l]=r[l];for(;u--;)c[l++]=arguments[++e];return i(f,a?n:this,c)}var a=e&_t,o=qr(t);return s}function is(t){return function(e,n,i){return i&&"number"!=typeof i&&Os(e,n,i)&&(n=i=et),e=Su(e),n===et?(n=e,e=0):n=Su(n),i=i===et?e<n?1:-1:Su(i),er(e,n,i,t)}}function rs(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=xu(e),n=xu(n)),t(e,n)}}function ss(t,e,n,i,r,s,a,o,u,l){var h=e&pt,c=h?a:et,f=h?et:a,d=h?s:et,_=h?et:s;e|=h?bt:Tt,e&=~(h?Tt:bt),e&vt||(e&=~(_t|gt));var g=[t,e,r,d,c,_,f,o,u,l],v=n.apply(et,g);return Ls(t)&&Mc(v,g),v.placeholder=i,Zs(v,t,e)}function as(t){var e=ah[t];return function(t,n){if(t=xu(t),n=null==n?0:Xh(yu(n),292)){var i=(Cu(t)+"e").split("e"),r=e(i[0]+"e"+(+i[1]+n));return i=(Cu(r)+"e").split("e"),+(i[0]+"e"+(+i[1]-n))}return e(t)}}function os(t){return function(e){var n=Pc(e);return n==Kt?F(e):n==ee?q(e):G(e,t(e))}}function us(t,e,n,i,r,s,a,o){var u=e&gt;if(!u&&"function"!=typeof t)throw new hh(st);var l=i?i.length:0;if(l||(e&=~(bt|Tt),i=r=et),a=a===et?a:Uh(yu(a),0),o=o===et?o:yu(o),l-=r?r.length:0,e&Tt){var h=i,c=r;i=r=et}var f=u?et:wc(t),d=[t,e,n,i,r,h,c,s,a,o];if(f&&js(d,f),t=d[0],e=d[1],n=d[2],i=d[3],r=d[4],o=d[9]=d[9]===et?u?0:t.length:Uh(d[9]-l,0),!o&&e&(pt|mt)&&(e&=~(pt|mt)),e&&e!=_t)_=e==pt||e==mt?Kr(t,e,o):e!=bt&&e!=(_t|bt)||r.length?$r.apply(et,d):ns(t,e,n,i);else var _=Wr(t,e,n);var g=f?mc:Mc;return Zs(g(_,d),t,e)}function ls(t,e,n,i){return t===et||Uo(t,dh[n])&&!vh.call(i,n)?e:t}function hs(t,e,n,i,r,s){return ru(t)&&ru(e)&&(s.set(e,t),Ui(t,e,et,hs,s),s["delete"](e)),t}function cs(t){return du(t)?et:t}function fs(t,e,n,i,r,s){var a=n&ft,o=t.length,u=e.length;if(o!=u&&!(a&&u>o))return!1;var l=s.get(t);if(l&&s.get(e))return l==e;var h=-1,c=!0,f=n&dt?new gn:et;for(s.set(t,e),s.set(e,t);++h<o;){var d=t[h],_=e[h];if(i)var v=a?i(_,d,h,e,t,s):i(d,_,h,t,e,s);if(v!==et){if(v)continue;c=!1;break}if(f){if(!g(e,function(t,e){if(!H(f,e)&&(d===t||r(d,t,n,i,s)))return f.push(e)})){c=!1;break}}else if(d!==_&&!r(d,_,n,i,s)){c=!1;break}}return s["delete"](t),s["delete"](e),c}function ds(t,e,n,i,r,s,a){switch(n){case ue:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case oe:return!(t.byteLength!=e.byteLength||!s(new Ah(t),new Ah(e)));case Ft:case jt:case Zt:return Uo(+t,+e);case Ut:return t.name==e.name&&t.message==e.message;case te:case ne:return t==e+"";case Kt:var o=F;case ee:var u=i&ft;if(o||(o=X),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;i|=dt,a.set(t,e);var h=fs(o(t),o(e),i,r,s,a);return a["delete"](t),h;case ie:if(cc)return cc.call(t)==cc.call(e)}return!1}function _s(t,e,n,i,r,s){var a=n&ft,o=vs(t),u=o.length,l=vs(e),h=l.length;if(u!=h&&!a)return!1;for(var c=u;c--;){var f=o[c];if(!(a?f in e:vh.call(e,f)))return!1}var d=s.get(t);if(d&&s.get(e))return d==e;var _=!0;s.set(t,e),s.set(e,t);for(var g=a;++c<u;){f=o[c];var v=t[f],p=e[f];if(i)var m=a?i(p,v,f,e,t,s):i(v,p,f,t,e,s);if(!(m===et?v===p||r(v,p,n,i,s):m)){_=!1;break}g||(g="constructor"==f)}if(_&&!g){var b=t.constructor,T=e.constructor;b!=T&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof T&&T instanceof T)&&(_=!1)}return s["delete"](t),s["delete"](e),_}function gs(t){return Gc(Xs(t,et,fa),t+"")}function vs(t){return oi(t,Vu,xc)}function ps(t){return oi(t,zu,Ac)}function ms(t){for(var e=t.name+"",n=rc[e],i=vh.call(rc,e)?n.length:0;i--;){var r=n[i],s=r.func;if(null==s||s==t)return r.name}return e}function bs(t){var n=vh.call(e,"placeholder")?e:t;return n.placeholder}function Ts(){var t=e.iteratee||Bl;return t=t===Bl?Ni:t,arguments.length?t(arguments[0],arguments[1]):t}function Ss(t,e){var n=t.__data__;return Ds(e)?n["string"==typeof e?"string":"hash"]:n.map}function ys(t){for(var e=Vu(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,Vs(r)]}return e}function ws(t,e){var n=N(t,e);return Oi(n)?n:et}function xs(t){var e=vh.call(t,Hh),n=t[Hh];try{t[Hh]=et;var i=!0}catch(r){}var s=bh.call(t);return i&&(e?t[Hh]=n:delete t[Hh]),s}function As(t,e,n){for(var i=-1,r=n.length;++i<r;){var s=n[i],a=s.size;switch(s.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Xh(e,t+a);break;case"takeRight":t=Uh(t,e-a)}}return{start:t,end:e}}function Ps(t){var e=t.match(Le);return e?e[1].split(Ne):[]}function Cs(t,e,n){e=xr(e,t);for(var i=-1,r=e.length,s=!1;++i<r;){var a=Js(e[i]);if(!(s=null!=t&&n(t,a)))break;t=t[a]}return s||++i!=r?s:(r=null==t?0:t.length,!!r&&iu(r)&&Hs(a,r)&&(pf(t)||vf(t)))}function Ms(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&vh.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Is(t){return"function"!=typeof t.constructor||Rs(t)?{}:dc(Ch(t))}function Gs(t,e,n){var i=t.constructor;switch(e){case oe:return Cr(t);case Ft:case jt:return new i((+t));case ue:return Mr(t,n);case le:case he:case ce:case fe:case de:case _e:case ge:case ve:case pe:return Br(t,n);case Kt:return new i;case Zt:case ne:return new i(t);case te:return Ir(t);case ee:return new i;case ie:return Gr(t)}}function Bs(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(De,"{\n/* [wrapped with "+e+"] */\n")}function Es(t){return pf(t)||vf(t)||!!(Bh&&t&&t[Bh])}function Hs(t,e){var n=typeof t;return e=null==e?Et:e,!!e&&("number"==n||"symbol"!=n&&qe.test(t))&&t>-1&&t%1==0&&t<e}function Os(t,e,n){if(!ru(n))return!1;var i=typeof e;return!!("number"==i?Xo(n)&&Hs(e,n.length):"string"==i&&e in n)&&Uo(n[e],t)}function ks(t,e){if(pf(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!vu(t))||(Ie.test(t)||!Me.test(t)||null!=e&&t in oh(e))}function Ds(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Ls(t){var n=ms(t),i=e[n];if("function"!=typeof i||!(n in A.prototype))return!1;if(t===i)return!0;var r=wc(i);return!!r&&t===r[0]}function Ns(t){return!!mh&&mh in t}function Rs(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||dh;return t===n}function Vs(t){return t===t&&!ru(t)}function zs(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==et||t in oh(n)))}}function Fs(t){var e=Bo(t,function(t){return n.size===ot&&n.clear(),t}),n=e.cache;return e}function js(t,e){var n=t[1],i=e[1],r=n|i,s=r<(_t|gt|St),a=i==St&&n==pt||i==St&&n==yt&&t[7].length<=e[8]||i==(St|yt)&&e[7].length<=e[8]&&n==pt;if(!s&&!a)return t;i&_t&&(t[2]=e[2],r|=n&_t?0:vt);var o=e[3];if(o){var u=t[3];t[3]=u?Or(u,o,e[4]):o,t[4]=u?W(t[3],ut):e[4]}return o=e[5],o&&(u=t[5],t[5]=u?kr(u,o,e[6]):o,t[6]=u?W(t[5],ut):e[6]),o=e[7],o&&(t[7]=o),i&St&&(t[8]=null==t[8]?e[8]:Xh(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r,t}function Ws(t){var e=[];if(null!=t)for(var n in oh(t))e.push(n);return e}function Us(t){return bh.call(t)}function Xs(t,e,n){return e=Uh(e===et?t.length-1:e,0),function(){for(var r=arguments,s=-1,a=Uh(r.length-e,0),o=nh(a);++s<a;)o[s]=r[e+s];s=-1;for(var u=nh(e+1);++s<e;)u[s]=r[s];return u[e]=n(o),i(t,this,u)}}function qs(t,e){return e.length<2?t:si(t,ur(e,0,-1))}function Ks(t,e){for(var n=t.length,i=Xh(e.length,n),r=Dr(t);i--;){var s=e[i];t[i]=Hs(s,n)?r[s]:et}return t}function Zs(t,e,n){var i=e+"";return Gc(t,Bs(i,ta(Ps(i),n)))}function Qs(t){var e=0,n=0;return function(){var i=qh(),r=Ct-(i-n);if(n=i,r>0){if(++e>=Pt)return arguments[0]}else e=0;return t.apply(et,arguments)}}function $s(t,e){var n=-1,i=t.length,r=i-1;for(e=e===et?i:e;++n<e;){var s=tr(n,r),a=t[s];t[s]=t[n],t[n]=a}return t.length=e,t}function Js(t){if("string"==typeof t||vu(t))return t;var e=t+"";return"0"==e&&1/t==-Bt?"-0":e}function Ys(t){if(null!=t){try{return gh.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function ta(t,e){return s(Nt,function(n){var i="_."+n[0];e&n[1]&&!l(t,i)&&t.push(i)}),t.sort()}function ea(t){if(t instanceof A)return t.clone();var e=new v(t.__wrapped__,t.__chain__);return e.__actions__=Dr(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function na(t,e,n){e=(n?Os(t,e,n):e===et)?1:Uh(yu(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var r=0,s=0,a=nh(Nh(i/e));r<i;)a[s++]=ur(t,r,r+=e);return a}function ia(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var s=t[e];s&&(r[i++]=s)}return r}function ra(){var t=arguments.length;if(!t)return[];for(var e=nh(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return f(pf(n)?Dr(n):[n],Jn(e,1))}function sa(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===et?1:yu(e),ur(t,e<0?0:e,i)):[]}function aa(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===et?1:yu(e),e=i-e,ur(t,0,e<0?0:e)):[]}function oa(t,e){return t&&t.length?mr(t,Ts(e,3),!0,!0):[]}function ua(t,e){return t&&t.length?mr(t,Ts(e,3),!0):[]}function la(t,e,n,i){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Os(t,e,n)&&(n=0,i=r),Qn(t,e,n,i)):[]}function ha(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:yu(n);return r<0&&(r=Uh(i+r,0)),b(t,Ts(e,3),r)}function ca(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return n!==et&&(r=yu(n),r=n<0?Uh(i+r,0):Xh(r,i-1)),b(t,Ts(e,3),r,!0)}function fa(t){var e=null==t?0:t.length;return e?Jn(t,1):[]}function da(t){var e=null==t?0:t.length;return e?Jn(t,Bt):[]}function _a(t,e){var n=null==t?0:t.length;return n?(e=e===et?1:yu(e),Jn(t,e)):[]}function ga(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i}function va(t){return t&&t.length?t[0]:et}function pa(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:yu(n);return r<0&&(r=Uh(i+r,0)),T(t,e,r)}function ma(t){var e=null==t?0:t.length;return e?ur(t,0,-1):[]}function ba(t,e){return null==t?"":jh.call(t,e)}function Ta(t){var e=null==t?0:t.length;return e?t[e-1]:et}function Sa(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i;return n!==et&&(r=yu(n),r=r<0?Uh(i+r,0):Xh(r,i-1)),e===e?Z(t,e,r):b(t,y,r,!0)}function ya(t,e){return t&&t.length?qi(t,yu(e)):et}function wa(t,e){return t&&t.length&&e&&e.length?Ji(t,e):t}function xa(t,e,n){return t&&t.length&&e&&e.length?Ji(t,e,Ts(n,2)):t}function Aa(t,e,n){return t&&t.length&&e&&e.length?Ji(t,e,et,n):t}function Pa(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],s=t.length;for(e=Ts(e,3);++i<s;){var a=t[i];e(a,i,t)&&(n.push(a),r.push(i))}return Yi(t,r),n}function Ca(t){return null==t?t:Qh.call(t)}function Ma(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Os(t,e,n)?(e=0,n=i):(e=null==e?0:yu(e),n=n===et?i:yu(n)),ur(t,e,n)):[]}function Ia(t,e){return hr(t,e)}function Ga(t,e,n){return cr(t,e,Ts(n,2))}function Ba(t,e){var n=null==t?0:t.length;if(n){var i=hr(t,e);if(i<n&&Uo(t[i],e))return i}return-1}function Ea(t,e){return hr(t,e,!0)}function Ha(t,e,n){return cr(t,e,Ts(n,2),!0)}function Oa(t,e){var n=null==t?0:t.length;if(n){var i=hr(t,e,!0)-1;if(Uo(t[i],e))return i}return-1}function ka(t){return t&&t.length?fr(t):[]}function Da(t,e){return t&&t.length?fr(t,Ts(e,2)):[]}function La(t){var e=null==t?0:t.length;return e?ur(t,1,e):[]}function Na(t,e,n){return t&&t.length?(e=n||e===et?1:yu(e),ur(t,0,e<0?0:e)):[]}function Ra(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===et?1:yu(e),e=i-e,ur(t,e<0?0:e,i)):[]}function Va(t,e){return t&&t.length?mr(t,Ts(e,3),!1,!0):[]}function za(t,e){return t&&t.length?mr(t,Ts(e,3)):[]}function Fa(t){return t&&t.length?gr(t):[]}function ja(t,e){return t&&t.length?gr(t,Ts(e,2)):[]}function Wa(t,e){return e="function"==typeof e?e:et,t&&t.length?gr(t,et,e):[]}function Ua(t){if(!t||!t.length)return[];var e=0;return t=u(t,function(t){if(qo(t))return e=Uh(t.length,e),!0}),I(e,function(e){return c(t,x(e))})}function Xa(t,e){if(!t||!t.length)return[];var n=Ua(t);return null==e?n:c(n,function(t){return i(e,et,t)})}function qa(t,e){return Sr(t||[],e||[],In)}function Ka(t,e){return Sr(t||[],e||[],ar)}function Za(t){var n=e(t);return n.__chain__=!0,n}function Qa(t,e){return e(t),t}function $a(t,e){return e(t)}function Ja(){return Za(this)}function Ya(){return new v(this.value(),this.__chain__)}function to(){this.__values__===et&&(this.__values__=Tu(this.value()));var t=this.__index__>=this.__values__.length,e=t?et:this.__values__[this.__index__++];return{done:t,value:e}}function eo(){return this}function no(t){for(var e,i=this;i instanceof n;){var r=ea(i);r.__index__=0,r.__values__=et,e?s.__wrapped__=r:e=r;var s=r;i=i.__wrapped__}return s.__wrapped__=t,e}function io(){var t=this.__wrapped__;if(t instanceof A){var e=t;return this.__actions__.length&&(e=new A(this)),e=e.reverse(),e.__actions__.push({func:$a,args:[Ca],thisArg:et}),new v(e,this.__chain__)}return this.thru(Ca)}function ro(){return br(this.__wrapped__,this.__actions__)}function so(t,e,n){var i=pf(t)?o:Wn;return n&&Os(t,e,n)&&(e=et),i(t,Ts(e,3))}function ao(t,e){var n=pf(t)?u:$n;return n(t,Ts(e,3))}function oo(t,e){return Jn(_o(t,e),1)}function uo(t,e){return Jn(_o(t,e),Bt)}function lo(t,e,n){return n=n===et?1:yu(n),Jn(_o(t,e),n)}function ho(t,e){var n=pf(t)?s:_c;return n(t,Ts(e,3))}function co(t,e){var n=pf(t)?a:gc;return n(t,Ts(e,3))}function fo(t,e,n,i){t=Xo(t)?t:Yu(t),n=n&&!i?yu(n):0;var r=t.length;return n<0&&(n=Uh(r+n,0)),gu(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&T(t,e,n)>-1}function _o(t,e){var n=pf(t)?c:Fi;return n(t,Ts(e,3))}function go(t,e,n,i){return null==t?[]:(pf(e)||(e=null==e?[]:[e]),n=i?et:n,pf(n)||(n=null==n?[]:[n]),Ki(t,e,n))}function vo(t,e,n){var i=pf(t)?d:P,r=arguments.length<3;return i(t,Ts(e,4),n,r,_c)}function po(t,e,n){var i=pf(t)?_:P,r=arguments.length<3;return i(t,Ts(e,4),n,r,gc)}function mo(t,e){var n=pf(t)?u:$n;return n(t,Eo(Ts(e,3)))}function bo(t){var e=pf(t)?An:rr;return e(t)}function To(t,e,n){e=(n?Os(t,e,n):e===et)?1:yu(e);var i=pf(t)?Pn:sr;return i(t,e)}function So(t){var e=pf(t)?Cn:or;return e(t)}function yo(t){if(null==t)return 0;if(Xo(t))return gu(t)?Q(t):t.length;var e=Pc(t);return e==Kt||e==ee?t.size:Ri(t).length}function wo(t,e,n){var i=pf(t)?g:lr;return n&&Os(t,e,n)&&(e=et),i(t,Ts(e,3))}function xo(t,e){if("function"!=typeof e)throw new hh(st);return t=yu(t),function(){if(--t<1)return e.apply(this,arguments)}}function Ao(t,e,n){return e=n?et:e,e=t&&null==e?t.length:e,us(t,St,et,et,et,et,e)}function Po(t,e){var n;if("function"!=typeof e)throw new hh(st);return t=yu(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=et),n}}function Co(t,e,n){e=n?et:e;var i=us(t,pt,et,et,et,et,et,e);return i.placeholder=Co.placeholder,i}function Mo(t,e,n){e=n?et:e;var i=us(t,mt,et,et,et,et,et,e);return i.placeholder=Mo.placeholder,i}function Io(t,e,n){function i(e){var n=f,i=d;return f=d=et,m=e,g=t.apply(i,n)}function r(t){return m=t,v=Ic(o,e),b?i(t):g}function s(t){var n=t-p,i=t-m,r=e-n;return T?Xh(r,_-i):r}function a(t){var n=t-p,i=t-m;return p===et||n>=e||n<0||T&&i>=_}function o(){var t=sf();return a(t)?u(t):void(v=Ic(o,s(t)))}function u(t){return v=et,S&&f?i(t):(f=d=et,g)}function l(){v!==et&&Sc(v),m=0,f=p=d=v=et}function h(){return v===et?g:u(sf())}function c(){var t=sf(),n=a(t);if(f=arguments,d=this,p=t,n){if(v===et)return r(p);if(T)return v=Ic(o,e),i(p)}return v===et&&(v=Ic(o,e)),g}var f,d,_,g,v,p,m=0,b=!1,T=!1,S=!0;if("function"!=typeof t)throw new hh(st);return e=xu(e)||0,ru(n)&&(b=!!n.leading,T="maxWait"in n,_=T?Uh(xu(n.maxWait)||0,e):_,S="trailing"in n?!!n.trailing:S),c.cancel=l,c.flush=h,c}function Go(t){return us(t,wt)}function Bo(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new hh(st);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],s=n.cache;if(s.has(r))return s.get(r);var a=t.apply(this,i);return n.cache=s.set(r,a)||s,a};return n.cache=new(Bo.Cache||ln),n}function Eo(t){if("function"!=typeof t)throw new hh(st);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Ho(t){return Po(2,t)}function Oo(t,e){if("function"!=typeof t)throw new hh(st);return e=e===et?e:yu(e),ir(t,e)}function ko(t,e){if("function"!=typeof t)throw new hh(st);return e=null==e?0:Uh(yu(e),0),ir(function(n){var r=n[e],s=Ar(n,0,e);return r&&f(s,r),i(t,this,s)})}function Do(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new hh(st);return ru(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Io(t,e,{leading:i,maxWait:e,trailing:r})}function Lo(t){return Ao(t,1)}function No(t,e){return cf(wr(e),t)}function Ro(){if(!arguments.length)return[];var t=arguments[0];return pf(t)?t:[t]}function Vo(t){return Ln(t,ct)}function zo(t,e){return e="function"==typeof e?e:et,Ln(t,ct,e)}function Fo(t){return Ln(t,lt|ct)}function jo(t,e){return e="function"==typeof e?e:et,Ln(t,lt|ct,e)}function Wo(t,e){return null==e||zn(t,e,Vu(e))}function Uo(t,e){return t===e||t!==t&&e!==e}function Xo(t){return null!=t&&iu(t.length)&&!eu(t)}function qo(t){return su(t)&&Xo(t)}function Ko(t){return t===!0||t===!1||su(t)&&ui(t)==Ft}function Zo(t){return su(t)&&1===t.nodeType&&!du(t)}function Qo(t){if(null==t)return!0;if(Xo(t)&&(pf(t)||"string"==typeof t||"function"==typeof t.splice||bf(t)||xf(t)||vf(t)))return!t.length;var e=Pc(t);if(e==Kt||e==ee)return!t.size;if(Rs(t))return!Ri(t).length;for(var n in t)if(vh.call(t,n))return!1;return!0}function $o(t,e){return Gi(t,e)}function Jo(t,e,n){n="function"==typeof n?n:et;var i=n?n(t,e):et;return i===et?Gi(t,e,et,n):!!i}function Yo(t){if(!su(t))return!1;var e=ui(t);return e==Ut||e==Wt||"string"==typeof t.message&&"string"==typeof t.name&&!du(t)}function tu(t){return"number"==typeof t&&Fh(t)}function eu(t){if(!ru(t))return!1;var e=ui(t);return e==Xt||e==qt||e==zt||e==Yt}function nu(t){return"number"==typeof t&&t==yu(t)}function iu(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Et}function ru(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function su(t){return null!=t&&"object"==typeof t}function au(t,e){return t===e||Hi(t,e,ys(e))}function ou(t,e,n){return n="function"==typeof n?n:et,Hi(t,e,ys(e),n)}function uu(t){return fu(t)&&t!=+t}function lu(t){if(Cc(t))throw new rh(rt);return Oi(t)}function hu(t){return null===t}function cu(t){return null==t}function fu(t){return"number"==typeof t||su(t)&&ui(t)==Zt}function du(t){if(!su(t)||ui(t)!=$t)return!1;var e=Ch(t);if(null===e)return!0;var n=vh.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&gh.call(n)==Th}function _u(t){return nu(t)&&t>=-Et&&t<=Et}function gu(t){return"string"==typeof t||!pf(t)&&su(t)&&ui(t)==ne}function vu(t){return"symbol"==typeof t||su(t)&&ui(t)==ie}function pu(t){return t===et}function mu(t){return su(t)&&Pc(t)==se}function bu(t){return su(t)&&ui(t)==ae}function Tu(t){if(!t)return[];if(Xo(t))return gu(t)?$(t):Dr(t);if(Eh&&t[Eh])return z(t[Eh]());var e=Pc(t),n=e==Kt?F:e==ee?X:Yu;return n(t)}function Su(t){if(!t)return 0===t?t:0;if(t=xu(t),t===Bt||t===-Bt){var e=t<0?-1:1;return e*Ht}return t===t?t:0}function yu(t){var e=Su(t),n=e%1;return e===e?n?e-n:e:0}function wu(t){return t?Dn(yu(t),0,kt):0}function xu(t){if("number"==typeof t)return t;if(vu(t))return Ot;if(ru(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ru(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(He,"");var n=We.test(t);return n||Xe.test(t)?ti(t.slice(2),n?2:8):je.test(t)?Ot:+t}function Au(t){return Lr(t,zu(t))}function Pu(t){return t?Dn(yu(t),-Et,Et):0===t?t:0}function Cu(t){return null==t?"":_r(t)}function Mu(t,e){var n=dc(t);return null==e?n:En(n,e)}function Iu(t,e){return m(t,Ts(e,3),ei)}function Gu(t,e){return m(t,Ts(e,3),ni)}function Bu(t,e){return null==t?t:vc(t,Ts(e,3),zu)}function Eu(t,e){return null==t?t:pc(t,Ts(e,3),zu)}function Hu(t,e){return t&&ei(t,Ts(e,3))}function Ou(t,e){return t&&ni(t,Ts(e,3))}function ku(t){return null==t?[]:ri(t,Vu(t))}function Du(t){return null==t?[]:ri(t,zu(t))}function Lu(t,e,n){var i=null==t?et:si(t,e);return i===et?n:i}function Nu(t,e){return null!=t&&Cs(t,e,bi)}function Ru(t,e){return null!=t&&Cs(t,e,yi)}function Vu(t){return Xo(t)?xn(t):Ri(t)}function zu(t){return Xo(t)?xn(t,!0):Vi(t)}function Fu(t,e){var n={};return e=Ts(e,3),ei(t,function(t,i,r){On(n,e(t,i,r),t)}),n}function ju(t,e){var n={};return e=Ts(e,3),ei(t,function(t,i,r){On(n,i,e(t,i,r))}),n}function Wu(t,e){return Uu(t,Eo(Ts(e)))}function Uu(t,e){if(null==t)return{};var n=c(ps(t),function(t){return[t]});return e=Ts(e),Qi(t,n,function(t,n){return e(t,n[0])})}function Xu(t,e,n){e=xr(e,t);var i=-1,r=e.length;for(r||(r=1,t=et);++i<r;){var s=null==t?et:t[Js(e[i])];s===et&&(i=r,s=n),t=eu(s)?s.call(t):s}return t}function qu(t,e,n){return null==t?t:ar(t,e,n)}function Ku(t,e,n,i){return i="function"==typeof i?i:et,null==t?t:ar(t,e,n,i)}function Zu(t,e,n){var i=pf(t),r=i||bf(t)||xf(t);if(e=Ts(e,4),null==n){var a=t&&t.constructor;n=r?i?new a:[]:ru(t)&&eu(a)?dc(Ch(t)):{}}return(r?s:ei)(t,function(t,i,r){return e(n,t,i,r)}),n}function Qu(t,e){return null==t||vr(t,e)}function $u(t,e,n){return null==t?t:pr(t,e,wr(n))}function Ju(t,e,n,i){return i="function"==typeof i?i:et,null==t?t:pr(t,e,wr(n),i)}function Yu(t){return null==t?[]:E(t,Vu(t))}function tl(t){return null==t?[]:E(t,zu(t))}function el(t,e,n){return n===et&&(n=e,e=et),n!==et&&(n=xu(n),n=n===n?n:0),e!==et&&(e=xu(e),e=e===e?e:0),Dn(xu(t),e,n)}function nl(t,e,n){return e=Su(e),n===et?(n=e,e=0):n=Su(n),t=xu(t),wi(t,e,n)}function il(t,e,n){if(n&&"boolean"!=typeof n&&Os(t,e,n)&&(e=n=et),n===et&&("boolean"==typeof e?(n=e,e=et):"boolean"==typeof t&&(n=t,t=et)),t===et&&e===et?(t=0,e=1):(t=Su(t),e===et?(e=t,t=0):e=Su(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=Zh();return Xh(t+r*(e-t+Yn("1e-"+((r+"").length-1))),e)}return tr(t,e)}function rl(t){return Qf(Cu(t).toLowerCase())}function sl(t){return t=Cu(t),t&&t.replace(Ke,vi).replace(Vn,"")}function al(t,e,n){t=Cu(t),e=_r(e);var i=t.length;n=n===et?i:Dn(yu(n),0,i);var r=n;return n-=e.length,n>=0&&t.slice(n,r)==e}function ol(t){return t=Cu(t),t&&xe.test(t)?t.replace(ye,pi):t}function ul(t){return t=Cu(t),t&&Ee.test(t)?t.replace(Be,"\\$&"):t}function ll(t,e,n){t=Cu(t),e=yu(e);var i=e?Q(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return es(Rh(r),n)+t+es(Nh(r),n)}function hl(t,e,n){t=Cu(t),e=yu(e);var i=e?Q(t):0;return e&&i<e?t+es(e-i,n):t}function cl(t,e,n){t=Cu(t),e=yu(e);var i=e?Q(t):0;return e&&i<e?es(e-i,n)+t:t}function fl(t,e,n){return n||null==e?e=0:e&&(e=+e),Kh(Cu(t).replace(Oe,""),e||0)}function dl(t,e,n){return e=(n?Os(t,e,n):e===et)?1:yu(e),nr(Cu(t),e)}function _l(){var t=arguments,e=Cu(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function gl(t,e,n){return n&&"number"!=typeof n&&Os(t,e,n)&&(e=n=et),(n=n===et?kt:n>>>0)?(t=Cu(t),t&&("string"==typeof e||null!=e&&!yf(e))&&(e=_r(e),!e&&R(t))?Ar($(t),0,n):t.split(e,n)):[]}function vl(t,e,n){return t=Cu(t),n=null==n?0:Dn(yu(n),0,t.length),e=_r(e),t.slice(n,n+e.length)==e}function pl(t,n,i){var r=e.templateSettings;i&&Os(t,n,i)&&(n=et),t=Cu(t),n=If({},n,r,ls);var s,a,o=If({},n.imports,r.imports,ls),u=Vu(o),l=E(o,u),h=0,c=n.interpolate||Ze,f="__p += '",d=uh((n.escape||Ze).source+"|"+c.source+"|"+(c===Ce?ze:Ze).source+"|"+(n.evaluate||Ze).source+"|$","g"),_="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Xn+"]")+"\n";t.replace(d,function(e,n,i,r,o,u){return i||(i=r),f+=t.slice(h,u).replace(Qe,L),n&&(s=!0,f+="' +\n__e("+n+") +\n'"),o&&(a=!0,f+="';\n"+o+";\n__p += '"),i&&(f+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),h=u+e.length,e}),f+="';\n";var g=n.variable;g||(f="with (obj) {\n"+f+"\n}\n"),f=(a?f.replace(me,""):f).replace(be,"$1").replace(Te,"$1;"),f="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=$f(function(){return sh(u,_+"return "+f).apply(et,l)});if(v.source=f,Yo(v))throw v;return v}function ml(t){return Cu(t).toLowerCase()}function bl(t){return Cu(t).toUpperCase()}function Tl(t,e,n){if(t=Cu(t),t&&(n||e===et))return t.replace(He,"");if(!t||!(e=_r(e)))return t;var i=$(t),r=$(e),s=O(i,r),a=k(i,r)+1;return Ar(i,s,a).join("")}function Sl(t,e,n){if(t=Cu(t),t&&(n||e===et))return t.replace(ke,"");if(!t||!(e=_r(e)))return t;var i=$(t),r=k(i,$(e))+1;return Ar(i,0,r).join("")}function yl(t,e,n){if(t=Cu(t),t&&(n||e===et))return t.replace(Oe,"");if(!t||!(e=_r(e)))return t;var i=$(t),r=O(i,$(e));return Ar(i,r).join("")}function wl(t,e){var n=xt,i=At;if(ru(e)){var r="separator"in e?e.separator:r;n="length"in e?yu(e.length):n,i="omission"in e?_r(e.omission):i}t=Cu(t);var s=t.length;if(R(t)){var a=$(t);s=a.length}if(n>=s)return t;var o=n-Q(i);if(o<1)return i;var u=a?Ar(a,0,o).join(""):t.slice(0,o);if(r===et)return u+i;if(a&&(o+=u.length-o),yf(r)){if(t.slice(o).search(r)){var l,h=u;for(r.global||(r=uh(r.source,Cu(Fe.exec(r))+"g")),r.lastIndex=0;l=r.exec(h);)var c=l.index;u=u.slice(0,c===et?o:c)}}else if(t.indexOf(_r(r),o)!=o){var f=u.lastIndexOf(r);f>-1&&(u=u.slice(0,f))}return u+i}function xl(t){return t=Cu(t),t&&we.test(t)?t.replace(Se,mi):t}function Al(t,e,n){return t=Cu(t),e=n?et:e,e===et?V(t)?tt(t):p(t):t.match(e)||[]}function Pl(t){var e=null==t?0:t.length,n=Ts();return t=e?c(t,function(t){if("function"!=typeof t[1])throw new hh(st);return[n(t[0]),t[1]]}):[],ir(function(n){for(var r=-1;++r<e;){var s=t[r];if(i(s[0],this,n))return i(s[1],this,n)}})}function Cl(t){return Nn(Ln(t,lt))}function Ml(t){return function(){return t}}function Il(t,e){return null==t||t!==t?e:t}function Gl(t){return t}function Bl(t){return Ni("function"==typeof t?t:Ln(t,lt))}function El(t){return ji(Ln(t,lt))}function Hl(t,e){return Wi(t,Ln(e,lt))}function Ol(t,e,n){var i=Vu(e),r=ri(e,i);null!=n||ru(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=ri(e,Vu(e)));var a=!(ru(n)&&"chain"in n&&!n.chain),o=eu(t);return s(r,function(n){var i=e[n];t[n]=i,o&&(t.prototype[n]=function(){var e=this.__chain__;if(a||e){var n=t(this.__wrapped__),r=n.__actions__=Dr(this.__actions__);return r.push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,f([this.value()],arguments))})}),t}function kl(){return ii._===this&&(ii._=Sh),this}function Dl(){}function Ll(t){return t=yu(t),ir(function(e){return qi(e,t)})}function Nl(t){return ks(t)?x(Js(t)):$i(t)}function Rl(t){return function(e){return null==t?et:si(t,e)}}function Vl(){return[]}function zl(){return!1}function Fl(){return{}}function jl(){return""}function Wl(){return!0}function Ul(t,e){if(t=yu(t),t<1||t>Et)return[];var n=kt,i=Xh(t,kt);e=Ts(e),t-=kt;for(var r=I(i,e);++n<t;)e(n);return r}function Xl(t){return pf(t)?c(t,Js):vu(t)?[t]:Dr(Bc(Cu(t)))}function ql(t){var e=++ph;return Cu(t)+e}function Kl(t){return t&&t.length?Zn(t,Gl,gi):et}function Zl(t,e){return t&&t.length?Zn(t,Ts(e,2),gi):et}function Ql(t){return w(t,Gl)}function $l(t,e){return w(t,Ts(e,2))}function Jl(t){return t&&t.length?Zn(t,Gl,zi):et}function Yl(t,e){return t&&t.length?Zn(t,Ts(e,2),zi):et}function th(t){return t&&t.length?M(t,Gl):0}function eh(t,e){return t&&t.length?M(t,Ts(e,2)):0}t=null==t?ii:Ti.defaults(ii.Object(),t,Ti.pick(ii,Un));var nh=t.Array,ih=t.Date,rh=t.Error,sh=t.Function,ah=t.Math,oh=t.Object,uh=t.RegExp,lh=t.String,hh=t.TypeError,ch=nh.prototype,fh=sh.prototype,dh=oh.prototype,_h=t["__core-js_shared__"],gh=fh.toString,vh=dh.hasOwnProperty,ph=0,mh=function(){var t=/[^.]+$/.exec(_h&&_h.keys&&_h.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),bh=dh.toString,Th=gh.call(oh),Sh=ii._,yh=uh("^"+gh.call(vh).replace(Be,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wh=ai?t.Buffer:et,xh=t.Symbol,Ah=t.Uint8Array,Ph=wh?wh.allocUnsafe:et,Ch=j(oh.getPrototypeOf,oh),Mh=oh.create,Ih=dh.propertyIsEnumerable,Gh=ch.splice,Bh=xh?xh.isConcatSpreadable:et,Eh=xh?xh.iterator:et,Hh=xh?xh.toStringTag:et,Oh=function(){try{var t=ws(oh,"defineProperty");return t({},"",{}),t}catch(e){}}(),kh=t.clearTimeout!==ii.clearTimeout&&t.clearTimeout,Dh=ih&&ih.now!==ii.Date.now&&ih.now,Lh=t.setTimeout!==ii.setTimeout&&t.setTimeout,Nh=ah.ceil,Rh=ah.floor,Vh=oh.getOwnPropertySymbols,zh=wh?wh.isBuffer:et,Fh=t.isFinite,jh=ch.join,Wh=j(oh.keys,oh),Uh=ah.max,Xh=ah.min,qh=ih.now,Kh=t.parseInt,Zh=ah.random,Qh=ch.reverse,$h=ws(t,"DataView"),Jh=ws(t,"Map"),Yh=ws(t,"Promise"),tc=ws(t,"Set"),ec=ws(t,"WeakMap"),nc=ws(oh,"create"),ic=ec&&new ec,rc={},sc=Ys($h),ac=Ys(Jh),oc=Ys(Yh),uc=Ys(tc),lc=Ys(ec),hc=xh?xh.prototype:et,cc=hc?hc.valueOf:et,fc=hc?hc.toString:et,dc=function(){function t(){}return function(e){if(!ru(e))return{};if(Mh)return Mh(e);t.prototype=e;var n=new t;return t.prototype=et,n}}();e.templateSettings={escape:Ae,evaluate:Pe,interpolate:Ce,variable:"",imports:{_:e}},e.prototype=n.prototype,e.prototype.constructor=e,v.prototype=dc(n.prototype),v.prototype.constructor=v,A.prototype=dc(n.prototype),A.prototype.constructor=A,Re.prototype.clear=$e,Re.prototype["delete"]=Je,Re.prototype.get=Ye,Re.prototype.has=tn,Re.prototype.set=en,nn.prototype.clear=rn,nn.prototype["delete"]=sn,nn.prototype.get=an,nn.prototype.has=on,nn.prototype.set=un,ln.prototype.clear=hn,ln.prototype["delete"]=cn,ln.prototype.get=fn,ln.prototype.has=dn,ln.prototype.set=_n,gn.prototype.add=gn.prototype.push=vn,gn.prototype.has=pn,mn.prototype.clear=bn,mn.prototype["delete"]=Tn,mn.prototype.get=Sn,mn.prototype.has=yn,mn.prototype.set=wn;var _c=Fr(ei),gc=Fr(ni,!0),vc=jr(),pc=jr(!0),mc=ic?function(t,e){return ic.set(t,e),t}:Gl,bc=Oh?function(t,e){return Oh(t,"toString",{configurable:!0,enumerable:!1,value:Ml(e),writable:!0})}:Gl,Tc=ir,Sc=kh||function(t){return ii.clearTimeout(t)},yc=tc&&1/X(new tc([,-0]))[1]==Bt?function(t){return new tc(t)}:Dl,wc=ic?function(t){return ic.get(t)}:Dl,xc=Vh?function(t){return null==t?[]:(t=oh(t),u(Vh(t),function(e){return Ih.call(t,e)}))}:Vl,Ac=Vh?function(t){for(var e=[];t;)f(e,xc(t)),t=Ch(t);return e}:Vl,Pc=ui;($h&&Pc(new $h(new ArrayBuffer(1)))!=ue||Jh&&Pc(new Jh)!=Kt||Yh&&Pc(Yh.resolve())!=Jt||tc&&Pc(new tc)!=ee||ec&&Pc(new ec)!=se)&&(Pc=function(t){var e=ui(t),n=e==$t?t.constructor:et,i=n?Ys(n):"";if(i)switch(i){case sc:return ue;case ac:return Kt;case oc:return Jt;case uc:return ee;case lc:return se}return e});var Cc=_h?eu:zl,Mc=Qs(mc),Ic=Lh||function(t,e){return ii.setTimeout(t,e)},Gc=Qs(bc),Bc=Fs(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Ge,function(t,n,i,r){e.push(i?r.replace(Ve,"$1"):n||t)}),e}),Ec=ir(function(t,e){return qo(t)?jn(t,Jn(e,1,qo,!0)):[]}),Hc=ir(function(t,e){var n=Ta(e);return qo(n)&&(n=et),qo(t)?jn(t,Jn(e,1,qo,!0),Ts(n,2)):[]}),Oc=ir(function(t,e){var n=Ta(e);return qo(n)&&(n=et),qo(t)?jn(t,Jn(e,1,qo,!0),et,n):[]}),kc=ir(function(t){var e=c(t,yr);return e.length&&e[0]===t[0]?xi(e):[]}),Dc=ir(function(t){var e=Ta(t),n=c(t,yr);return e===Ta(n)?e=et:n.pop(),n.length&&n[0]===t[0]?xi(n,Ts(e,2)):[]}),Lc=ir(function(t){var e=Ta(t),n=c(t,yr);return e="function"==typeof e?e:et,e&&n.pop(),n.length&&n[0]===t[0]?xi(n,et,e):[]}),Nc=ir(wa),Rc=gs(function(t,e){var n=null==t?0:t.length,i=kn(t,e);return Yi(t,c(e,function(t){return Hs(t,n)?+t:t}).sort(Er)),i}),Vc=ir(function(t){return gr(Jn(t,1,qo,!0))}),zc=ir(function(t){var e=Ta(t);return qo(e)&&(e=et),gr(Jn(t,1,qo,!0),Ts(e,2))}),Fc=ir(function(t){var e=Ta(t);return e="function"==typeof e?e:et,gr(Jn(t,1,qo,!0),et,e)}),jc=ir(function(t,e){return qo(t)?jn(t,e):[]}),Wc=ir(function(t){return Tr(u(t,qo))}),Uc=ir(function(t){var e=Ta(t);return qo(e)&&(e=et),Tr(u(t,qo),Ts(e,2))}),Xc=ir(function(t){var e=Ta(t);return e="function"==typeof e?e:et,
Tr(u(t,qo),et,e)}),qc=ir(Ua),Kc=ir(function(t){var e=t.length,n=e>1?t[e-1]:et;return n="function"==typeof n?(t.pop(),n):et,Xa(t,n)}),Zc=gs(function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,r=function(e){return kn(e,t)};return!(e>1||this.__actions__.length)&&i instanceof A&&Hs(n)?(i=i.slice(n,+n+(e?1:0)),i.__actions__.push({func:$a,args:[r],thisArg:et}),new v(i,this.__chain__).thru(function(t){return e&&!t.length&&t.push(et),t})):this.thru(r)}),Qc=Vr(function(t,e,n){vh.call(t,n)?++t[n]:On(t,n,1)}),$c=Zr(ha),Jc=Zr(ca),Yc=Vr(function(t,e,n){vh.call(t,n)?t[n].push(e):On(t,n,[e])}),tf=ir(function(t,e,n){var r=-1,s="function"==typeof e,a=Xo(t)?nh(t.length):[];return _c(t,function(t){a[++r]=s?i(e,t,n):Pi(t,e,n)}),a}),ef=Vr(function(t,e,n){On(t,n,e)}),nf=Vr(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),rf=ir(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Os(t,e[0],e[1])?e=[]:n>2&&Os(e[0],e[1],e[2])&&(e=[e[0]]),Ki(t,Jn(e,1),[])}),sf=Dh||function(){return ii.Date.now()},af=ir(function(t,e,n){var i=_t;if(n.length){var r=W(n,bs(af));i|=bt}return us(t,i,e,n,r)}),of=ir(function(t,e,n){var i=_t|gt;if(n.length){var r=W(n,bs(of));i|=bt}return us(e,i,t,n,r)}),uf=ir(function(t,e){return Fn(t,1,e)}),lf=ir(function(t,e,n){return Fn(t,xu(e)||0,n)});Bo.Cache=ln;var hf=Tc(function(t,e){e=1==e.length&&pf(e[0])?c(e[0],B(Ts())):c(Jn(e,1),B(Ts()));var n=e.length;return ir(function(r){for(var s=-1,a=Xh(r.length,n);++s<a;)r[s]=e[s].call(this,r[s]);return i(t,this,r)})}),cf=ir(function(t,e){var n=W(e,bs(cf));return us(t,bt,et,e,n)}),ff=ir(function(t,e){var n=W(e,bs(ff));return us(t,Tt,et,e,n)}),df=gs(function(t,e){return us(t,yt,et,et,et,e)}),_f=rs(gi),gf=rs(function(t,e){return t>=e}),vf=Ci(function(){return arguments}())?Ci:function(t){return su(t)&&vh.call(t,"callee")&&!Ih.call(t,"callee")},pf=nh.isArray,mf=li?B(li):Mi,bf=zh||zl,Tf=hi?B(hi):Ii,Sf=ci?B(ci):Ei,yf=fi?B(fi):ki,wf=di?B(di):Di,xf=_i?B(_i):Li,Af=rs(zi),Pf=rs(function(t,e){return t<=e}),Cf=zr(function(t,e){if(Rs(e)||Xo(e))return void Lr(e,Vu(e),t);for(var n in e)vh.call(e,n)&&In(t,n,e[n])}),Mf=zr(function(t,e){Lr(e,zu(e),t)}),If=zr(function(t,e,n,i){Lr(e,zu(e),t,i)}),Gf=zr(function(t,e,n,i){Lr(e,Vu(e),t,i)}),Bf=gs(kn),Ef=ir(function(t,e){t=oh(t);var n=-1,i=e.length,r=i>2?e[2]:et;for(r&&Os(e[0],e[1],r)&&(i=1);++n<i;)for(var s=e[n],a=zu(s),o=-1,u=a.length;++o<u;){var l=a[o],h=t[l];(h===et||Uo(h,dh[l])&&!vh.call(t,l))&&(t[l]=s[l])}return t}),Hf=ir(function(t){return t.push(et,hs),i(Nf,et,t)}),Of=Jr(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=bh.call(e)),t[e]=n},Ml(Gl)),kf=Jr(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=bh.call(e)),vh.call(t,e)?t[e].push(n):t[e]=[n]},Ts),Df=ir(Pi),Lf=zr(function(t,e,n){Ui(t,e,n)}),Nf=zr(function(t,e,n,i){Ui(t,e,n,i)}),Rf=gs(function(t,e){var n={};if(null==t)return n;var i=!1;e=c(e,function(e){return e=xr(e,t),i||(i=e.length>1),e}),Lr(t,ps(t),n),i&&(n=Ln(n,lt|ht|ct,cs));for(var r=e.length;r--;)vr(n,e[r]);return n}),Vf=gs(function(t,e){return null==t?{}:Zi(t,e)}),zf=os(Vu),Ff=os(zu),jf=Xr(function(t,e,n){return e=e.toLowerCase(),t+(n?rl(e):e)}),Wf=Xr(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Uf=Xr(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Xf=Ur("toLowerCase"),qf=Xr(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Kf=Xr(function(t,e,n){return t+(n?" ":"")+Qf(e)}),Zf=Xr(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Qf=Ur("toUpperCase"),$f=ir(function(t,e){try{return i(t,et,e)}catch(n){return Yo(n)?n:new rh(n)}}),Jf=gs(function(t,e){return s(e,function(e){e=Js(e),On(t,e,af(t[e],t))}),t}),Yf=Qr(),td=Qr(!0),ed=ir(function(t,e){return function(n){return Pi(n,t,e)}}),nd=ir(function(t,e){return function(n){return Pi(t,n,e)}}),id=ts(c),rd=ts(o),sd=ts(g),ad=is(),od=is(!0),ud=Yr(function(t,e){return t+e},0),ld=as("ceil"),hd=Yr(function(t,e){return t/e},1),cd=as("floor"),fd=Yr(function(t,e){return t*e},1),dd=as("round"),_d=Yr(function(t,e){return t-e},0);return e.after=xo,e.ary=Ao,e.assign=Cf,e.assignIn=Mf,e.assignInWith=If,e.assignWith=Gf,e.at=Bf,e.before=Po,e.bind=af,e.bindAll=Jf,e.bindKey=of,e.castArray=Ro,e.chain=Za,e.chunk=na,e.compact=ia,e.concat=ra,e.cond=Pl,e.conforms=Cl,e.constant=Ml,e.countBy=Qc,e.create=Mu,e.curry=Co,e.curryRight=Mo,e.debounce=Io,e.defaults=Ef,e.defaultsDeep=Hf,e.defer=uf,e.delay=lf,e.difference=Ec,e.differenceBy=Hc,e.differenceWith=Oc,e.drop=sa,e.dropRight=aa,e.dropRightWhile=oa,e.dropWhile=ua,e.fill=la,e.filter=ao,e.flatMap=oo,e.flatMapDeep=uo,e.flatMapDepth=lo,e.flatten=fa,e.flattenDeep=da,e.flattenDepth=_a,e.flip=Go,e.flow=Yf,e.flowRight=td,e.fromPairs=ga,e.functions=ku,e.functionsIn=Du,e.groupBy=Yc,e.initial=ma,e.intersection=kc,e.intersectionBy=Dc,e.intersectionWith=Lc,e.invert=Of,e.invertBy=kf,e.invokeMap=tf,e.iteratee=Bl,e.keyBy=ef,e.keys=Vu,e.keysIn=zu,e.map=_o,e.mapKeys=Fu,e.mapValues=ju,e.matches=El,e.matchesProperty=Hl,e.memoize=Bo,e.merge=Lf,e.mergeWith=Nf,e.method=ed,e.methodOf=nd,e.mixin=Ol,e.negate=Eo,e.nthArg=Ll,e.omit=Rf,e.omitBy=Wu,e.once=Ho,e.orderBy=go,e.over=id,e.overArgs=hf,e.overEvery=rd,e.overSome=sd,e.partial=cf,e.partialRight=ff,e.partition=nf,e.pick=Vf,e.pickBy=Uu,e.property=Nl,e.propertyOf=Rl,e.pull=Nc,e.pullAll=wa,e.pullAllBy=xa,e.pullAllWith=Aa,e.pullAt=Rc,e.range=ad,e.rangeRight=od,e.rearg=df,e.reject=mo,e.remove=Pa,e.rest=Oo,e.reverse=Ca,e.sampleSize=To,e.set=qu,e.setWith=Ku,e.shuffle=So,e.slice=Ma,e.sortBy=rf,e.sortedUniq=ka,e.sortedUniqBy=Da,e.split=gl,e.spread=ko,e.tail=La,e.take=Na,e.takeRight=Ra,e.takeRightWhile=Va,e.takeWhile=za,e.tap=Qa,e.throttle=Do,e.thru=$a,e.toArray=Tu,e.toPairs=zf,e.toPairsIn=Ff,e.toPath=Xl,e.toPlainObject=Au,e.transform=Zu,e.unary=Lo,e.union=Vc,e.unionBy=zc,e.unionWith=Fc,e.uniq=Fa,e.uniqBy=ja,e.uniqWith=Wa,e.unset=Qu,e.unzip=Ua,e.unzipWith=Xa,e.update=$u,e.updateWith=Ju,e.values=Yu,e.valuesIn=tl,e.without=jc,e.words=Al,e.wrap=No,e.xor=Wc,e.xorBy=Uc,e.xorWith=Xc,e.zip=qc,e.zipObject=qa,e.zipObjectDeep=Ka,e.zipWith=Kc,e.entries=zf,e.entriesIn=Ff,e.extend=Mf,e.extendWith=If,Ol(e,e),e.add=ud,e.attempt=$f,e.camelCase=jf,e.capitalize=rl,e.ceil=ld,e.clamp=el,e.clone=Vo,e.cloneDeep=Fo,e.cloneDeepWith=jo,e.cloneWith=zo,e.conformsTo=Wo,e.deburr=sl,e.defaultTo=Il,e.divide=hd,e.endsWith=al,e.eq=Uo,e.escape=ol,e.escapeRegExp=ul,e.every=so,e.find=$c,e.findIndex=ha,e.findKey=Iu,e.findLast=Jc,e.findLastIndex=ca,e.findLastKey=Gu,e.floor=cd,e.forEach=ho,e.forEachRight=co,e.forIn=Bu,e.forInRight=Eu,e.forOwn=Hu,e.forOwnRight=Ou,e.get=Lu,e.gt=_f,e.gte=gf,e.has=Nu,e.hasIn=Ru,e.head=va,e.identity=Gl,e.includes=fo,e.indexOf=pa,e.inRange=nl,e.invoke=Df,e.isArguments=vf,e.isArray=pf,e.isArrayBuffer=mf,e.isArrayLike=Xo,e.isArrayLikeObject=qo,e.isBoolean=Ko,e.isBuffer=bf,e.isDate=Tf,e.isElement=Zo,e.isEmpty=Qo,e.isEqual=$o,e.isEqualWith=Jo,e.isError=Yo,e.isFinite=tu,e.isFunction=eu,e.isInteger=nu,e.isLength=iu,e.isMap=Sf,e.isMatch=au,e.isMatchWith=ou,e.isNaN=uu,e.isNative=lu,e.isNil=cu,e.isNull=hu,e.isNumber=fu,e.isObject=ru,e.isObjectLike=su,e.isPlainObject=du,e.isRegExp=yf,e.isSafeInteger=_u,e.isSet=wf,e.isString=gu,e.isSymbol=vu,e.isTypedArray=xf,e.isUndefined=pu,e.isWeakMap=mu,e.isWeakSet=bu,e.join=ba,e.kebabCase=Wf,e.last=Ta,e.lastIndexOf=Sa,e.lowerCase=Uf,e.lowerFirst=Xf,e.lt=Af,e.lte=Pf,e.max=Kl,e.maxBy=Zl,e.mean=Ql,e.meanBy=$l,e.min=Jl,e.minBy=Yl,e.stubArray=Vl,e.stubFalse=zl,e.stubObject=Fl,e.stubString=jl,e.stubTrue=Wl,e.multiply=fd,e.nth=ya,e.noConflict=kl,e.noop=Dl,e.now=sf,e.pad=ll,e.padEnd=hl,e.padStart=cl,e.parseInt=fl,e.random=il,e.reduce=vo,e.reduceRight=po,e.repeat=dl,e.replace=_l,e.result=Xu,e.round=dd,e.runInContext=Si,e.sample=bo,e.size=yo,e.snakeCase=qf,e.some=wo,e.sortedIndex=Ia,e.sortedIndexBy=Ga,e.sortedIndexOf=Ba,e.sortedLastIndex=Ea,e.sortedLastIndexBy=Ha,e.sortedLastIndexOf=Oa,e.startCase=Kf,e.startsWith=vl,e.subtract=_d,e.sum=th,e.sumBy=eh,e.template=pl,e.times=Ul,e.toFinite=Su,e.toInteger=yu,e.toLength=wu,e.toLower=ml,e.toNumber=xu,e.toSafeInteger=Pu,e.toString=Cu,e.toUpper=bl,e.trim=Tl,e.trimEnd=Sl,e.trimStart=yl,e.truncate=wl,e.unescape=xl,e.uniqueId=ql,e.upperCase=Zf,e.upperFirst=Qf,e.each=ho,e.eachRight=co,e.first=va,Ol(e,function(){var t={};return ei(e,function(n,i){vh.call(e.prototype,i)||(t[i]=n)}),t}(),{chain:!1}),e.VERSION=nt,s(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),s(["drop","take"],function(t,e){A.prototype[t]=function(n){n=n===et?1:Uh(yu(n),0);var i=this.__filtered__&&!e?new A(this):this.clone();return i.__filtered__?i.__takeCount__=Xh(n,i.__takeCount__):i.__views__.push({size:Xh(n,kt),type:t+(i.__dir__<0?"Right":"")}),i},A.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),s(["filter","map","takeWhile"],function(t,e){var n=e+1,i=n==Mt||n==Gt;A.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Ts(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}}),s(["head","last"],function(t,e){var n="take"+(e?"Right":"");A.prototype[t]=function(){return this[n](1).value()[0]}}),s(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");A.prototype[t]=function(){return this.__filtered__?new A(this):this[n](1)}}),A.prototype.compact=function(){return this.filter(Gl)},A.prototype.find=function(t){return this.filter(t).head()},A.prototype.findLast=function(t){return this.reverse().find(t)},A.prototype.invokeMap=ir(function(t,e){return"function"==typeof t?new A(this):this.map(function(n){return Pi(n,t,e)})}),A.prototype.reject=function(t){return this.filter(Eo(Ts(t)))},A.prototype.slice=function(t,e){t=yu(t);var n=this;return n.__filtered__&&(t>0||e<0)?new A(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==et&&(e=yu(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},A.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},A.prototype.toArray=function(){return this.take(kt)},ei(A.prototype,function(t,n){var i=/^(?:filter|find|map|reject)|While$/.test(n),r=/^(?:head|last)$/.test(n),s=e[r?"take"+("last"==n?"Right":""):n],a=r||/^find/.test(n);s&&(e.prototype[n]=function(){var n=this.__wrapped__,o=r?[1]:arguments,u=n instanceof A,l=o[0],h=u||pf(n),c=function(t){var n=s.apply(e,f([t],o));return r&&d?n[0]:n};h&&i&&"function"==typeof l&&1!=l.length&&(u=h=!1);var d=this.__chain__,_=!!this.__actions__.length,g=a&&!d,p=u&&!_;if(!a&&h){n=p?n:new A(this);var m=t.apply(n,o);return m.__actions__.push({func:$a,args:[c],thisArg:et}),new v(m,d)}return g&&p?t.apply(this,o):(m=this.thru(c),g?r?m.value()[0]:m.value():m)})}),s(["pop","push","shift","sort","splice","unshift"],function(t){var n=ch[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var e=this.value();return n.apply(pf(e)?e:[],t)}return this[i](function(e){return n.apply(pf(e)?e:[],t)})}}),ei(A.prototype,function(t,n){var i=e[n];if(i){var r=i.name+"",s=rc[r]||(rc[r]=[]);s.push({name:n,func:i})}}),rc[$r(et,gt).name]=[{name:"wrapper",func:et}],A.prototype.clone=K,A.prototype.reverse=J,A.prototype.value=Y,e.prototype.at=Zc,e.prototype.chain=Ja,e.prototype.commit=Ya,e.prototype.next=to,e.prototype.plant=no,e.prototype.reverse=io,e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=ro,e.prototype.first=e.prototype.head,Eh&&(e.prototype[Eh]=eo),e},Ti=bi();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(ii._=Ti,define(function(){return Ti})):si?((si.exports=Ti)._=Ti,ri._=Ti):ii._=Ti}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(t,e,n){!function(t,e){t(function(){"use strict";function t(t,e){return null!=t&&null!=e&&t.toLowerCase()===e.toLowerCase()}function n(t,e){var n,i,r=t.length;if(!r||!e)return!1;for(n=e.toLowerCase(),i=0;i<r;++i)if(n===t[i].toLowerCase())return!0;return!1}function i(t){for(var e in t)u.call(t,e)&&(t[e]=new RegExp(t[e],"i"))}function r(t){return(t||"").substr(0,500)}function s(t,e){this.ua=r(t),this._cache={},this.maxPhoneWidth=e||600}var a={};a.mobileDetectRules={phones:{iPhone:"\\biPhone\\b|\\biPod\\b",BlackBerry:"BlackBerry|\\bBB10\\b|rim[0-9]+",HTC:"HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\bEVO\\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel",Nexus:"Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6",Dell:"Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\\b001DL\\b|\\b101DL\\b|\\bGS01\\b",Motorola:"Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092",Samsung:"\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535|SM-N900A|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F",LG:"\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|MS323)",Sony:"SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533",Asus:"Asus.*Galaxy|PadFone.*Mobile",NokiaLumia:"Lumia [0-9]{3,4}",Micromax:"Micromax.*\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\b",Palm:"PalmSource|Palm",Vertu:"Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature",Pantech:"PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790",Fly:"IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250",Wiko:"KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|CINK KING|CINK PEAX|CINK SLIM|SUBLIM",iMobile:"i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)",SimValley:"\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\b",Wolfgang:"AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q",Alcatel:"Alcatel",Nintendo:"Nintendo 3DS",Amoi:"Amoi",INQ:"INQ",GenericPhone:"Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\bwap\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser"},tablets:{iPad:"iPad|iPad.*Mobile",NexusTablet:"Android.*Nexus[\\s]+(7|9|10)",SamsungTablet:"SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|SM-T719|SM-T813|SM-T819|SM-T580|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|SM-P555M|SM-P355M|SM-T113NU|SM-T815Y",Kindle:"Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome/[0-9.]+ (?!Mobile)",SurfaceTablet:"Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)",HPTablet:"HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10",AsusTablet:"^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b",BlackBerryTablet:"PlayBook|RIM Tablet",HTCtablet:"HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410",MotorolaTablet:"xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617",NookTablet:"Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2",AcerTablet:"Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\\bA3-A20\\b|\\bA3-A30",ToshibaTablet:"Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO",LGTablet:"\\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\\b",FujitsuTablet:"Android.*\\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\\b",PrestigioTablet:"PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|PMT5887|PMT5001|PMT5002",LenovoTablet:"Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|B8000|B8080)(-|)(FL|F|HV|H|)|TB-X103F|TB-X304F|TB-8703F",DellTablet:"Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7",YarvikTablet:"Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b",MedionTablet:"Android.*\\bOYO\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB",ArnovaTablet:"97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2",IntensoTablet:"INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004",IRUTablet:"M702pro",MegafonTablet:"MegaFon V9|\\bZTE V9\\b|Android.*\\bMT7A\\b",EbodaTablet:"E-Boda (Supreme|Impresspeed|Izzycomm|Essential)",AllViewTablet:"Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)",ArchosTablet:"\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10| Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b",AinolTablet:"NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark",NokiaLumiaTablet:"Lumia 2520",SonyTablet:"Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP612|SOT31",PhilipsTablet:"\\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\\b",CubeTablet:"Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT",CobyTablet:"MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010",MIDTablet:"M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10",MSITablet:"MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b",SMiTTablet:"Android.*(\\bMID\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)",RockChipTablet:"Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A",FlyTablet:"IQ310|Fly Vision",bqTablet:"Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus",HuaweiTablet:"MediaPad|MediaPad 7 Youth|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim|M2-A01L",NecTablet:"\\bN-06D|\\bN-08D",PantechTablet:"Pantech.*P4100",BronchoTablet:"Broncho.*(N701|N708|N802|a710)",VersusTablet:"TOUCHPAD.*[78910]|\\bTOUCHTAB\\b",ZyncTablet:"z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900",PositivoTablet:"TB07STA|TB10STA|TB07FTA|TB10FTA",NabiTablet:"Android.*\\bNabi",KoboTablet:"Kobo Touch|\\bK080\\b|\\bVox\\b Build|\\bArc\\b Build",DanewTablet:"DSlide.*\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\b",TexetTablet:"NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE",PlaystationTablet:"Playstation.*(Portable|Vita)",TrekstorTablet:"ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab",PyleAudioTablet:"\\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\\b",AdvanTablet:"Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b ",DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:"Android.*\\bG1\\b",MicromaxTablet:"Funbook|Micromax.*\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\b",KarbonnTablet:"Android.*\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\b",AllFineTablet:"Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide",PROSCANTablet:"\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b",YONESTablet:"BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026",ChangJiaTablet:"TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503",GUTablet:"TX-A1301|TX-M9002|Q702|kf026",PointOfViewTablet:"TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10",OvermaxTablet:"OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)|Qualcore 1027",HCLTablet:"HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync",DPSTablet:"DPS Dream 9|DPS Dual 7",VistureTablet:"V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10",CrestaTablet:"CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989",MediatekTablet:"\\bMT8125|MT8389|MT8135|MT8377\\b",ConcordeTablet:"Concorde([ ]+)?Tab|ConCorde ReadMan",
GoCleverTablet:"GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|TAB R104|TAB R83.3|TAB A1042",ModecomTablet:"FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003",VoninoTablet:"\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b",ECSTablet:"V07OT2|TM105A|S10OT1|TR10CS1",StorexTablet:"eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab",VodafoneTablet:"SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497",EssentielBTablet:"Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2",RossMoorTablet:"RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711",iMobileTablet:"i-mobile i-note",TolinoTablet:"tolino tab [0-9.]+|tolino shine",AudioSonicTablet:"\\bC-22Q|T7-QC|T-17B|T-17P\\b",AMPETablet:"Android.* A78 ",SkkTablet:"Android.* (SKYPAD|PHOENIX|CYCLOPS)",TecnoTablet:"TECNO P9",JXDTablet:"Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|P1000|P300|S18|S6600|S9100)\\b",iJoyTablet:"Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)",FX2Tablet:"FX2 PAD7|FX2 PAD10",XoroTablet:"KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151",ViewsonicTablet:"ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a",VerizonTablet:"QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1",OdysTablet:"LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\\bXELIO\\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10",CaptivaTablet:"CAPTIVA PAD",IconbitTablet:"NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S",TeclastTablet:"T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi",OndaTablet:"\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|Vi40)\\b[\\s]+",JaytechTablet:"TPC-PA762",BlaupunktTablet:"Endeavour 800NG|Endeavour 1010",DigmaTablet:"\\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\\b",EvolioTablet:"ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\\bEvotab\\b|\\bNeura\\b",LavaTablet:"QPAD E704|\\bIvoryS\\b|E-TAB IVORY|\\bE-TAB\\b",AocTablet:"MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712",MpmanTablet:"MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010",CelkonTablet:"CT695|CT888|CT[\\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\\bCT-1\\b",WolderTablet:"miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b",MiTablet:"\\bMI PAD\\b|\\bHM NOTE 1W\\b",NibiruTablet:"Nibiru M1|Nibiru Jupiter One",NexoTablet:"NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI",LeaderTablet:"TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100",UbislateTablet:"UbiSlate[\\s]?7C",PocketBookTablet:"Pocketbook",KocasoTablet:"\\b(TB-1207)\\b",HisenseTablet:"\\b(F5281|E2371)\\b",Hudl:"Hudl HT7S3|Hudl 2",TelstraTablet:"T-Hub2",GenericTablet:"Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b"},oss:{AndroidOS:"Android",BlackBerryOS:"blackberry|\\bBB10\\b|rim tablet os",PalmOS:"PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino",SymbianOS:"Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|\\bS60\\b",WindowsMobileOS:"Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Window Mobile|Windows Phone [0-9.]+|WCE;",WindowsPhoneOS:"Windows Phone 10.0|Windows Phone 8.1|Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7|Windows NT 6.[23]; ARM;",iOS:"\\biPhone.*Mobile|\\biPod|\\biPad|AppleCoreMedia",MeeGoOS:"MeeGo",MaemoOS:"Maemo",JavaOS:"J2ME/|\\bMIDP\\b|\\bCLDC\\b",webOS:"webOS|hpwOS",badaOS:"\\bBada\\b",BREWOS:"BREW"},uas:{Chrome:"\\bCrMo\\b|CriOS|Android.*Chrome/[.0-9]* (Mobile)?",Dolfin:"\\bDolfin\\b",Opera:"Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR/[0-9.]+|Coast/[0-9.]+",Skyfire:"Skyfire",Edge:"Mobile Safari/[.0-9]* Edge",IE:"IEMobile|MSIEMobile",Firefox:"fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile|FxiOS",Bolt:"bolt",TeaShark:"teashark",Blazer:"Blazer",Safari:"Version.*Mobile.*Safari|Safari.*Mobile|MobileSafari",UCBrowser:"UC.*Browser|UCWEB",baiduboxapp:"baiduboxapp",baidubrowser:"baidubrowser",DiigoBrowser:"DiigoBrowser",Puffin:"Puffin",Mercury:"\\bMercury\\b",ObigoBrowser:"Obigo",NetFront:"NF-Browser",GenericBrowser:"NokiaBrowser|OviBrowser|OneBrowser|TwonkyBeamBrowser|SEMC.*Browser|FlyFlow|Minimo|NetFront|Novarra-Vision|MQQBrowser|MicroMessenger",PaleMoon:"Android.*PaleMoon|Mobile.*PaleMoon"},props:{Mobile:"Mobile/[VER]",Build:"Build/[VER]",Version:"Version/[VER]",VendorID:"VendorID/[VER]",iPad:"iPad.*CPU[a-z ]+[VER]",iPhone:"iPhone.*CPU[a-z ]+[VER]",iPod:"iPod.*CPU[a-z ]+[VER]",Kindle:"Kindle/[VER]",Chrome:["Chrome/[VER]","CriOS/[VER]","CrMo/[VER]"],Coast:["Coast/[VER]"],Dolfin:"Dolfin/[VER]",Firefox:["Firefox/[VER]","FxiOS/[VER]"],Fennec:"Fennec/[VER]",Edge:"Edge/[VER]",IE:["IEMobile/[VER];","IEMobile [VER]","MSIE [VER];","Trident/[0-9.]+;.*rv:[VER]"],NetFront:"NetFront/[VER]",NokiaBrowser:"NokiaBrowser/[VER]",Opera:[" OPR/[VER]","Opera Mini/[VER]","Version/[VER]"],"Opera Mini":"Opera Mini/[VER]","Opera Mobi":"Version/[VER]",UCBrowser:["UCWEB[VER]","UC.*Browser/[VER]"],MQQBrowser:"MQQBrowser/[VER]",MicroMessenger:"MicroMessenger/[VER]",baiduboxapp:"baiduboxapp/[VER]",baidubrowser:"baidubrowser/[VER]",SamsungBrowser:"SamsungBrowser/[VER]",Iron:"Iron/[VER]",Safari:["Version/[VER]","Safari/[VER]"],Skyfire:"Skyfire/[VER]",Tizen:"Tizen/[VER]",Webkit:"webkit[ /][VER]",PaleMoon:"PaleMoon/[VER]",Gecko:"Gecko/[VER]",Trident:"Trident/[VER]",Presto:"Presto/[VER]",Goanna:"Goanna/[VER]",iOS:" \\bi?OS\\b [VER][ ;]{1}",Android:"Android [VER]",BlackBerry:["BlackBerry[\\w]+/[VER]","BlackBerry.*Version/[VER]","Version/[VER]"],BREW:"BREW [VER]",Java:"Java/[VER]","Windows Phone OS":["Windows Phone OS [VER]","Windows Phone [VER]"],"Windows Phone":"Windows Phone [VER]","Windows CE":"Windows CE/[VER]","Windows NT":"Windows NT [VER]",Symbian:["SymbianOS/[VER]","Symbian/[VER]"],webOS:["webOS/[VER]","hpwOS/[VER];"]},utils:{Bot:"Googlebot|facebookexternalhit|AdsBot-Google|Google Keyword Suggestion|Facebot|YandexBot|YandexMobileBot|bingbot|ia_archiver|AhrefsBot|Ezooms|GSLFbot|WBSearchBot|Twitterbot|TweetmemeBot|Twikle|PaperLiBot|Wotbox|UnwindFetchor|Exabot|MJ12bot|YandexImages|TurnitinBot|Pingdom",MobileBot:"Googlebot-Mobile|AdsBot-Google-Mobile|YahooSeeker/M1A1-R2D2",DesktopMode:"WPDesktop",TV:"SonyDTV|HbbTV",WebKit:"(webkit)[ /]([\\w.]+)",Console:"\\b(Nintendo|Nintendo WiiU|Nintendo 3DS|PLAYSTATION|Xbox)\\b",Watch:"SM-V700"}},a.detectMobileBrowsers={fullPattern:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,shortPattern:/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,tabletPattern:/android|ipad|playbook|silk/i};var o,u=Object.prototype.hasOwnProperty;return a.FALLBACK_PHONE="UnknownPhone",a.FALLBACK_TABLET="UnknownTablet",a.FALLBACK_MOBILE="UnknownMobile",o="isArray"in Array?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},function(){var t,e,n,r,s,l,h=a.mobileDetectRules;for(t in h.props)if(u.call(h.props,t)){for(e=h.props[t],o(e)||(e=[e]),s=e.length,r=0;r<s;++r)n=e[r],l=n.indexOf("[VER]"),l>=0&&(n=n.substring(0,l)+"([\\w._\\+]+)"+n.substring(l+5)),e[r]=new RegExp(n,"i");h.props[t]=e}i(h.oss),i(h.phones),i(h.tablets),i(h.uas),i(h.utils),h.oss0={WindowsPhoneOS:h.oss.WindowsPhoneOS,WindowsMobileOS:h.oss.WindowsMobileOS}}(),a.findMatch=function(t,e){for(var n in t)if(u.call(t,n)&&t[n].test(e))return n;return null},a.findMatches=function(t,e){var n=[];for(var i in t)u.call(t,i)&&t[i].test(e)&&n.push(i);return n},a.getVersionStr=function(t,e){var n,i,r,s,o=a.mobileDetectRules.props;if(u.call(o,t))for(n=o[t],r=n.length,i=0;i<r;++i)if(s=n[i].exec(e),null!==s)return s[1];return null},a.getVersion=function(t,e){var n=a.getVersionStr(t,e);return n?a.prepareVersionNo(n):NaN},a.prepareVersionNo=function(t){var e;return e=t.split(/[a-z._ \/\-]/i),1===e.length&&(t=e[0]),e.length>1&&(t=e[0]+".",e.shift(),t+=e.join("")),Number(t)},a.isMobileFallback=function(t){return a.detectMobileBrowsers.fullPattern.test(t)||a.detectMobileBrowsers.shortPattern.test(t.substr(0,4))},a.isTabletFallback=function(t){return a.detectMobileBrowsers.tabletPattern.test(t)},a.prepareDetectionCache=function(t,n,i){if(t.mobile===e){var r,o,u;return(o=a.findMatch(a.mobileDetectRules.tablets,n))?(t.mobile=t.tablet=o,void(t.phone=null)):(r=a.findMatch(a.mobileDetectRules.phones,n))?(t.mobile=t.phone=r,void(t.tablet=null)):void(a.isMobileFallback(n)?(u=s.isPhoneSized(i),u===e?(t.mobile=a.FALLBACK_MOBILE,t.tablet=t.phone=null):u?(t.mobile=t.phone=a.FALLBACK_PHONE,t.tablet=null):(t.mobile=t.tablet=a.FALLBACK_TABLET,t.phone=null)):a.isTabletFallback(n)?(t.mobile=t.tablet=a.FALLBACK_TABLET,t.phone=null):t.mobile=t.tablet=t.phone=null)}},a.mobileGrade=function(t){var e=null!==t.mobile();return t.os("iOS")&&t.version("iPad")>=4.3||t.os("iOS")&&t.version("iPhone")>=3.1||t.os("iOS")&&t.version("iPod")>=3.1||t.version("Android")>2.1&&t.is("Webkit")||t.version("Windows Phone OS")>=7||t.is("BlackBerry")&&t.version("BlackBerry")>=6||t.match("Playbook.*Tablet")||t.version("webOS")>=1.4&&t.match("Palm|Pre|Pixi")||t.match("hp.*TouchPad")||t.is("Firefox")&&t.version("Firefox")>=12||t.is("Chrome")&&t.is("AndroidOS")&&t.version("Android")>=4||t.is("Skyfire")&&t.version("Skyfire")>=4.1&&t.is("AndroidOS")&&t.version("Android")>=2.3||t.is("Opera")&&t.version("Opera Mobi")>11&&t.is("AndroidOS")||t.is("MeeGoOS")||t.is("Tizen")||t.is("Dolfin")&&t.version("Bada")>=2||(t.is("UC Browser")||t.is("Dolfin"))&&t.version("Android")>=2.3||t.match("Kindle Fire")||t.is("Kindle")&&t.version("Kindle")>=3||t.is("AndroidOS")&&t.is("NookTablet")||t.version("Chrome")>=11&&!e||t.version("Safari")>=5&&!e||t.version("Firefox")>=4&&!e||t.version("MSIE")>=7&&!e||t.version("Opera")>=10&&!e?"A":t.os("iOS")&&t.version("iPad")<4.3||t.os("iOS")&&t.version("iPhone")<3.1||t.os("iOS")&&t.version("iPod")<3.1||t.is("Blackberry")&&t.version("BlackBerry")>=5&&t.version("BlackBerry")<6||t.version("Opera Mini")>=5&&t.version("Opera Mini")<=6.5&&(t.version("Android")>=2.3||t.is("iOS"))||t.match("NokiaN8|NokiaC7|N97.*Series60|Symbian/3")||t.version("Opera Mobi")>=11&&t.is("SymbianOS")?"B":(t.version("BlackBerry")<5||t.match("MSIEMobile|Windows CE.*Mobile")||t.version("Windows Mobile")<=5.2,"C")},a.detectOS=function(t){return a.findMatch(a.mobileDetectRules.oss0,t)||a.findMatch(a.mobileDetectRules.oss,t)},a.getDeviceSmallerSide=function(){return window.screen.width<window.screen.height?window.screen.width:window.screen.height},s.prototype={constructor:s,mobile:function(){return a.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.mobile},phone:function(){return a.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.phone},tablet:function(){return a.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.tablet},userAgent:function(){return this._cache.userAgent===e&&(this._cache.userAgent=a.findMatch(a.mobileDetectRules.uas,this.ua)),this._cache.userAgent},userAgents:function(){return this._cache.userAgents===e&&(this._cache.userAgents=a.findMatches(a.mobileDetectRules.uas,this.ua)),this._cache.userAgents},os:function(){return this._cache.os===e&&(this._cache.os=a.detectOS(this.ua)),this._cache.os},version:function(t){return a.getVersion(t,this.ua)},versionStr:function(t){return a.getVersionStr(t,this.ua)},is:function(e){return n(this.userAgents(),e)||t(e,this.os())||t(e,this.phone())||t(e,this.tablet())||n(a.findMatches(a.mobileDetectRules.utils,this.ua),e)},match:function(t){return t instanceof RegExp||(t=new RegExp(t,"i")),t.test(this.ua)},isPhoneSized:function(t){return s.isPhoneSized(t||this.maxPhoneWidth)},mobileGrade:function(){return this._cache.grade===e&&(this._cache.grade=a.mobileGrade(this)),this._cache.grade}},"undefined"!=typeof window&&window.screen?s.isPhoneSized=function(t){return t<0?e:a.getDeviceSmallerSide()<=t}:s.isPhoneSized=function(){},s._impl=a,s.version="1.4.1 2017-12-24",s})}(function(t){if("undefined"!=typeof e&&e.exports)return function(t){e.exports=t()};if("function"==typeof define&&define.amd)return define;if("undefined"!=typeof window)return function(t){window.MobileDetect=t()};throw new Error("unknown environment")}())},{}],6:[function(t,e,n){var i=function(n,r){n=n||t("./node/window.js");var s=n.window,a=n.document,o=new function(){function t(t,i,r,s,a){function l(n,l){l=l||(l=o(i,n))&&(l.get?l:l.value),"string"==typeof l&&"#"===l[0]&&(l=t[l.substring(1)]||l);var c,f="function"==typeof l,d=l,_=a||f&&!l.base?l&&l.get?n in t:t[n]:null;a&&_||(f&&_&&(l.base=_),f&&s!==!1&&(c=n.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(h[c[3].toLowerCase()+c[4]]=c[2]),d&&!f&&d.get&&"function"==typeof d.get&&e.isPlainObject(d)||(d={value:d,writable:!0}),(o(t,n)||{configurable:!0}).configurable&&(d.configurable=!0,d.enumerable=r),u(t,n,d))}var h={};if(i){for(var c in i)i.hasOwnProperty(c)&&!n.test(c)&&l(c);for(var c in h){var f=h[c],d=t["set"+f],_=t["get"+f]||d&&t["is"+f];!_||s!==!0&&0!==_.length||l(c,{get:_,set:d})}}return t}function e(){for(var t=0,e=arguments.length;t<e;t++){var n=arguments[t];n&&c(this,n)}return this}var n=/^(statics|enumerable|beans|preserve)$/,i=[],s=i.slice,a=Object.create,o=Object.getOwnPropertyDescriptor,u=Object.defineProperty,l=i.forEach||function(t,e){for(var n=0,i=this.length;n<i;n++)t.call(e,this[n],n,this)},h=function(t,e){for(var n in this)this.hasOwnProperty(n)&&t.call(e,this[n],n,this)},c=Object.assign||function(t){for(var e=1,n=arguments.length;e<n;e++){var i=arguments[e];for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t},f=function(t,e,n){if(t){var i=o(t,"length");(i&&"number"==typeof i.value?l:h).call(t,e,n=n||t)}return n};return t(e,{inject:function(e){if(e){var n=e.statics===!0?e:e.statics,i=e.beans,r=e.preserve;n!==e&&t(this.prototype,e,e.enumerable,i,r),t(this,n,!0,i,r)}for(var s=1,a=arguments.length;s<a;s++)this.inject(arguments[s]);return this},extend:function(){for(var e,n,i,r=this,s=0,o=arguments.length;s<o&&(!e||!n);s++)i=arguments[s],e=e||i.initialize,n=n||i.prototype;return e=e||function(){r.apply(this,arguments)},n=e.prototype=n||a(this.prototype),u(n,"constructor",{value:e,writable:!0,configurable:!0}),t(e,this,!0),arguments.length&&this.inject.apply(e,arguments),e.base=r,e}},!0).inject({initialize:e,set:e,inject:function(){for(var e=0,n=arguments.length;e<n;e++){var i=arguments[e];i&&t(this,i,i.enumerable,i.beans,i.preserve)}return this},extend:function(){var t=a(this);return t.inject.apply(t,arguments)},each:function(t,e){return f(this,t,e)},clone:function(){return new this.constructor(this)},statics:{set:c,each:f,create:a,define:u,describe:o,clone:function(t){return c(new t.constructor,t)},isPlainObject:function(t){var n=null!=t&&t.constructor;return n&&(n===Object||n===e||"Object"===n.name)},pick:function(t,e){return t!==r?t:e},slice:function(t,e,n){return s.call(t,e,n)}}})};"undefined"!=typeof e&&(e.exports=o),o.inject({toString:function(){return null!=this._id?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+o.each(this,function(t,e){if(!/^_/.test(e)){var n=typeof t;this.push(e+": "+("number"===n?c.instance.number(t):"string"===n?"'"+t+"'":t))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(t){return o.importJSON(t,this)},exportJSON:function(t){return o.exportJSON(this,t)},toJSON:function(){return o.serialize(this)},set:function(t,e){return t&&o.filter(this,t,e,this._prioritize),this},statics:{exports:{enumerable:!0},extend:function ot(){var t=ot.base.apply(this,arguments),e=t.prototype._class;return e&&!o.exports[e]&&(o.exports[e]=t),t},equals:function(t,e){if(t===e)return!0;if(t&&t.equals)return t.equals(e);if(e&&e.equals)return e.equals(t);if(t&&e&&"object"==typeof t&&"object"==typeof e){if(Array.isArray(t)&&Array.isArray(e)){var n=t.length;if(n!==e.length)return!1;for(;n--;)if(!o.equals(t[n],e[n]))return!1}else{var i=Object.keys(t),n=i.length;if(n!==Object.keys(e).length)return!1;for(;n--;){var r=i[n];if(!e.hasOwnProperty(r)||!o.equals(t[r],e[r]))return!1}}return!0}return!1},read:function(t,e,n,i){if(this===o){var s=this.peek(t,e);return t.__index++,s}var a=this.prototype,u=a._readIndex,l=e||u&&t.__index||0,h=t.length,c=t[l];return i=i||h-l,c instanceof this||n&&n.readNull&&null==c&&i<=1?(u&&(t.__index=l+1),c&&n&&n.clone?c.clone():c):(c=o.create(a),u&&(c.__read=!0),c=c.initialize.apply(c,l>0||l+i<h?o.slice(t,l,l+i):t)||c,u&&(t.__index=l+c.__read,c.__read=r),c)},peek:function(t,e){return t[t.__index=e||t.__index||0]},remain:function(t){return t.length-(t.__index||0)},readList:function(t,e,n,i){for(var r,s=[],a=e||0,o=i?a+i:t.length,u=a;u<o;u++)s.push(Array.isArray(r=t[u])?this.read(r,0,n):this.read(t,u,n,1));return s},readNamed:function(t,e,n,i,s){var a=this.getNamed(t,e),u=a!==r;if(u){var l=t._filtered;l||(l=t._filtered=o.create(t[0]),l._unfiltered=t[0]),l[e]=r}return this.read(u?[a]:t,n,i,s)},getNamed:function(t,e){var n=t[0];if(t._hasObject===r&&(t._hasObject=1===t.length&&o.isPlainObject(n)),t._hasObject)return e?n[e]:t._filtered||n},hasNamed:function(t,e){return!!this.getNamed(t,e)},filter:function(t,e,n,i){function s(i){if(!(n&&i in n||a&&i in a)){var s=e[i];s!==r&&(t[i]=s)}}var a;if(i){for(var o,u={},l=0,h=i.length;l<h;l++)(o=i[l])in e&&(s(o),u[o]=!0);a=u}return Object.keys(e._unfiltered||e).forEach(s),t},isPlainValue:function(t,e){return o.isPlainObject(t)||Array.isArray(t)||e&&"string"==typeof t},serialize:function(t,e,n,i){e=e||{};var r,s=!i;if(s&&(e.formatter=new c(e.precision),i={length:0,definitions:{},references:{},add:function(t,e){var n="#"+t._id,i=this.references[n];if(!i){this.length++;var r=e.call(t),s=t._class;s&&r[0]!==s&&r.unshift(s),this.definitions[n]=r,i=this.references[n]=[n]}return i}}),t&&t._serialize){r=t._serialize(e,i);var a=t._class;!a||t._compactSerialize||!s&&n||r[0]===a||r.unshift(a)}else if(Array.isArray(t)){r=[];for(var u=0,l=t.length;u<l;u++)r[u]=o.serialize(t[u],e,n,i)}else if(o.isPlainObject(t)){r={};for(var h=Object.keys(t),u=0,l=h.length;u<l;u++){var f=h[u];r[f]=o.serialize(t[f],e,n,i)}}else r="number"==typeof t?e.formatter.number(t,e.precision):t;return s&&i.length>0?[["dictionary",i.definitions],r]:r},deserialize:function(t,e,n,i,r){var s=t,a=!n,u=a&&t&&t.length&&"dictionary"===t[0][0];if(n=n||{},Array.isArray(t)){var l=t[0],h="dictionary"===l;if(1==t.length&&/^#/.test(l))return n.dictionary[l];l=o.exports[l],s=[];for(var c=l?1:0,f=t.length;c<f;c++)s.push(o.deserialize(t[c],e,n,h,u));if(l){var d=s;e?s=e(l,d,a||r):(s=o.create(l.prototype),l.apply(s,d))}}else if(o.isPlainObject(t)){s={},i&&(n.dictionary=s);for(var _ in t)s[_]=o.deserialize(t[_],e,n)}return u?s[1]:s},exportJSON:function(t,e){var n=o.serialize(t,e);return e&&e.asString===!1?n:JSON.stringify(n)},importJSON:function(t,e){return o.deserialize("string"==typeof t?JSON.parse(t):t,function(t,n,i){var r=i&&e&&e.constructor===t,s=r?e:o.create(t.prototype);if(1===n.length&&s instanceof w&&(r||!(s instanceof A))){var a=n[0];o.isPlainObject(a)&&(a.insert=!1)}return(r?s.set:t).apply(s,n),r&&(e=null),s})},splice:function(t,e,n,i){var s=e&&e.length,a=n===r;n=a?t.length:n,n>t.length&&(n=t.length);for(var o=0;o<s;o++)e[o]._index=n+o;if(a)return t.push.apply(t,e),[];var u=[n,i];e&&u.push.apply(u,e);for(var l=t.splice.apply(t,u),o=0,h=l.length;o<h;o++)l[o]._index=r;for(var o=n+s,h=t.length;o<h;o++)t[o]._index=o;return l},capitalize:function(t){return t.replace(/\b[a-z]/g,function(t){return t.toUpperCase()})},camelize:function(t){return t.replace(/-(.)/g,function(t,e){return e.toUpperCase()})},hyphenate:function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var u={on:function(t,e){if("string"!=typeof t)o.each(t,function(t,e){this.on(e,t)},this);else{var n=this._eventTypes,i=n&&n[t],r=this._callbacks=this._callbacks||{};r=r[t]=r[t]||[],r.indexOf(e)===-1&&(r.push(e),i&&i.install&&1===r.length&&i.install.call(this,t))}return this},off:function(t,e){if("string"!=typeof t)return void o.each(t,function(t,e){this.off(e,t)},this);var n,i=this._eventTypes,r=i&&i[t],s=this._callbacks&&this._callbacks[t];return s&&(!e||(n=s.indexOf(e))!==-1&&1===s.length?(r&&r.uninstall&&r.uninstall.call(this,t),delete this._callbacks[t]):n!==-1&&s.splice(n,1)),this},once:function(t,e){return this.on(t,function(){e.apply(this,arguments),this.off(t,e)})},emit:function(t,e){var n=this._callbacks&&this._callbacks[t];if(!n)return!1;var i=o.slice(arguments,1),r=e&&e.target&&!e.currentTarget;n=n.slice(),r&&(e.currentTarget=this);for(var s=0,a=n.length;s<a;s++)if(n[s].apply(this,i)===!1){e&&e.stop&&e.stop();break}return r&&delete e.currentTarget,!0},responds:function(t){return!(!this._callbacks||!this._callbacks[t])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(t){var e=this._eventTypes,n=this._callbacks,i=t?"install":"uninstall";if(e)for(var r in n)if(n[r].length>0){var s=e[r],a=s&&s[i];a&&a.call(this,r)}},statics:{inject:function ut(t){var e=t._events;if(e){var n={};o.each(e,function(e,i){var r="string"==typeof e,s=r?e:i,a=o.capitalize(s),u=s.substring(2).toLowerCase();n[u]=r?{}:e,s="_"+s,t["get"+a]=function(){return this[s]},t["set"+a]=function(t){var e=this[s];e&&this.off(u,e),t&&this.on(u,t),this[s]=t}}),t._eventTypes=n}return ut.base.apply(this,arguments)}}},l=o.extend({_class:"PaperScope",initialize:function lt(){i=this,this.settings=new o({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this.palettes=[],this._id=lt._id++,lt._scopes[this._id]=this;var t=lt.prototype;if(!this.support){var e=it.getContext(1,1)||{};t.support={nativeDash:"setLineDash"in e||"mozDash"in e,nativeBlendModes:rt.nativeModes},it.release(e)}if(!this.agent){var r=n.navigator.userAgent.toLowerCase(),s=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(r)||[])[0],a="darwin"===s?"mac":s,u=t.agent=t.browser={platform:a};a&&(u[a]=!0),r.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(t,e,n,i,r){if(!u.chrome){var s="opera"===e?i:/^(node|trident)$/.test(e)?r:n;u.version=s,u.versionNumber=parseFloat(s),e="trident"===e?"msie":e,u.name=e,u[e]=!0}}),u.chrome&&delete u.webkit,u.atom&&delete u.chrome}},version:"0.10.3",getView:function(){var t=this.project;return t&&t._view},getPaper:function(){return this},execute:function(t,e){i.PaperScript.execute(t,this,e),K.updateFocus()},install:function(t){var e=this;o.each(["project","view","tool"],function(n){o.define(t,n,{configurable:!0,get:function(){return e[n]}})});for(var n in this)!/^_/.test(n)&&this[n]&&(t[n]=this[n])},setup:function(t){return i=this,this.project=new y(t),this},createCanvas:function(t,e){return it.getCanvas(t,e)},activate:function(){i=this},clear:function(){for(var t=this.projects,e=this.tools,n=this.palettes,i=t.length-1;i>=0;i--)t[i].remove();for(var i=e.length-1;i>=0;i--)e[i].remove();for(var i=n.length-1;i>=0;i--)n[i].remove()},remove:function(){this.clear(),delete l._scopes[this._id]},statics:new function(){function t(t){return t+="Attribute",function(e,n){return e[t](n)||e[t]("data-paper-"+n)}}return{_scopes:{},_id:0,get:function(t){return this._scopes[t]||null},getAttribute:t("get"),hasAttribute:t("has")}}}),h=o.extend(u,{initialize:function(t){this._scope=i,this._index=this._scope[this._list].push(this)-1,!t&&this._scope[this._reference]||this.activate()},activate:function(){if(!this._scope)return!1;var t=this._scope[this._reference];return t&&t!==this&&t.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",t),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return null!=this._index&&(o.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),c=o.extend({initialize:function(t){this.precision=o.pick(t,5),this.multiplier=Math.pow(10,this.precision)},number:function(t){return this.precision<16?Math.round(t*this.multiplier)/this.multiplier:t},pair:function(t,e,n){return this.number(t)+(n||",")+this.number(e)},point:function(t,e){return this.number(t.x)+(e||",")+this.number(t.y)},size:function(t,e){return this.number(t.width)+(e||",")+this.number(t.height)},rectangle:function(t,e){return this.point(t,e)+(e||",")+this.size(t,e)}});c.instance=new c;var f=new function(){function t(t,e,n){return t<e?e:t>n?n:t}function e(t,e,n){function i(t){var e=134217729*t,n=t-e,i=n+e,r=t-i;return[i,r]}var r=e*e-t*n,a=e*e+t*n;if(3*s(r)<a){var o=i(t),u=i(e),l=i(n),h=e*e,c=u[0]*u[0]-h+2*u[0]*u[1]+u[1]*u[1],f=t*n,d=o[0]*l[0]-f+o[0]*l[1]+o[1]*l[0]+o[1]*l[1];r=h-f+(c-d)}return r}function n(){var t=Math.max.apply(Math,arguments);return t&&(t<1e-8||t>1e8)?o(2,-Math.round(u(t))):0}var i=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],r=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],s=Math.abs,a=Math.sqrt,o=Math.pow,u=Math.log2||function(t){
return Math.log(t)*Math.LOG2E},l=1e-12,h=1.12e-16;return{EPSILON:l,MACHINE_EPSILON:h,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,KAPPA:4*(a(2)-1)/3,isZero:function(t){return t>=-l&&t<=l},clamp:t,integrate:function(t,e,n,s){for(var a=i[s-2],o=r[s-2],u=.5*(n-e),l=u+e,h=0,c=s+1>>1,f=1&s?o[h++]*t(l):0;h<c;){var d=u*a[h];f+=o[h++]*(t(l+d)+t(l-d))}return u*f},findRoot:function(e,n,i,r,a,o,u){for(var l=0;l<o;l++){var h=e(i),c=h/n(i),f=i-c;if(s(c)<u){i=f;break}h>0?(a=i,i=f<=r?.5*(r+a):f):(r=i,i=f>=a?.5*(r+a):f)}return t(i,r,a)},solveQuadratic:function(i,r,o,u,c,f){var d,_=1/0;if(s(i)<l){if(s(r)<l)return s(o)<l?-1:0;d=-o/r}else{r*=-.5;var g=e(i,r,o);if(g&&s(g)<h){var v=n(s(i),s(r),s(o));v&&(i*=v,r*=v,o*=v,g=e(i,r,o))}if(g>=-h){var p=g<0?0:a(g),m=r+(r<0?-p:p);0===m?(d=o/i,_=-d):(d=m/i,_=o/m)}}var b=0,T=null==c,S=c-l,y=f+l;return isFinite(d)&&(T||d>S&&d<y)&&(u[b++]=T?d:t(d,c,f)),_!==d&&isFinite(_)&&(T||_>S&&_<y)&&(u[b++]=T?_:t(_,c,f)),b},solveCubic:function(e,i,r,u,c,d,_){function g(t){v=t;var n=e*v;p=n+i,m=p*v+r,b=(n+p)*v+m,T=m*v+u}var v,p,m,b,T,S=n(s(e),s(i),s(r),s(u));if(S&&(e*=S,i*=S,r*=S,u*=S),s(e)<l)e=i,p=r,m=u,v=1/0;else if(s(u)<l)p=i,m=r,v=0;else{g(-(i/e)/3);var y=T/e,w=o(s(y),1/3),x=y<0?-1:1,A=-b/e,P=A>0?1.324717957244746*Math.max(w,a(A)):w,C=v-x*P;if(C!==v){do g(C),C=0===b?v:v-T/b/(1+h);while(x*C>x*v);s(e)*v*v>s(u/v)&&(m=-u/v,p=(m-r)/v)}}var M=f.solveQuadratic(e,p,m,c,d,_),I=null==d;return isFinite(v)&&(0===M||M>0&&v!==c[0]&&v!==c[1])&&(I||v>d-l&&v<_+l)&&(c[M++]=I?v:t(v,d,_)),M}}},d={_id:1,_pools:{},get:function(t){if(t){var e=this._pools[t];return e||(e=this._pools[t]={_id:1}),e._id++}return this._id++}},_=o.extend({_class:"Point",_readIndex:!0,initialize:function(t,e){var n=typeof t,i=this.__read,r=0;if("number"===n){var s="number"==typeof e;this._set(t,s?e:t),i&&(r=s?2:1)}else if("undefined"===n||null===t)this._set(0,0),i&&(r=null===t?1:0);else{var a="string"===n?t.split(/[\s,]+/)||[]:t;r=1,Array.isArray(a)?this._set(+a[0],+(a.length>1?a[1]:a[0])):"x"in a?this._set(a.x||0,a.y||0):"width"in a?this._set(a.width||0,a.height||0):"angle"in a?(this._set(a.length||0,0),this.setAngle(a.angle||0)):(this._set(0,0),r=0)}return i&&(this.__read=r),this},set:"#initialize",_set:function(t,e){return this.x=t,this.y=e,this},equals:function(t){return this===t||t&&(this.x===t.x&&this.y===t.y||Array.isArray(t)&&this.x===t[0]&&this.y===t[1])||!1},clone:function(){return new _(this.x,this.y)},toString:function(){var t=c.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(t){if(this.isZero()){var e=this._angle||0;this._set(Math.cos(e)*t,Math.sin(e)*t)}else{var n=t/this.getLength();f.isZero(n)&&this.getAngle(),this._set(this.x*n,this.y*n)}},getAngle:function(){return 180*this.getAngleInRadians.apply(this,arguments)/Math.PI},setAngle:function(t){this.setAngleInRadians.call(this,t*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var t=_.read(arguments),e=this.getLength()*t.getLength();if(f.isZero(e))return NaN;var n=this.dot(t)/e;return Math.acos(n<-1?-1:n>1?1:n)}return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(t){if(this._angle=t,!this.isZero()){var e=this.getLength();this._set(Math.cos(t)*e,Math.sin(t)*e)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var t=_.read(arguments);return 180*Math.atan2(this.cross(t),this.dot(t))/Math.PI},getDistance:function(){var t=_.read(arguments),e=t.x-this.x,n=t.y-this.y,i=e*e+n*n,r=o.read(arguments);return r?i:Math.sqrt(i)},normalize:function(t){t===r&&(t=1);var e=this.getLength(),n=0!==e?t/e:0,i=new _(this.x*n,this.y*n);return n>=0&&(i._angle=this._angle),i},rotate:function(t,e){if(0===t)return this.clone();t=t*Math.PI/180;var n=e?this.subtract(e):this,i=Math.sin(t),r=Math.cos(t);return n=new _(n.x*r-n.y*i,n.x*i+n.y*r),e?n.add(e):n},transform:function(t){return t?t._transformPoint(this):this},add:function(){var t=_.read(arguments);return new _(this.x+t.x,this.y+t.y)},subtract:function(){var t=_.read(arguments);return new _(this.x-t.x,this.y-t.y)},multiply:function(){var t=_.read(arguments);return new _(this.x*t.x,this.y*t.y)},divide:function(){var t=_.read(arguments);return new _(this.x/t.x,this.y/t.y)},modulo:function(){var t=_.read(arguments);return new _(this.x%t.x,this.y%t.y)},negate:function(){return new _((-this.x),(-this.y))},isInside:function(){return m.read(arguments).contains(this)},isClose:function(){var t=_.read(arguments),e=o.read(arguments);return this.getDistance(t)<=e},isCollinear:function(){var t=_.read(arguments);return _.isCollinear(this.x,this.y,t.x,t.y)},isColinear:"#isCollinear",isOrthogonal:function(){var t=_.read(arguments);return _.isOrthogonal(this.x,this.y,t.x,t.y)},isZero:function(){var t=f.isZero;return t(this.x)&&t(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(t){return this.x*(t>1&&t<4?-1:1)>=0&&this.y*(t>2?-1:1)>=0},dot:function(){var t=_.read(arguments);return this.x*t.x+this.y*t.y},cross:function(){var t=_.read(arguments);return this.x*t.y-this.y*t.x},project:function(){var t=_.read(arguments),e=t.isZero()?0:this.dot(t)/t.dot(t);return new _(t.x*e,t.y*e)},statics:{min:function(){var t=_.read(arguments),e=_.read(arguments);return new _(Math.min(t.x,e.x),Math.min(t.y,e.y))},max:function(){var t=_.read(arguments),e=_.read(arguments);return new _(Math.max(t.x,e.x),Math.max(t.y,e.y))},random:function(){return new _(Math.random(),Math.random())},isCollinear:function(t,e,n,i){return Math.abs(t*i-e*n)<=1e-8*Math.sqrt((t*t+e*e)*(n*n+i*i))},isOrthogonal:function(t,e,n,i){return Math.abs(t*n+e*i)<=1e-8*Math.sqrt((t*t+e*e)*(n*n+i*i))}}},o.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new _(e(this.x),e(this.y))}},{})),g=_.extend({initialize:function(t,e,n,i){this._x=t,this._y=e,this._owner=n,this._setter=i},_set:function(t,e,n){return this._x=t,this._y=e,n||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner.changeSelection(this._getSelection(),t)},_getSelection:function(){return"setPosition"===this._setter?4:0}}),v=o.extend({_class:"Size",_readIndex:!0,initialize:function(t,e){var n=typeof t,i=this.__read,r=0;if("number"===n){var s="number"==typeof e;this._set(t,s?e:t),i&&(r=s?2:1)}else if("undefined"===n||null===t)this._set(0,0),i&&(r=null===t?1:0);else{var a="string"===n?t.split(/[\s,]+/)||[]:t;r=1,Array.isArray(a)?this._set(+a[0],+(a.length>1?a[1]:a[0])):"width"in a?this._set(a.width||0,a.height||0):"x"in a?this._set(a.x||0,a.y||0):(this._set(0,0),r=0)}return i&&(this.__read=r),this},set:"#initialize",_set:function(t,e){return this.width=t,this.height=e,this},equals:function(t){return t===this||t&&(this.width===t.width&&this.height===t.height||Array.isArray(t)&&this.width===t[0]&&this.height===t[1])||!1},clone:function(){return new v(this.width,this.height)},toString:function(){var t=c.instance;return"{ width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.width),e.number(this.height)]},add:function(){var t=v.read(arguments);return new v(this.width+t.width,this.height+t.height)},subtract:function(){var t=v.read(arguments);return new v(this.width-t.width,this.height-t.height)},multiply:function(){var t=v.read(arguments);return new v(this.width*t.width,this.height*t.height)},divide:function(){var t=v.read(arguments);return new v(this.width/t.width,this.height/t.height)},modulo:function(){var t=v.read(arguments);return new v(this.width%t.width,this.height%t.height)},negate:function(){return new v((-this.width),(-this.height))},isZero:function(){var t=f.isZero;return t(this.width)&&t(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(t,e){return new v(Math.min(t.width,e.width),Math.min(t.height,e.height))},max:function(t,e){return new v(Math.max(t.width,e.width),Math.max(t.height,e.height))},random:function(){return new v(Math.random(),Math.random())}}},o.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new v(e(this.width),e(this.height))}},{})),p=v.extend({initialize:function(t,e,n,i){this._width=t,this._height=e,this._owner=n,this._setter=i},_set:function(t,e,n){return this._width=t,this._height=e,n||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(t){this._width=t,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(t){this._height=t,this._owner[this._setter](this)}}),m=o.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(t,e,n,i){var s,a=typeof t;if("number"===a?(this._set(t,e,n,i),s=4):"undefined"===a||null===t?(this._set(0,0,0,0),s=null===t?1:0):1===arguments.length&&(Array.isArray(t)?(this._set.apply(this,t),s=1):t.x!==r||t.width!==r?(this._set(t.x||0,t.y||0,t.width||0,t.height||0),s=1):t.from===r&&t.to===r&&(this._set(0,0,0,0),o.filter(this,t),s=1)),s===r){var u,l,h=_.readNamed(arguments,"from"),c=o.peek(arguments),f=h.x,d=h.y;if(c&&c.x!==r||o.hasNamed(arguments,"to")){var g=_.readNamed(arguments,"to");u=g.x-f,l=g.y-d,u<0&&(f=g.x,u=-u),l<0&&(d=g.y,l=-l)}else{var p=v.read(arguments);u=p.width,l=p.height}this._set(f,d,u,l),s=arguments.__index}return this.__read&&(this.__read=s),this},set:"#initialize",_set:function(t,e,n,i){return this.x=t,this.y=e,this.width=n,this.height=i,this},clone:function(){return new m(this.x,this.y,this.width,this.height)},equals:function(t){var e=o.isPlainValue(t)?m.read(arguments):t;return e===this||e&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height||!1},toString:function(){var t=c.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+", width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y),e.number(this.width),e.number(this.height)]},getPoint:function(t){var e=t?_:g;return new e(this.x,this.y,this,"setPoint")},setPoint:function(){var t=_.read(arguments);this.x=t.x,this.y=t.y},getSize:function(t){var e=t?v:p;return new e(this.width,this.height,this,"setSize")},setSize:function(){var t=v.read(arguments);this._fixX&&(this.x+=(this.width-t.width)*this._fixX),this._fixY&&(this.y+=(this.height-t.height)*this._fixY),this.width=t.width,this.height=t.height,this._fixW=1,this._fixH=1},getLeft:function(){return this.x},setLeft:function(t){this._fixW||(this.width-=t-this.x),this.x=t,this._fixX=0},getTop:function(){return this.y},setTop:function(t){this._fixH||(this.height-=t-this.y),this.y=t,this._fixY=0},getRight:function(){return this.x+this.width},setRight:function(t){this._fixX!==r&&1!==this._fixX&&(this._fixW=0),this._fixW?this.x=t-this.width:this.width=t-this.x,this._fixX=1},getBottom:function(){return this.y+this.height},setBottom:function(t){this._fixY!==r&&1!==this._fixY&&(this._fixH=0),this._fixH?this.y=t-this.height:this.height=t-this.y,this._fixY=1},getCenterX:function(){return this.x+.5*this.width},setCenterX:function(t){this.x=t-.5*this.width,this._fixX=.5},getCenterY:function(){return this.y+.5*this.height},setCenterY:function(t){this.y=t-.5*this.height,this._fixY=.5},getCenter:function(t){var e=t?_:g;return new e(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var t=_.read(arguments);return this.setCenterX(t.x),this.setCenterY(t.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return 0===this.width||0===this.height},contains:function(t){return t&&t.width!==r||4===(Array.isArray(t)?t:arguments).length?this._containsRectangle(m.read(arguments)):this._containsPoint(_.read(arguments))},_containsPoint:function(t){var e=t.x,n=t.y;return e>=this.x&&n>=this.y&&e<=this.x+this.width&&n<=this.y+this.height},_containsRectangle:function(t){var e=t.x,n=t.y;return e>=this.x&&n>=this.y&&e+t.width<=this.x+this.width&&n+t.height<=this.y+this.height},intersects:function(){var t=m.read(arguments);return t.x+t.width>this.x&&t.y+t.height>this.y&&t.x<this.x+this.width&&t.y<this.y+this.height},touches:function(){var t=m.read(arguments);return t.x+t.width>=this.x&&t.y+t.height>=this.y&&t.x<=this.x+this.width&&t.y<=this.y+this.height},intersect:function(){var t=m.read(arguments),e=Math.max(this.x,t.x),n=Math.max(this.y,t.y),i=Math.min(this.x+this.width,t.x+t.width),r=Math.min(this.y+this.height,t.y+t.height);return new m(e,n,i-e,r-n)},unite:function(){var t=m.read(arguments),e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),i=Math.max(this.x+this.width,t.x+t.width),r=Math.max(this.y+this.height,t.y+t.height);return new m(e,n,i-e,r-n)},include:function(){var t=_.read(arguments),e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),i=Math.max(this.x+this.width,t.x),r=Math.max(this.y+this.height,t.y);return new m(e,n,i-e,r-n)},expand:function(){var t=v.read(arguments),e=t.width,n=t.height;return new m(this.x-e/2,this.y-n/2,this.width+e,this.height+n)},scale:function(t,e){return this.expand(this.width*t-this.width,this.height*(e===r?t:e)-this.height)}},o.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(t,e){var n=t.join(""),i=/^[RL]/.test(n);e>=4&&(t[1]+=i?"Y":"X");var r=t[i?0:1],s=t[i?1:0],a="get"+r,o="get"+s,u="set"+r,l="set"+s,h="get"+n,c="set"+n;this[h]=function(t){var e=t?_:g;return new e(this[a](),this[o](),this,c)},this[c]=function(){var t=_.read(arguments);this[u](t.x),this[l](t.y)}},{beans:!0})),b=m.extend({initialize:function(t,e,n,i,r,s){this._set(t,e,n,i,!0),this._owner=r,this._setter=s},_set:function(t,e,n,i,r){return this._x=t,this._y=e,this._width=n,this._height=i,r||this._owner[this._setter](this),this}},new function(){var t=m.prototype;return o.each(["x","y","width","height"],function(t){var e=o.capitalize(t),n="_"+t;this["get"+e]=function(){return this[n]},this["set"+e]=function(t){this[n]=t,this._dontNotify||this._owner[this._setter](this)}},o.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(e){var n="set"+e;this[n]=function(){this._dontNotify=!0,t[n].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(2&this._owner._selection)},setSelected:function(t){var e=this._owner;e.changeSelection&&e.changeSelection(2,t)}}))}),T=o.extend({_class:"Matrix",initialize:function ht(t,e){var n=arguments.length,i=!0;if(n>=6?this._set.apply(this,arguments):1===n||2===n?t instanceof ht?this._set(t._a,t._b,t._c,t._d,t._tx,t._ty,e):Array.isArray(t)?this._set.apply(this,e?t.concat([e]):t):i=!1:n?i=!1:this.reset(),!i)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(t,e,n,i,r,s,a){return this._a=t,this._b=e,this._c=n,this._d=i,this._tx=r,this._ty=s,a||this._changed(),this},_serialize:function(t,e){return o.serialize(this.getValues(),t,!0,e)},_changed:function(){var t=this._owner;t&&(t._applyMatrix?t.transform(null,!0):t._changed(9))},clone:function(){return new T(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(t){return t===this||t&&this._a===t._a&&this._b===t._b&&this._c===t._c&&this._d===t._d&&this._tx===t._tx&&this._ty===t._ty},toString:function(){var t=c.instance;return"[["+[t.number(this._a),t.number(this._c),t.number(this._tx)].join(", ")+"], ["+[t.number(this._b),t.number(this._d),t.number(this._ty)].join(", ")+"]]"},reset:function(t){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,t||this._changed(),this},apply:function(t,e){var n=this._owner;return!!n&&(n.transform(null,!0,o.pick(t,!0),e),this.isIdentity())},translate:function(){var t=_.read(arguments),e=t.x,n=t.y;return this._tx+=e*this._a+n*this._c,this._ty+=e*this._b+n*this._d,this._changed(),this},scale:function(){var t=_.read(arguments),e=_.read(arguments,0,{readNull:!0});return e&&this.translate(e),this._a*=t.x,this._b*=t.x,this._c*=t.y,this._d*=t.y,e&&this.translate(e.negate()),this._changed(),this},rotate:function(t){t*=Math.PI/180;var e=_.read(arguments,1),n=e.x,i=e.y,r=Math.cos(t),s=Math.sin(t),a=n-n*r+i*s,o=i-n*s-i*r,u=this._a,l=this._b,h=this._c,c=this._d;return this._a=r*u+s*h,this._b=r*l+s*c,this._c=-s*u+r*h,this._d=-s*l+r*c,this._tx+=a*u+o*h,this._ty+=a*l+o*c,this._changed(),this},shear:function(){var t=_.read(arguments),e=_.read(arguments,0,{readNull:!0});e&&this.translate(e);var n=this._a,i=this._b;return this._a+=t.y*this._c,this._b+=t.y*this._d,this._c+=t.x*n,this._d+=t.x*i,e&&this.translate(e.negate()),this._changed(),this},skew:function(){var t=_.read(arguments),e=_.read(arguments,0,{readNull:!0}),n=Math.PI/180,i=new _(Math.tan(t.x*n),Math.tan(t.y*n));return this.shear(i,e)},append:function(t){if(t){var e=this._a,n=this._b,i=this._c,r=this._d,s=t._a,a=t._c,o=t._b,u=t._d,l=t._tx,h=t._ty;this._a=s*e+o*i,this._c=a*e+u*i,this._b=s*n+o*r,this._d=a*n+u*r,this._tx+=l*e+h*i,this._ty+=l*n+h*r,this._changed()}return this},prepend:function(t){if(t){var e=this._a,n=this._b,i=this._c,r=this._d,s=this._tx,a=this._ty,o=t._a,u=t._c,l=t._b,h=t._d,c=t._tx,f=t._ty;this._a=o*e+u*n,this._c=o*i+u*r,this._b=l*e+h*n,this._d=l*i+h*r,this._tx=o*s+u*a+c,this._ty=l*s+h*a+f,this._changed()}return this},appended:function(t){return this.clone().append(t)},prepended:function(t){return this.clone().prepend(t)},invert:function(){var t=this._a,e=this._b,n=this._c,i=this._d,r=this._tx,s=this._ty,a=t*i-e*n,o=null;return a&&!isNaN(a)&&isFinite(r)&&isFinite(s)&&(this._a=i/a,this._b=-e/a,this._c=-n/a,this._d=t/a,this._tx=(n*s-i*r)/a,this._ty=(e*r-t*s)/a,o=this),o},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new T(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return 1===this._a&&0===this._b&&0===this._c&&1===this._d&&0===this._tx&&0===this._ty},isInvertible:function(){var t=this._a*this._d-this._c*this._b;return t&&!isNaN(t)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(t,e,n){return arguments.length<3?this._transformPoint(_.read(arguments)):this._transformCoordinates(t,e,n)},_transformPoint:function(t,e,n){var i=t.x,r=t.y;return e||(e=new _),e._set(i*this._a+r*this._c+this._tx,i*this._b+r*this._d+this._ty,n)},_transformCoordinates:function(t,e,n){for(var i=0,r=2*n;i<r;i+=2){var s=t[i],a=t[i+1];e[i]=s*this._a+a*this._c+this._tx,e[i+1]=s*this._b+a*this._d+this._ty}return e},_transformCorners:function(t){var e=t.x,n=t.y,i=e+t.width,r=n+t.height,s=[e,n,i,n,i,r,e,r];return this._transformCoordinates(s,s,4)},_transformBounds:function(t,e,n){for(var i=this._transformCorners(t),r=i.slice(0,2),s=r.slice(),a=2;a<8;a++){var o=i[a],u=1&a;o<r[u]?r[u]=o:o>s[u]&&(s[u]=o)}return e||(e=new m),e._set(r[0],r[1],s[0]-r[0],s[1]-r[1],n)},inverseTransform:function(){return this._inverseTransform(_.read(arguments))},_inverseTransform:function(t,e,n){var i=this._a,r=this._b,s=this._c,a=this._d,o=this._tx,u=this._ty,l=i*a-r*s,h=null;if(l&&!isNaN(l)&&isFinite(o)&&isFinite(u)){var c=t.x-this._tx,f=t.y-this._ty;e||(e=new _),h=e._set((c*a-f*s)/l,(f*i-c*r)/l,n)}return h},decompose:function(){var t,e,n,i=this._a,r=this._b,s=this._c,a=this._d,o=i*a-r*s,u=Math.sqrt,l=Math.atan2,h=180/Math.PI;if(0!==i||0!==r){var c=u(i*i+r*r);t=Math.acos(i/c)*(r>0?1:-1),e=[c,o/c],n=[l(i*s+r*a,c*c),0]}else if(0!==s||0!==a){var f=u(s*s+a*a);t=Math.asin(s/f)*(a>0?1:-1),e=[o/f,f],n=[0,l(i*s+r*a,f*f)]}else t=0,n=e=[0,0];return{translation:this.getTranslation(),rotation:t*h,scaling:new _(e),skewing:new _(n[0]*h,n[1]*h)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new _(this._tx,this._ty)},getScaling:function(){return(this.decompose()||{}).scaling},getRotation:function(){return(this.decompose()||{}).rotation},applyToContext:function(t){this.isIdentity()||t.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},o.each(["a","b","c","d","tx","ty"],function(t){var e=o.capitalize(t),n="_"+t;this["get"+e]=function(){return this[n]},this["set"+e]=function(t){this[n]=t,this._changed()}},{})),S=o.extend({_class:"Line",initialize:function(t,e,n,i,r){var s=!1;arguments.length>=4?(this._px=t,this._py=e,this._vx=n,this._vy=i,s=r):(this._px=t.x,this._py=t.y,this._vx=e.x,this._vy=e.y,s=n),s||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new _(this._px,this._py)},getVector:function(){return new _(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(t,e){return S.intersect(this._px,this._py,this._vx,this._vy,t._px,t._py,t._vx,t._vy,!0,e)},getSide:function(t,e){return S.getSide(this._px,this._py,this._vx,this._vy,t.x,t.y,!0,e)},getDistance:function(t){return Math.abs(S.getSignedDistance(this._px,this._py,this._vx,this._vy,t.x,t.y,!0))},isCollinear:function(t){return _.isCollinear(this._vx,this._vy,t._vx,t._vy)},isOrthogonal:function(t){return _.isOrthogonal(this._vx,this._vy,t._vx,t._vy)},statics:{intersect:function(t,e,n,i,r,s,a,o,u,l){u||(n-=t,i-=e,a-=r,o-=s);var h=n*o-i*a;if(!f.isZero(h)){var c=t-r,d=e-s,g=(a*d-o*c)/h,v=(n*d-i*c)/h,p=1e-12,m=-p,b=1+p;if(l||m<g&&g<b&&m<v&&v<b)return l||(g=g<=0?0:g>=1?1:g),new _(t+g*n,e+g*i)}},getSide:function(t,e,n,i,r,s,a,o){a||(n-=t,i-=e);var u=r-t,l=s-e,h=u*i-l*n;return!o&&f.isZero(h)&&(h=(u*n+u*n)/(n*n+i*i),h>=0&&h<=1&&(h=0)),h<0?-1:h>0?1:0},getSignedDistance:function(t,e,n,i,r,s,a){return a||(n-=t,i-=e),0===n?i>0?r-t:t-r:0===i?n<0?s-e:e-s:((r-t)*i-(s-e)*n)/Math.sqrt(n*n+i*i)},getDistance:function(t,e,n,i,r,s,a){return Math.abs(S.getSignedDistance(t,e,n,i,r,s,a))}}}),y=h.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(t){h.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new U(null,null,this),this._view=K.create(this,t||it.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(t,e){return o.serialize(this._children,t,!0,e)},_changed:function(t,e){if(1&t){var n=this._view;n&&(n._needsUpdate=!0,!n._requested&&n._autoUpdate&&n.requestUpdate())}var i=this._changes;if(i&&e){var r=this._changesById,s=e._id,a=r[s];a?a.flags|=t:i.push(r[s]={item:e,flags:t})}},clear:function(){for(var t=this._children,e=t.length-1;e>=0;e--)t[e].remove()},isEmpty:function(){return!this._children.length},remove:function ct(){return!!ct.base.call(this)&&(this._view&&this._view.remove(),!0)},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(t){this._currentStyle.set(t)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new A({project:this,insert:!0})},getSymbolDefinitions:function(){var t=[],e={};return this.getItems({"class":M,match:function(n){var i=n._definition,r=i._id;return e[r]||(e[r]=!0,t.push(i)),!1}}),t},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var t=this._selectionItems,e=[];for(var n in t){var i=t[n],r=i._selection;1&r&&i.isInserted()?e.push(i):r||this._updateSelection(i)}return e},_updateSelection:function(t){var e=t._id,n=this._selectionItems;t._selection?n[e]!==t&&(this._selectionCount++,n[e]=t):n[e]===t&&(this._selectionCount--,delete n[e])},selectAll:function(){for(var t=this._children,e=0,n=t.length;e<n;e++)t[e].setFullySelected(!0)},deselectAll:function(){var t=this._selectionItems;for(var e in t)t[e].setFullySelected(!1)},addLayer:function(t){return this.insertLayer(r,t)},insertLayer:function(t,e){if(e instanceof A){e._remove(!1,!0),o.splice(this._children,[e],t,0),e._setProject(this,!0);var n=e._name;n&&e.setName(n),this._changes&&e._changed(5),this._activeLayer||(this._activeLayer=e)}else e=null;return e},_insertItem:function(t,e,n){return e=this.insertLayer(t,e)||(this._activeLayer||this._insertItem(r,new A(w.NO_INSERT),!0)).insertChild(t,e),n&&e.activate&&e.activate(),e},getItems:function(t){return w._getItems(this,t)},getItem:function(t){return w._getItems(this,t,null,null,!0)[0]||null},importJSON:function(t){this.activate();var e=this._activeLayer;return o.importJSON(t,e&&e.isEmpty()&&e)},removeOn:function(t){var e=this._removeSets;if(e){"mouseup"===t&&(e.mousedrag=null);var n=e[t];if(n){for(var i in n){var r=n[i];for(var s in e){var a=e[s];a&&a!=n&&delete a[r._id]}r.remove()}e[t]=null}}},draw:function(t,e,n){this._updateVersion++,t.save(),e.applyToContext(t);for(var i=this._children,r=new o({offset:new _(0,0),pixelRatio:n,viewMatrix:e.isIdentity()?null:e,matrices:[new T],updateMatrix:!0}),s=0,a=i.length;s<a;s++)i[s].draw(t,r);if(t.restore(),this._selectionCount>0){t.save(),t.strokeWidth=1;var u=this._selectionItems,l=this._scope.settings.handleSize,h=this._updateVersion;for(var c in u)u[c]._drawSelection(t,e,l,u,h);t.restore()}}}),w=o.extend(u,{statics:{extend:function ft(t){return t._serializeFields&&(t._serializeFields=o.set({},this.prototype._serializeFields,t._serializeFields)),ft.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new T,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var t=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return o.each(t,function(t){this._events[t]={install:function(t){this.getView()._countItemEvent(t,1)},uninstall:function(t){this.getView()._countItemEvent(t,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:t}})},{initialize:function(){},_initialize:function(t,e){var n=t&&o.isPlainObject(t),s=n&&t.internal===!0,a=this._matrix=new T,u=n&&t.project||i.project,l=i.settings;return this._id=s?null:d.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&l.applyMatrix,e&&a.translate(e),a._owner=this,this._style=new U(u._currentStyle,this,u),s||n&&t.insert===!1||!l.insertItems&&(!n||t.insert!==!0)?this._setProject(u):(n&&t.parent||u)._insertItem(r,this,!0),n&&t!==w.NO_INSERT&&this.set(t,{internal:!0,insert:!0,project:!0,parent:!0}),n},_serialize:function(t,e){function n(n){for(var s in n){var a=r[s];o.equals(a,"leading"===s?1.2*n.fontSize:n[s])||(i[s]=o.serialize(a,t,"data"!==s,e))}}var i={},r=this;return n(this._serializeFields),this instanceof x||n(this._style._defaults),[this._class,i]},_changed:function(t){var e=this._symbol,n=this._parent||e,i=this._project;8&t&&(this._bounds=this._position=this._decomposed=this._globalMatrix=r),n&&40&t&&w._clearBoundsCache(n),2&t&&w._clearBoundsCache(this),i&&i._changed(t,this),e&&e._changed(t)},getId:function(){return this._id},getName:function(){return this._name},setName:function(t){if(this._name&&this._removeNamed(),t===+t+"")throw new Error("Names consisting only of numbers are not supported.");var e=this._getOwner();if(t&&e){var n=e._children,i=e._namedChildren;(i[t]=i[t]||[]).push(this),t in n||(n[t]=this)}this._name=t||r,this._changed(128)},getStyle:function(){return this._style},setStyle:function(t){this.getStyle().set(t)}},o.each(["locked","visible","blendMode","opacity","guide"],function(t){var e=o.capitalize(t),t="_"+t;this["get"+e]=function(){return this[t]},this["set"+e]=function(e){e!=this[t]&&(this[t]=e,this._changed("_locked"===t?128:129))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(t){if(t!==this._selection){this._selection=t;var e=this._project;e&&(e._updateSelection(this),this._changed(129))}},changeSelection:function(t,e){var n=this._selection;this.setSelection(e?n|t:n&~t)},isSelected:function(){if(this._selectChildren)for(var t=this._children,e=0,n=t.length;e<n;e++)if(t[e].isSelected())return!0;return!!(1&this._selection)},setSelected:function(t){if(this._selectChildren)for(var e=this._children,n=0,i=e.length;n<i;n++)e[n].setSelected(t);this.changeSelection(1,t)},isFullySelected:function(){var t=this._children,e=!!(1&this._selection);if(t&&e){for(var n=0,i=t.length;n<i;n++)if(!t[n].isFullySelected())return!1;return!0}return e},setFullySelected:function(t){var e=this._children;if(e)for(var n=0,i=e.length;n<i;n++)e[n].setFullySelected(t);this.changeSelection(1,t)},isClipMask:function(){return this._clipMask},setClipMask:function(t){this._clipMask!=(t=!!t)&&(this._clipMask=t,t&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(129),this._parent&&this._parent._changed(1024))},getData:function(){return this._data||(this._data={}),this._data},setData:function(t){this._data=t},getPosition:function(t){var e=this._position,n=t?_:g;if(!e){var i=this._pivot;e=this._position=i?this._matrix._transformPoint(i):this.getBounds().getCenter(!0)}return new n(e.x,e.y,this,"setPosition")},setPosition:function(){this.translate(_.read(arguments).subtract(this.getPosition(!0)))},getPivot:function(){var t=this._pivot;return t?new g(t.x,t.y,this,"setPivot"):null},setPivot:function(){this._pivot=_.read(arguments,0,{clone:!0,readNull:!0}),this._position=r}},o.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(t,e){this[e]=function(e){return this.getBounds(e,t)}},{beans:!0,getBounds:function(t,e){var n=e||t instanceof T,i=o.set({},n?e:t,this._boundsOptions);i.stroke&&!this.getStrokeScaling()||(i.cacheItem=this);var r=this._getCachedBounds(n&&t,i);return arguments.length?r:new b(r.x,r.y,r.width,r.height,this,"setBounds")},setBounds:function(){var t=m.read(arguments),e=this.getBounds(),n=this._matrix,i=new T,r=t.getCenter();i.translate(r),t.width==e.width&&t.height==e.height||(n.isInvertible()||(n.set(n._backup||(new T).translate(n.getTranslation())),e=this.getBounds()),i.scale(0!==e.width?t.width/e.width:0,0!==e.height?t.height/e.height:0)),r=e.getCenter(),i.translate(-r.x,-r.y),this.transform(i)},_getBounds:function(t,e){var n=this._children;return n&&n.length?(w._updateBoundsCache(this,e.cacheItem),w._getBounds(n,t,e)):new m},_getCachedBounds:function(t,e){t=t&&t._orNullIfIdentity();var n=e.internal,i=e.cacheItem,r=n?null:this._matrix._orNullIfIdentity(),s=i&&(!t||t.equals(r))&&[e.stroke?1:0,e.handle?1:0,n?1:0].join("");if(w._updateBoundsCache(this._parent||this._symbol,i),s&&this._bounds&&s in this._bounds)return this._bounds[s].rect.clone();var a=this._getBounds(t||r,e);if(s){this._bounds||(this._bounds={});this._bounds[s]={rect:a.clone(),internal:e.internal}}return a},_getStrokeMatrix:function(t,e){var n=this.getStrokeScaling()?null:e&&e.internal?this:this._parent||this._symbol&&this._symbol._item,i=n?n.getViewMatrix().invert():t;return i&&i._shiftless()},statics:{_updateBoundsCache:function(t,e){if(t&&e){var n=e._id,i=t._boundsCache=t._boundsCache||{ids:{},list:[]};i.ids[n]||(i.list.push(e),i.ids[n]=e)}},_clearBoundsCache:function(t){var e=t._boundsCache;if(e){t._bounds=t._position=t._boundsCache=r;for(var n=0,i=e.list,s=i.length;n<s;n++){var a=i[n];a!==t&&(a._bounds=a._position=r,
a._boundsCache&&w._clearBoundsCache(a))}}},_getBounds:function(t,e,n){var i=1/0,r=-i,s=i,a=r;n=n||{};for(var o=0,u=t.length;o<u;o++){var l=t[o];if(l._visible&&!l.isEmpty()){var h=l._getCachedBounds(e&&e.appended(l._matrix),n);i=Math.min(h.x,i),s=Math.min(h.y,s),r=Math.max(h.x+h.width,r),a=Math.max(h.y+h.height,a)}}return isFinite(i)?new m(i,s,r-i,a-s):new m}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var t=this._decompose();return t?t.rotation:0},setRotation:function(t){var e=this.getRotation();if(null!=e&&null!=t){var n=this._decomposed;this.rotate(t-e),n&&(n.rotation=t,this._decomposed=n)}},getScaling:function(){var t=this._decompose(),e=t&&t.scaling;return new g(e?e.x:1,e?e.y:1,this,"setScaling")},setScaling:function(){var t=this.getScaling(),e=_.read(arguments,0,{clone:!0,readNull:!0});if(t&&e&&!t.equals(e)){var n=this._decomposed;this.scale(e.x/t.x,e.y/t.y),n&&(n.scaling=e,this._decomposed=n)}},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.initialize.apply(t,arguments)},getGlobalMatrix:function(t){var e=this._globalMatrix,n=this._project._updateVersion;if(e&&e._updateVersion!==n&&(e=null),!e){e=this._globalMatrix=this._matrix.clone();var i=this._parent;i&&e.prepend(i.getGlobalMatrix(!0)),e._updateVersion=n}return t?e:e.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(t){(this._applyMatrix=this._canApplyMatrix&&!!t)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(t,e){if(this._project!==t){this._project&&this._installEvents(!1),this._project=t;for(var n=this._children,i=0,r=n&&n.length;i<r;i++)n[i]._setProject(t);e=!0}e&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function dt(t){dt.base.call(this,t);for(var e=this._children,n=0,i=e&&e.length;n<i;n++)e[n]._installEvents(t)},getLayer:function(){for(var t=this;t=t._parent;)if(t instanceof A)return t;return null},getParent:function(){return this._parent},setParent:function(t){return t.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(t){this.removeChildren(),this.addChildren(t)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var t=this._getOwner();return t&&t._children[this._index+1]||null},getPreviousSibling:function(){var t=this._getOwner();return t&&t._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(t){return t===this||t&&this._class===t._class&&this._style.equals(t._style)&&this._matrix.equals(t._matrix)&&this._locked===t._locked&&this._visible===t._visible&&this._blendMode===t._blendMode&&this._opacity===t._opacity&&this._clipMask===t._clipMask&&this._guide===t._guide&&this._equals(t)||!1},_equals:function(t){return o.equals(this._children,t._children)},clone:function(t){var e=new this.constructor(w.NO_INSERT),n=this._children,i=o.pick(t?t.insert:r,t===r||t===!0),s=o.pick(t?t.deep:r,!0);n&&e.copyAttributes(this),n&&!s||e.copyContent(this),n||e.copyAttributes(this),i&&e.insertAbove(this);var a=this._name,u=this._parent;if(a&&u){for(var n=u._children,l=a,h=1;n[a];)a=l+" "+h++;a!==l&&e.setName(a)}return e},copyContent:function(t){for(var e=t._children,n=0,i=e&&e.length;n<i;n++)this.addChild(e[n].clone(!1),!0)},copyAttributes:function(t,e){this.setStyle(t._style);for(var n=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],i=0,r=n.length;i<r;i++){var s=n[i];t.hasOwnProperty(s)&&(this[s]=t[s])}e||this._matrix.set(t._matrix,!0),this.setApplyMatrix(t._applyMatrix),this.setPivot(t._pivot),this.setSelection(t._selection);var a=t._data,u=t._name;this._data=a?o.clone(a):null,u&&this.setName(u)},rasterize:function(t,e){var n=this.getStrokeBounds(),i=(t||this.getView().getResolution())/72,s=n.getTopLeft().floor(),a=n.getBottomRight().ceil(),u=new v(a.subtract(s)),l=new C(w.NO_INSERT);if(!u.isZero()){var h=it.getCanvas(u.multiply(i)),c=h.getContext("2d"),f=(new T).scale(i).translate(s.negate());c.save(),f.applyToContext(c),this.draw(c,new o({matrices:[f]})),c.restore(),l.setCanvas(h)}return l.transform((new T).translate(s.add(u.divide(2))).scale(1/i)),(e===r||e)&&l.insertAbove(this),l},contains:function(){return!!this._contains(this._matrix._inverseTransform(_.read(arguments)))},_contains:function(t){var e=this._children;if(e){for(var n=e.length-1;n>=0;n--)if(e[n].contains(t))return!0;return!1}return t.isInside(this.getInternalBounds())},isInside:function(){return m.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new D.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(t,e){return t instanceof w&&this._asPathItem().getIntersections(t._asPathItem(),null,e,!0).length>0}},new function(){function t(){return this._hitTest(_.read(arguments),G.getOptions(arguments))}function e(){var t=_.read(arguments),e=G.getOptions(arguments),n=[];return this._hitTest(t,o.set({all:n},e)),n}function n(t,e,n,i){var r=this._children;if(r)for(var s=r.length-1;s>=0;s--){var a=r[s],o=a!==i&&a._hitTest(t,e,n);if(o&&!e.all)return o}return null}return y.inject({hitTest:t,hitTestAll:e,_hitTest:n}),{hitTest:t,hitTestAll:e,_hitTestChildren:n}},{_hitTest:function(t,e,n){function i(t){return t&&d&&!d(t)&&(t=null),t&&e.all&&e.all.push(t),t}function r(e,n){var i=h["get"+n]();if(t.subtract(i).divide(l).length<=1)return new G(e,_,{name:o.hyphenate(n),point:i})}if(this._locked||!this._visible||this._guide&&!e.guides||this.isEmpty())return null;var s=this._matrix,a=n?n.appended(s):this.getGlobalMatrix().prepend(this.getView()._matrix),u=Math.max(e.tolerance,1e-12),l=e._tolerancePadding=new v(D._getStrokePadding(u,s.inverted()._shiftless()));if(t=s._inverseTransform(t),!t||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(l.multiply(2))._containsPoint(t))return null;var h,c,f=!(e.guides&&!this._guide||e.selected&&!this.isSelected()||e.type&&e.type!==o.hyphenate(this._class)||e["class"]&&!(this instanceof e["class"])),d=e.match,_=this;if(f&&(e.center||e.bounds)&&this._parent){if(h=this.getInternalBounds(),e.center&&(c=r("center","Center")),!c&&e.bounds)for(var g=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],p=0;p<8&&!c;p++)c=r("bounds",g[p]);c=i(c)}return c||(c=this._hitTestChildren(t,e,a)||f&&i(this._hitTestSelf(t,e,a,this.getStrokeScaling()?null:a.inverted()._shiftless()))||null),c&&c.point&&(c.point=s.transform(c.point)),c},_hitTestSelf:function(t,e){if(e.fill&&this.hasFill()&&this._contains(t))return new G("fill",this)},matches:function(t,e){function n(t,e){for(var i in t)if(t.hasOwnProperty(i)){var r=t[i],s=e[i];if(o.isPlainObject(r)&&o.isPlainObject(s)){if(!n(r,s))return!1}else if(!o.equals(r,s))return!1}return!0}var i=typeof t;if("object"===i){for(var r in t)if(t.hasOwnProperty(r)&&!this.matches(r,t[r]))return!1;return!0}if("function"===i)return t(this);if("match"===t)return e(this);var s=/^(empty|editable)$/.test(t)?this["is"+o.capitalize(t)]():"type"===t?o.hyphenate(this._class):this[t];if("class"===t){if("function"==typeof e)return this instanceof e;s=this._class}if("function"==typeof e)return!!e(s);if(e){if(e.test)return e.test(s);if(o.isPlainObject(e))return n(e,s)}return o.equals(s,e)},getItems:function(t){return w._getItems(this,t,this._matrix)},getItem:function(t){return w._getItems(this,t,this._matrix,null,!0)[0]||null},statics:{_getItems:function _t(t,e,n,i,r){if(!i){var s="object"==typeof e&&e,a=s&&s.overlapping,u=s&&s.inside,l=a||u,h=l&&m.read([l]);i={items:[],recursive:s&&s.recursive!==!1,inside:!!u,overlapping:!!a,rect:h,path:a&&new D.Rectangle({rectangle:h,insert:!1})},s&&(e=o.filter({},e,{recursive:!0,inside:!0,overlapping:!0}))}var c=t._children,f=i.items,h=i.rect;n=h&&(n||new T);for(var d=0,_=c&&c.length;d<_;d++){var g=c[d],v=n&&n.appended(g._matrix),p=!0;if(h){var l=g.getBounds(v);if(!h.intersects(l))continue;h.contains(l)||i.overlapping&&(l.contains(h)||i.path.intersects(g,v))||(p=!1)}if(p&&g.matches(e)&&(f.push(g),r))break;if(i.recursive!==!1&&_t(g,e,v,i,r),r&&f.length>0)break}return f}}},{importJSON:function(t){var e=o.importJSON(t,this);return e!==this?this.addChild(e):e},addChild:function(t){return this.insertChild(r,t)},insertChild:function(t,e){var n=e?this.insertChildren(t,[e]):null;return n&&n[0]},addChildren:function(t){return this.insertChildren(this._children.length,t)},insertChildren:function(t,e){var n=this._children;if(n&&e&&e.length>0){e=o.slice(e);for(var i=e.length-1;i>=0;i--){var r=e[i];r?r._remove(!1,!0):e.splice(i,1)}o.splice(n,e,t,0);for(var s=this._project,a=s._changes,i=0,u=e.length;i<u;i++){var r=e[i],l=r._name;r._parent=this,r._setProject(s,!0),l&&r.setName(l),a&&this._changed(5)}this._changed(11)}else e=null;return e},_insertItem:"#insertChild",_insertAt:function(t,e){var n=t&&t._getOwner(),i=t!==this&&n?this:null;return i&&(i._remove(!1,!0),n._insertItem(t._index+e,i)),i},insertAbove:function(t){return this._insertAt(t,1)},insertBelow:function(t){return this._insertAt(t,0)},sendToBack:function(){var t=this._getOwner();return t?t._insertItem(0,this):null},bringToFront:function(){var t=this._getOwner();return t?t._insertItem(r,this):null},appendTop:"#addChild",appendBottom:function(t){return this.insertChild(0,t)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",copyTo:function(t){return t._insertItem(r,this.clone(!1))},reduce:function(t){var e=this._children;if(e&&1===e.length){var n=e[0].reduce(t);return this._parent?(n.insertAbove(this),this.remove()):n.remove(),n}return this},_removeNamed:function(){var t=this._getOwner();if(t){var e=t._children,n=t._namedChildren,i=this._name,r=n[i],s=r?r.indexOf(this):-1;s!==-1&&(e[i]==this&&delete e[i],r.splice(s,1),r.length?e[i]=r[0]:delete n[i])}},_remove:function(t,e){var n=this._getOwner(),i=this._project,r=this._index;return!!n&&(this._name&&this._removeNamed(),null!=r&&(i._activeLayer===this&&(i._activeLayer=this.getNextSibling()||this.getPreviousSibling()),o.splice(n._children,null,r,1)),this._installEvents(!1),t&&i._changes&&this._changed(5),e&&n._changed(11,this),this._parent=null,!0)},remove:function(){return this._remove(!0,!0)},replaceWith:function(t){var e=t&&t.insertBelow(this);return e&&this.remove(),e},removeChildren:function(t,e){if(!this._children)return null;t=t||0,e=o.pick(e,this._children.length);for(var n=o.splice(this._children,null,t,e-t),i=n.length-1;i>=0;i--)n[i]._remove(!0,!1);return n.length>0&&this._changed(11),n},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var t=0,e=this._children.length;t<e;t++)this._children[t]._index=t;this._changed(11)}},isEmpty:function(){var t=this._children;return!t||!t.length},isEditable:function(){for(var t=this;t;){if(!t._visible||t._locked)return!1;t=t._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(t){function e(t){var e=[];do e.unshift(t);while(t=t._parent);return e}for(var n=e(this),i=e(t),r=0,s=Math.min(n.length,i.length);r<s;r++)if(n[r]!=i[r])return n[r]._index<i[r]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return!!this._parent&&this._parent.isInserted()},isAbove:function(t){return this._getOrder(t)===-1},isBelow:function(t){return 1===this._getOrder(t)},isParent:function(t){return this._parent===t},isChild:function(t){return t&&t._parent===this},isDescendant:function(t){for(var e=this;e=e._parent;)if(e===t)return!0;return!1},isAncestor:function(t){return!!t&&t.isDescendant(this)},isSibling:function(t){return this._parent===t._parent},isGroupedWith:function(t){for(var e=this._parent;e;){if(e._parent&&/^(Group|Layer|CompoundPath)$/.test(e._class)&&t.isDescendant(e))return!0;e=e._parent}return!1}},o.each(["rotate","scale","shear","skew"],function(t){var e="rotate"===t;this[t]=function(){var n=(e?o:_).read(arguments),i=_.read(arguments,0,{readNull:!0});return this.transform((new T)[t](n,i||this.getPosition(!0)))}},{translate:function(){var t=new T;return this.transform(t.translate.apply(t,arguments))},transform:function(t,e,n,i){t&&t.isIdentity()&&(t=null);var r=this._matrix,s=(e||this._applyMatrix)&&(!r.isIdentity()||t||e&&n&&this._children);if(!t&&!s)return this;if(t&&(!t.isInvertible()&&r.isInvertible()&&(r._backup=r.getValues()),r.prepend(t)),s=s&&this._transformContent(r,n,i)){var a=this._pivot,o=this._style,u=o.getFillColor(!0),l=o.getStrokeColor(!0);a&&r._transformPoint(a,a,!0),u&&u.transform(r),l&&l.transform(r),r.reset(!0),i&&this._canApplyMatrix&&(this._applyMatrix=!0)}var h=this._bounds,c=this._position;this._changed(9);var f=h&&t&&t.decompose();if(f&&!f.shearing&&f.rotation%90===0){for(var d in h){var _=h[d];if(s||!_.internal){var g=_.rect;t._transformBounds(g,g)}}var v=this._boundsGetter,g=h[v&&v.getBounds||v||"getBounds"];g&&(this._position=g.getCenter(!0)),this._bounds=h}else t&&c&&(this._position=t._transformPoint(c,c));return this},_transformContent:function(t,e,n){var i=this._children;if(i){for(var r=0,s=i.length;r<s;r++)i[r].transform(t,!0,e,n);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(_.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(_.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(_.read(arguments))},localToParent:function(){return this._matrix._transformPoint(_.read(arguments))},fitBounds:function(t,e){t=m.read(arguments);var n=this.getBounds(),i=n.height/n.width,r=t.height/t.width,s=(e?i>r:i<r)?t.width/n.width:t.height/n.height,a=new m(new _,new v(n.width*s,n.height*s));a.setCenter(t.getCenter()),this.setBounds(a)}}),{_setStyles:function(t,e,n){var r=this._style;if(r.hasFill()&&(t.fillStyle=r.getFillColor().toCanvasStyle(t)),r.hasStroke()){t.strokeStyle=r.getStrokeColor().toCanvasStyle(t),t.lineWidth=r.getStrokeWidth();var s=r.getStrokeJoin(),a=r.getStrokeCap(),o=r.getMiterLimit();if(s&&(t.lineJoin=s),a&&(t.lineCap=a),o&&(t.miterLimit=o),i.support.nativeDash){var u=r.getDashArray(),l=r.getDashOffset();u&&u.length&&("setLineDash"in t?(t.setLineDash(u),t.lineDashOffset=l):(t.mozDash=u,t.mozDashOffset=l))}}if(r.hasShadow()){var h=e.pixelRatio||1,c=n._shiftless().prepend((new T).scale(h,h)),f=c.transform(new _(r.getShadowBlur(),0)),d=c.transform(this.getShadowOffset());t.shadowColor=r.getShadowColor().toCanvasStyle(t),t.shadowBlur=f.getLength(),t.shadowOffsetX=d.x,t.shadowOffsetY=d.y}},draw:function(t,e,n){var i=this._updateVersion=this._project._updateVersion;if(this._visible&&0!==this._opacity){var r=e.matrices,s=e.viewMatrix,a=this._matrix,o=r[r.length-1].appended(a);if(o.isInvertible()){s=s?s.appended(o):o,r.push(o),e.updateMatrix&&(o._updateVersion=i,this._globalMatrix=o);var u,l,h,c=this._blendMode,f=this._opacity,d="normal"===c,_=rt.nativeModes[c],g=d&&1===f||e.dontStart||e.clip||(_||d&&f<1)&&this._canComposite(),v=e.pixelRatio||1;if(!g){var p=this.getStrokeBounds(s);if(!p.width||!p.height)return;h=e.offset,l=e.offset=p.getTopLeft().floor(),u=t,t=it.getContext(p.getSize().ceil().add(1).multiply(v)),1!==v&&t.scale(v,v)}t.save();var m=n?n.appended(a):this._canScaleStroke&&!this.getStrokeScaling(!0)&&s,b=!g&&e.clipItem,T=!m||b;if(g?(t.globalAlpha=f,_&&(t.globalCompositeOperation=c)):T&&t.translate(-l.x,-l.y),T&&(g?a:s).applyToContext(t),b&&e.clipItem.draw(t,e.extend({clip:!0})),m){t.setTransform(v,0,0,v,0,0);var S=e.offset;S&&t.translate(-S.x,-S.y)}this._draw(t,e,s,m),t.restore(),r.pop(),e.clip&&!e.dontFinish&&t.clip(),g||(rt.process(c,t,u,f,l.subtract(h).multiply(v)),it.release(t),e.offset=h)}}},_isUpdated:function(t){var e=this._parent;if(e instanceof L)return e._isUpdated(t);var n=this._updateVersion===t;return!n&&e&&e._visible&&e._isUpdated(t)&&(this._updateVersion=t,n=!0),n},_drawSelection:function(t,e,n,i,r){var s=this._selection,a=1&s,o=2&s||a&&this._selectBounds,u=4&s;if(this._drawSelected||(a=!1),(a||o||u)&&this._isUpdated(r)){var l,h=this.getSelectedColor(!0)||(l=this.getLayer())&&l.getSelectedColor(!0),c=e.appended(this.getGlobalMatrix(!0)),f=n/2;if(t.strokeStyle=t.fillStyle=h?h.toCanvasStyle(t):"#009dec",a&&this._drawSelected(t,c,i),u){var d=this.getPosition(!0),_=d.x,g=d.y;t.beginPath(),t.arc(_,g,f,0,2*Math.PI,!0),t.stroke();for(var v=[[0,-1],[1,0],[0,1],[-1,0]],p=f,m=n+1,b=0;b<4;b++){var T=v[b],S=T[0],y=T[1];t.moveTo(_+S*p,g+y*p),t.lineTo(_+S*m,g+y*m),t.stroke()}}if(o){var w=c._transformCorners(this.getInternalBounds());t.beginPath();for(var b=0;b<8;b++)t[b?"lineTo":"moveTo"](w[b],w[++b]);t.closePath(),t.stroke();for(var b=0;b<8;b++)t.fillRect(w[b]-f,w[++b]-f,n,n)}}},_canComposite:function(){return!1}},o.each(["down","drag","up","move"],function(t){this["removeOn"+o.capitalize(t)]=function(){var e={};return e[t]=!0,this.removeOn(e)}},{removeOn:function(t){for(var e in t)if(t[e]){var n="mouse"+e,i=this._project,r=i._removeSets=i._removeSets||{};r[n]=r[n]||{},r[n][this._id]=this}return this}})),x=w.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||this.addChildren(Array.isArray(t)?t:arguments)},_changed:function gt(t){gt.base.call(this,t),1026&t&&(this._clipItem=r)},_getClipItem:function(){var t=this._clipItem;if(t===r){t=null;for(var e=this._children,n=0,i=e.length;n<i;n++)if(e[n]._clipMask){t=e[n];break}this._clipItem=t}return t},isClipped:function(){return!!this._getClipItem()},setClipped:function(t){var e=this.getFirstChild();e&&e.setClipMask(t)},_getBounds:function vt(t,e){var n=this._getClipItem();return n?n._getCachedBounds(t&&t.appended(n._matrix),o.set({},e,{stroke:!1})):vt.base.call(this,t,e)},_hitTestChildren:function pt(t,e,n){var i=this._getClipItem();return(!i||i.contains(t))&&pt.base.call(this,t,e,n,i)},_draw:function(t,e){var n=e.clip,i=!n&&this._getClipItem();e=e.extend({clipItem:i,clip:!1}),n?(t.beginPath(),e.dontStart=e.dontFinish=!0):i&&i.draw(t,e.extend({clip:!0}));for(var r=this._children,s=0,a=r.length;s<a;s++){var o=r[s];o!==i&&o.draw(t,e)}}}),A=x.extend({_class:"Layer",initialize:function(){x.apply(this,arguments)},_getOwner:function(){return this._parent||null!=this._index&&this._project},isInserted:function mt(){return this._parent?mt.base.call(this):null!=this._index},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),P=w.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(t){this._initialize(t)},_equals:function(t){return this._type===t._type&&this._size.equals(t._size)&&o.equals(this._radius,t._radius)},copyContent:function(t){this.setType(t._type),this.setSize(t._size),this.setRadius(t._radius)},getType:function(){return this._type},setType:function(t){this._type=t},getShape:"#getType",setShape:"#setType",getSize:function(){var t=this._size;return new p(t.width,t.height,this,"setSize")},setSize:function(){var t=v.read(arguments);if(this._size){if(!this._size.equals(t)){var e=this._type,n=t.width,i=t.height;"rectangle"===e?this._radius.set(v.min(this._radius,t.divide(2))):"circle"===e?(n=i=(n+i)/2,this._radius=n/2):"ellipse"===e&&this._radius._set(n/2,i/2),this._size._set(n,i),this._changed(9)}}else this._size=t.clone()},getRadius:function(){var t=this._radius;return"circle"===this._type?t:new p(t.width,t.height,this,"setRadius")},setRadius:function(t){var e=this._type;if("circle"===e){if(t===this._radius)return;var n=2*t;this._radius=t,this._size._set(n,n)}else if(t=v.read(arguments),this._radius){if(this._radius.equals(t))return;if(this._radius.set(t),"rectangle"===e){var n=v.max(this._size,t.multiply(2));this._size.set(n)}else"ellipse"===e&&this._size._set(2*t.width,2*t.height)}else this._radius=t.clone();this._changed(9)},isEmpty:function(){return!1},toPath:function(t){var e=new(D[o.capitalize(this._type)])({center:new _,size:this._size,radius:this._radius,insert:!1});return e.copyAttributes(this),i.settings.applyMatrix&&e.setApplyMatrix(!0),(t===r||t)&&e.insertAbove(this),e},toShape:"#clone",_draw:function(t,e,n,i){var r=this._style,s=r.hasFill(),a=r.hasStroke(),o=e.dontFinish||e.clip,u=!i;if(s||a||o){var l=this._type,h=this._radius,c="circle"===l;if(e.dontStart||t.beginPath(),u&&c)t.arc(0,0,h,0,2*Math.PI,!0);else{var f=c?h:h.width,d=c?h:h.height,_=this._size,g=_.width,v=_.height;if(u&&"rectangle"===l&&0===f&&0===d)t.rect(-g/2,-v/2,g,v);else{var p=g/2,m=v/2,b=.44771525016920644,T=f*b,S=d*b,y=[-p,-m+d,-p,-m+S,-p+T,-m,-p+f,-m,p-f,-m,p-T,-m,p,-m+S,p,-m+d,p,m-d,p,m-S,p-T,m,p-f,m,-p+f,m,-p+T,m,-p,m-S,-p,m-d];i&&i.transform(y,y,32),t.moveTo(y[0],y[1]),t.bezierCurveTo(y[2],y[3],y[4],y[5],y[6],y[7]),p!==f&&t.lineTo(y[8],y[9]),t.bezierCurveTo(y[10],y[11],y[12],y[13],y[14],y[15]),m!==d&&t.lineTo(y[16],y[17]),t.bezierCurveTo(y[18],y[19],y[20],y[21],y[22],y[23]),p!==f&&t.lineTo(y[24],y[25]),t.bezierCurveTo(y[26],y[27],y[28],y[29],y[30],y[31])}}t.closePath()}o||!s&&!a||(this._setStyles(t,e,n),s&&(t.fill(r.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),a&&t.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(t,e){var n=new m(this._size).setCenter(0,0),i=this._style,r=e.stroke&&i.hasStroke()&&i.getStrokeWidth();return t&&(n=t._transformBounds(n)),r?n.expand(D._getStrokePadding(r,this._getStrokeMatrix(t,e))):n}},new function(){function t(t,e,n){var i=t._radius;if(!i.isZero())for(var r=t._size.divide(2),s=1;s<=4;s++){var a=new _(s>1&&s<4?-1:1,s>2?-1:1),o=a.multiply(r),u=o.subtract(a.multiply(i)),l=new m(n?o.add(a.multiply(n)):o,u);if(l.contains(e))return{point:u,quadrant:s}}}function e(t,e,n,i){var r=t.divide(e);return(!i||r.isInQuadrant(i))&&r.subtract(r.normalize()).multiply(e).divide(n).length<=1}return{_contains:function n(e){if("rectangle"===this._type){var i=t(this,e);return i?e.subtract(i.point).divide(this._radius).getLength()<=1:n.base.call(this,e)}return e.divide(this.size).getLength()<=.5},_hitTestSelf:function i(n,r,s,a){var o=!1,u=this._style,l=r.stroke&&u.hasStroke(),h=r.fill&&u.hasFill();if(l||h){var c=this._type,f=this._radius,d=l?u.getStrokeWidth()/2:0,_=r._tolerancePadding.add(D._getStrokePadding(d,!u.getStrokeScaling()&&a));if("rectangle"===c){var g=_.multiply(2),v=t(this,n,g);if(v)o=e(n.subtract(v.point),f,_,v.quadrant);else{var p=new m(this._size).setCenter(0,0),b=p.expand(g),T=p.expand(g.negate());o=b._containsPoint(n)&&!T._containsPoint(n)}}else o=e(n,f,_)}return o?new G(l?"stroke":"fill",this):i.base.apply(this,arguments)}}},{statics:new function(){function t(t,e,n,i,r){var s=new P(o.getNamed(r));return s._type=t,s._size=n,s._radius=i,s.translate(e)}return{Circle:function(){var e=_.readNamed(arguments,"center"),n=o.readNamed(arguments,"radius");return t("circle",e,new v(2*n),n,arguments)},Rectangle:function(){var e=m.readNamed(arguments,"rectangle"),n=v.min(v.readNamed(arguments,"radius"),e.getSize(!0).divide(2));return t("rectangle",e.getCenter(!0),e.getSize(!0),n,arguments)},Ellipse:function(){var e=P._readEllipse(arguments),n=e.radius;return t("ellipse",e.center,n.multiply(2),n,arguments)},_readEllipse:function(t){var e,n;if(o.hasNamed(t,"radius"))e=_.readNamed(t,"center"),n=v.readNamed(t,"radius");else{var i=m.readNamed(t,"rectangle");e=i.getCenter(!0),n=i.getSize(!0).divide(2)}return{center:e,radius:n}}}}}),C=w.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],initialize:function(t,e){if(!this._initialize(t,e!==r&&_.read(arguments,1))){var n="string"==typeof t?a.getElementById(t):t;n?this.setImage(n):this.setSource(t)}this._size||(this._size=new v,this._loaded=!1)},_equals:function(t){return this.getSource()===t.getSource()},copyContent:function(t){var e=t._image,n=t._canvas;if(e)this._setImage(e);else if(n){var i=it.getCanvas(t._size);i.getContext("2d").drawImage(n,0,0),this._setImage(i)}this._crossOrigin=t._crossOrigin},getSize:function(){var t=this._size;return new p(t?t.width:0,t?t.height:0,this,"setSize")},setSize:function(){var t=v.read(arguments);if(!t.equals(this._size))if(t.width>0&&t.height>0){var e=this.getElement();this._setImage(it.getCanvas(t)),e&&this.getContext(!0).drawImage(e,0,0,t.width,t.height)}else this._canvas&&it.release(this._canvas),this._size=t.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(t){this.setSize(t,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(t){this.setSize(this.getWidth(),t)},getLoaded:function(){return this._loaded},isEmpty:function(){var t=this._size;return!t||0===t.width&&0===t.height},getResolution:function(){var t=this._matrix,e=new _(0,0).transform(t),n=new _(1,0).transform(t).subtract(e),i=new _(0,1).transform(t).subtract(e);return new v(72/n.getLength(),72/i.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(t){function e(t){var e=n.getView(),r=t&&t.type||"load";e&&n.responds(r)&&(i=e._scope,n.emit(r,new Q(t)))}var n=this;this._setImage(t),this._loaded?setTimeout(e,0):t&&q.add(t,{load:function(i){n._setImage(t),e(i)},error:e})},_setImage:function(t){this._canvas&&it.release(this._canvas),t&&t.getContext?(this._image=null,this._canvas=t,this._loaded=!0):(this._image=t,this._canvas=null,this._loaded=!!(t&&t.src&&t.complete)),this._size=new v(t?t.naturalWidth||t.width:0,t?t.naturalHeight||t.height:0),this._context=null,this._changed(521)},getCanvas:function(){if(!this._canvas){var t=it.getContext(this._size);try{this._image&&t.drawImage(this._image,0,0),this._canvas=t.canvas}catch(e){it.release(t)}}return this._canvas},setCanvas:"#setImage",getContext:function(t){return this._context||(this._context=this.getCanvas().getContext("2d")),t&&(this._image=null,this._changed(513)),this._context},setContext:function(t){this._context=t},getSource:function(){var t=this._image;return t&&t.src||this.toDataURL()},setSource:function(t){var e=new n.Image,i=this._crossOrigin;i&&(e.crossOrigin=i),e.src=t,this.setImage(e)},getCrossOrigin:function(){var t=this._image;return t&&t.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(t){this._crossOrigin=t;var e=this._image;e&&(e.crossOrigin=t)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var t=m.read(arguments),e=it.getContext(t.getSize());return e.drawImage(this.getCanvas(),t.x,t.y,t.width,t.height,0,0,t.width,t.height),e.canvas},getSubRaster:function(){var t=m.read(arguments),e=new C(w.NO_INSERT);return e._setImage(this.getSubCanvas(t)),e.translate(t.getCenter().subtract(this.getSize().divide(2))),e._matrix.prepend(this._matrix),e.insertAbove(this),e},toDataURL:function(){var t=this._image,e=t&&t.src;if(/^data:/.test(e))return e;var n=this.getCanvas();return n?n.toDataURL.apply(n,arguments):null},drawImage:function(t){var e=_.read(arguments,1);this.getContext(!0).drawImage(t,e.x,e.y)},getAverageColor:function(t){var e,n;if(t?t instanceof k?(n=t,e=t.getBounds()):"object"==typeof t&&("width"in t?e=new m(t):"x"in t&&(e=new m(t.x-.5,t.y-.5,1,1))):e=this.getBounds(),!e)return null;var i=32,r=Math.min(e.width,i),s=Math.min(e.height,i),a=C._sampleContext;a?a.clearRect(0,0,i+1,i+1):a=C._sampleContext=it.getContext(new v(i)),a.save();var u=(new T).scale(r/e.width,s/e.height).translate(-e.x,-e.y);u.applyToContext(a),n&&n.draw(a,new o({clip:!0,matrices:[u]})),this._matrix.applyToContext(a);var l=this.getElement(),h=this._size;l&&a.drawImage(l,-h.width/2,-h.height/2),a.restore();for(var c=a.getImageData(.5,.5,Math.ceil(r),Math.ceil(s)).data,f=[0,0,0],d=0,_=0,g=c.length;_<g;_+=4){var p=c[_+3];d+=p,p/=255,f[0]+=c[_]*p,f[1]+=c[_+1]*p,f[2]+=c[_+2]*p}for(var _=0;_<3;_++)f[_]/=d;return d?F.read(f):null},getPixel:function(){var t=_.read(arguments),e=this.getContext().getImageData(t.x,t.y,1,1).data;return new F("rgb",[e[0]/255,e[1]/255,e[2]/255],e[3]/255)},setPixel:function(){var t=_.read(arguments),e=F.read(arguments),n=e._convert("rgb"),i=e._alpha,r=this.getContext(!0),s=r.createImageData(1,1),a=s.data;a[0]=255*n[0],a[1]=255*n[1],a[2]=255*n[2],a[3]=null!=i?255*i:255,r.putImageData(s,t.x,t.y)},createImageData:function(){var t=v.read(arguments);return this.getContext().createImageData(t.width,t.height)},getImageData:function(){var t=m.read(arguments);return t.isEmpty()&&(t=new m(this._size)),this.getContext().getImageData(t.x,t.y,t.width,t.height)},setImageData:function(t){var e=_.read(arguments,1);this.getContext(!0).putImageData(t,e.x,e.y)},_getBounds:function(t,e){var n=new m(this._size).setCenter(0,0);return t?t._transformBounds(n):n},_hitTestSelf:function(t){if(this._contains(t)){var e=this;return new G("pixel",e,{offset:t.add(e._size.divide(2)).round(),color:{get:function(){return e.getPixel(this.offset)}}})}},_draw:function(t){var e=this.getElement();e&&(t.globalAlpha=this._opacity,t.drawImage(e,-this._size.width/2,-this._size.height/2))},_canComposite:function(){return!0}}),M=w.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(t,e){this._initialize(t,e!==r&&_.read(arguments,1))||this.setDefinition(t instanceof I?t:new I(t))},_equals:function(t){return this._definition===t._definition},copyContent:function(t){this.setDefinition(t._definition)},getDefinition:function(){return this._definition},setDefinition:function(t){this._definition=t,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(t,e){var n=this._definition._item;return n._getCachedBounds(n._matrix.prepended(t),e)},_hitTestSelf:function(t,e,n,i){var r=this._definition._item._hitTest(t,e,n);return r&&(r.item=this),r},_draw:function(t,e){this._definition._item.draw(t,e)}}),I=o.extend({_class:"SymbolDefinition",initialize:function(t,e){this._id=d.get(),this.project=i.project,t&&this.setItem(t,e)},_serialize:function(t,e){return e.add(this,function(){return o.serialize([this._class,this._item],t,!1,e)})},_changed:function(t){8&t&&w._clearBoundsCache(this),1&t&&this.project._changed(t)},getItem:function(){return this._item},setItem:function(t,e){t._symbol&&(t=t.clone()),this._item&&(this._item._symbol=null),this._item=t,t.remove(),t.setSelected(!1),e||t.setPosition(new _),t._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(t){return new M(this,t)},clone:function(){return new I(this._item.clone(!1))},equals:function(t){return t===this||t&&this._item.equals(t._item)||!1}}),G=o.extend({_class:"HitResult",initialize:function(t,e,n){this.type=t,this.item=e,n&&(n.enumerable=!0,this.inject(n))},statics:{getOptions:function(t){var e=t&&o.read(t);return o.set({type:null,tolerance:i.settings.hitTolerance,fill:!e,stroke:!e,segments:!e,handles:!1,ends:!1,center:!1,bounds:!1,guides:!1,selected:!1},e)}}}),B=o.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(t,e,n,i,s,a){var o,u,l,h,c=arguments.length;c>0&&(null==t||"object"==typeof t?1===c&&t&&"point"in t?(o=t.point,u=t.handleIn,l=t.handleOut,h=t.selection):(o=t,u=e,l=n,h=i):(o=[t,e],u=n!==r?[n,i]:null,l=s!==r?[s,a]:null)),new E(o,this,"_point"),new E(u,this,"_handleIn"),new E(l,this,"_handleOut"),h&&this.setSelection(h)},_serialize:function(t,e){var n=this._point,i=this._selection,r=i||this.hasHandles()?[n,this._handleIn,this._handleOut]:n;return i&&r.push(i),o.serialize(r,t,!0,e)},_changed:function(t){var e=this._path;
if(e){var n,i=e._curves,r=this._index;i&&(t&&t!==this._point&&t!==this._handleIn||!(n=r>0?i[r-1]:e._closed?i[i.length-1]:null)||n._changed(),t&&t!==this._point&&t!==this._handleOut||!(n=i[r])||n._changed()),e._changed(25)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(_.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(_.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(_.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var t=this._handleIn,e=this._handleOut;return!t.isZero()&&!e.isZero()&&t.isCollinear(e)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(t){var e=this._selection,n=this._path;this._selection=t=t||0,n&&t!==e&&(n._updateSelection(this,e,t),n._changed(129))},changeSelection:function(t,e){var n=this._selection;this.setSelection(e?n|t:n&~t)},isSelected:function(){return!!(7&this._selection)},setSelected:function(t){this.changeSelection(7,t)},getIndex:function(){return this._index!==r?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var t=this._path,e=this._index;return t?(e>0&&!t._closed&&e===t._segments.length-1&&e--,t.getCurves()[e]||null):null},getLocation:function(){var t=this.getCurve();return t?new O(t,this===t._segment1?0:1):null},getNext:function(){var t=this._path&&this._path._segments;return t&&(t[this._index+1]||this._path._closed&&t[0])||null},smooth:function(t,e,n){var i=t||{},s=i.type,a=i.factor,o=this.getPrevious(),u=this.getNext(),l=(o||this)._point,h=this._point,c=(u||this)._point,f=l.getDistance(h),d=h.getDistance(c);if(s&&"catmull-rom"!==s){if("geometric"!==s)throw new Error("Smoothing method '"+s+"' not supported.");if(o&&u){var g=l.subtract(c),v=a===r?.4:a,p=v*f/(f+d);e||this.setHandleIn(g.multiply(p)),n||this.setHandleOut(g.multiply(p-v))}}else{var m=a===r?.5:a,b=Math.pow(f,m),T=b*b,S=Math.pow(d,m),y=S*S;if(!e&&o){var w=2*y+3*S*b+T,x=3*S*(S+b);this.setHandleIn(0!==x?new _((y*l._x+w*h._x-T*c._x)/x-h._x,(y*l._y+w*h._y-T*c._y)/x-h._y):new _)}if(!n&&u){var w=2*T+3*b*S+y,x=3*b*(b+S);this.setHandleOut(0!==x?new _((T*c._x+w*h._x-y*l._x)/x-h._x,(T*c._y+w*h._y-y*l._y)/x-h._y):new _)}}},getPrevious:function(){var t=this._path&&this._path._segments;return t&&(t[this._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var t=this._path;return t&&this._index===t._segments.length-1||!1},reverse:function(){var t=this._handleIn,e=this._handleOut,n=t.clone();t.set(e),e.set(n)},reversed:function(){return new B(this._point,this._handleOut,this._handleIn)},remove:function(){return!!this._path&&!!this._path.removeSegment(this._index)},clone:function(){return new B(this._point,this._handleIn,this._handleOut)},equals:function(t){return t===this||t&&this._class===t._class&&this._point.equals(t._point)&&this._handleIn.equals(t._handleIn)&&this._handleOut.equals(t._handleOut)||!1},toString:function(){var t=["point: "+this._point];return this._handleIn.isZero()||t.push("handleIn: "+this._handleIn),this._handleOut.isZero()||t.push("handleOut: "+this._handleOut),"{ "+t.join(", ")+" }"},transform:function(t){this._transformCoordinates(t,new Array(6),!0),this._changed()},interpolate:function(t,e,n){var i=1-n,r=n,s=t._point,a=e._point,o=t._handleIn,u=e._handleIn,l=e._handleOut,h=t._handleOut;this._point._set(i*s._x+r*a._x,i*s._y+r*a._y,!0),this._handleIn._set(i*o._x+r*u._x,i*o._y+r*u._y,!0),this._handleOut._set(i*h._x+r*l._x,i*h._y+r*l._y,!0),this._changed()},_transformCoordinates:function(t,e,n){var i=this._point,r=n&&this._handleIn.isZero()?null:this._handleIn,s=n&&this._handleOut.isZero()?null:this._handleOut,a=i._x,o=i._y,u=2;return e[0]=a,e[1]=o,r&&(e[u++]=r._x+a,e[u++]=r._y+o),s&&(e[u++]=s._x+a,e[u++]=s._y+o),t&&(t._transformCoordinates(e,e,u/2),a=e[0],o=e[1],n?(i._x=a,i._y=o,u=2,r&&(r._x=e[u++]-a,r._y=e[u++]-o),s&&(s._x=e[u++]-a,s._y=e[u++]-o)):(r||(e[u++]=a,e[u++]=o),s||(e[u++]=a,e[u++]=o))),e}}),E=_.extend({initialize:function(t,e,n){var i,s,a;if(t)if((i=t[0])!==r)s=t[1];else{var o=t;(i=o.x)===r&&(o=_.read(arguments),i=o.x),s=o.y,a=o.selected}else i=s=0;this._x=i,this._y=s,this._owner=e,e[n]=this,a&&this.setSelected(!0)},_set:function(t,e){return this._x=t,this._y=e,this._owner._changed(this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner._changed(this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner._changed(this)},isZero:function(){var t=f.isZero;return t(this._x)&&t(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner.changeSelection(this._getSelection(),t)},_getSelection:function(){var t=this._owner;return this===t._point?1:this===t._handleIn?2:this===t._handleOut?4:0}}),H=o.extend({_class:"Curve",beans:!0,initialize:function(t,e,n,i,r,s,a,o){var u,l,h,c,f,d,_=arguments.length;3===_?(this._path=t,u=e,l=n):_?1===_?"segment1"in t?(u=new B(t.segment1),l=new B(t.segment2)):"point1"in t?(h=t.point1,f=t.handle1,d=t.handle2,c=t.point2):Array.isArray(t)&&(h=[t[0],t[1]],c=[t[6],t[7]],f=[t[2]-t[0],t[3]-t[1]],d=[t[4]-t[6],t[5]-t[7]]):2===_?(u=new B(t),l=new B(e)):4===_?(h=t,f=e,d=n,c=i):8===_&&(h=[t,e],c=[a,o],f=[n-t,i-e],d=[r-a,s-o]):(u=new B,l=new B),this._segment1=u||new B(h,null,f),this._segment2=l||new B(c,d,null)},_serialize:function(t,e){return o.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],t,!0,e)},_changed:function(){this._length=this._bounds=r},clone:function(){return new H(this._segment1,this._segment2)},toString:function(){var t=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||t.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||t.push("handle2: "+this._segment2._handleIn),t.push("point2: "+this._segment2._point),"{ "+t.join(", ")+" }"},classify:function(){return H.classify(this.getValues())},remove:function(){var t=!1;if(this._path){var e=this._segment2,n=e._handleOut;t=e.remove(),t&&this._segment1._handleOut.set(n)}return t},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(_.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(_.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(_.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(_.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index+1]||this._path._closed&&t[0])||null},getPrevious:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var t=this._path;return t&&this._segment1._index===t._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle2().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(t){this.getPoint1().setSelected(t),this.getHandle1().setSelected(t),this.getHandle2().setSelected(t),this.getPoint2().setSelected(t)},getValues:function(t){return H.getValues(this._segment1,this._segment2,t)},getPoints:function(){for(var t=this.getValues(),e=[],n=0;n<8;n+=2)e.push(new _(t[n],t[n+1]));return e}},{getLength:function(){return null==this._length&&(this._length=H.getLength(this.getValues(),0,1)),this._length},getArea:function(){return H.getArea(this.getValues())},getLine:function(){return new S(this._segment1._point,this._segment2._point)},getPart:function(t,e){return new H(H.getPart(this.getValues(),t,e))},getPartLength:function(t,e){return H.getLength(this.getValues(),t,e)},divideAt:function(t){return this.divideAtTime(t&&t.curve===this?t.time:this.getTimeAt(t))},divideAtTime:function(t,e){var n=1e-8,i=1-n,r=null;if(t>=n&&t<=i){var s=H.subdivide(this.getValues(),t),a=s[0],o=s[1],u=e||this.hasHandles(),l=this._segment1,h=this._segment2,c=this._path;u&&(l._handleOut._set(a[2]-a[0],a[3]-a[1]),h._handleIn._set(o[4]-o[6],o[5]-o[7]));var f=a[6],d=a[7],g=new B(new _(f,d),u&&new _(a[4]-f,a[5]-d),u&&new _(o[2]-f,o[3]-d));c?(c.insert(l._index+1,g),r=this.getNext()):(this._segment2=g,this._changed(),r=new H(g,h))}return r},splitAt:function(t){var e=this._path;return e?e.splitAt(t):null},splitAtTime:function(t){return this.splitAt(this.getLocationAtTime(t))},divide:function(t,e){return this.divideAtTime(t===r?.5:e?t:this.getTimeAt(t))},split:function(t,e){return this.splitAtTime(t===r?.5:e?t:this.getTimeAt(t))},reversed:function(){return new H(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(t,e,n,i){var r=t._point,s=t._handleOut,a=e._handleIn,o=e._point,u=r.x,l=r.y,h=o.x,c=o.y,f=i?[u,l,u,l,h,c,h,c]:[u,l,u+s._x,l+s._y,h+a._x,c+a._y,h,c];return n&&n._transformCoordinates(f,f,4),f},subdivide:function(t,e){var n=t[0],i=t[1],s=t[2],a=t[3],o=t[4],u=t[5],l=t[6],h=t[7];e===r&&(e=.5);var c=1-e,f=c*n+e*s,d=c*i+e*a,_=c*s+e*o,g=c*a+e*u,v=c*o+e*l,p=c*u+e*h,m=c*f+e*_,b=c*d+e*g,T=c*_+e*v,S=c*g+e*p,y=c*m+e*T,w=c*b+e*S;return[[n,i,f,d,m,b,y,w],[y,w,T,S,v,p,l,h]]},getMonoCurves:function(t,e){var n=[],i=e?0:1,r=t[i+0],s=t[i+2],a=t[i+4],o=t[i+6];if(r>=s==s>=a&&s>=a==a>=o||H.isStraight(t))n.push(t);else{var u=3*(s-a)-r+o,l=2*(r+a)-4*s,h=s-r,c=1e-8,d=1-c,_=[],g=f.solveQuadratic(u,l,h,_,c,d);if(g){_.sort();var v=_[0],p=H.subdivide(t,v);n.push(p[0]),g>1&&(v=(_[1]-v)/(1-v),p=H.subdivide(p[1],v),n.push(p[0])),n.push(p[1])}else n.push(t)}return n},solveCubic:function(t,e,n,i,r,s){var a=t[e],o=t[e+2],u=t[e+4],l=t[e+6],h=0;if(!(a<n&&l<n&&o<n&&u<n||a>n&&l>n&&o>n&&u>n)){var c=3*(o-a),d=3*(u-o)-c,_=l-a-c-d;h=f.solveCubic(_,d,c,a-n,i,r,s)}return h},getTimeOf:function(t,e){var n=new _(t[0],t[1]),i=new _(t[6],t[7]),r=1e-12,s=1e-7,a=e.isClose(n,r)?0:e.isClose(i,r)?1:null;if(null===a)for(var o=[e.x,e.y],u=[],l=0;l<2;l++)for(var h=H.solveCubic(t,l,o[l],u,0,1),c=0;c<h;c++){var f=u[c];if(e.isClose(H.getPoint(t,f),s))return f}return e.isClose(n,s)?0:e.isClose(i,s)?1:null},getNearestTime:function(t,e){function n(n){if(n>=0&&n<=1){var i=e.getDistance(H.getPoint(t,n),!0);if(i<f)return f=i,d=n,!0}}if(H.isStraight(t)){var i=t[0],r=t[1],s=t[6],a=t[7],o=s-i,u=a-r,l=o*o+u*u;if(0===l)return 0;var h=((e.x-i)*o+(e.y-r)*u)/l;return h<1e-12?0:h>.999999999999?1:H.getTimeOf(t,new _(i+h*o,r+h*u))}for(var c=100,f=1/0,d=0,g=0;g<=c;g++)n(g/c);for(var v=1/(2*c);v>1e-8;)n(d-v)||n(d+v)||(v/=2);return d},getPart:function(t,e,n){var i=e>n;if(i){var r=e;e=n,n=r}return e>0&&(t=H.subdivide(t,e)[1]),n<1&&(t=H.subdivide(t,(n-e)/(1-e))[0]),i?[t[6],t[7],t[4],t[5],t[2],t[3],t[0],t[1]]:t},isFlatEnough:function(t,e){var n=t[0],i=t[1],r=t[2],s=t[3],a=t[4],o=t[5],u=t[6],l=t[7],h=3*r-2*n-u,c=3*s-2*i-l,f=3*a-2*u-n,d=3*o-2*l-i;return Math.max(h*h,f*f)+Math.max(c*c,d*d)<=16*e*e},getArea:function(t){var e=t[0],n=t[1],i=t[2],r=t[3],s=t[4],a=t[5],o=t[6],u=t[7];return 3*((u-n)*(i+s)-(o-e)*(r+a)+r*(e-s)-i*(n-a)+u*(s+e/3)-o*(a+n/3))/20},getBounds:function(t){for(var e=t.slice(0,2),n=e.slice(),i=[0,0],r=0;r<2;r++)H._addBounds(t[r],t[r+2],t[r+4],t[r+6],r,0,e,n,i);return new m(e[0],e[1],n[0]-e[0],n[1]-e[1])},_addBounds:function(t,e,n,i,r,s,a,o,u){function l(t,e){var n=t-e,i=t+e;n<a[r]&&(a[r]=n),i>o[r]&&(o[r]=i)}s/=2;var h=a[r]-s,c=o[r]+s;if(t<h||e<h||n<h||i<h||t>c||e>c||n>c||i>c)if(e<t!=e<i&&n<t!=n<i)l(t,s),l(i,s);else{var d=3*(e-n)-t+i,_=2*(t+n)-4*e,g=e-t,v=f.solveQuadratic(d,_,g,u),p=1e-8,m=1-p;l(i,0);for(var b=0;b<v;b++){var T=u[b],S=1-T;p<=T&&T<=m&&l(S*S*S*t+3*S*S*T*e+3*S*T*T*n+T*T*T*i,s)}}}}},o.each(["getBounds","getStrokeBounds","getHandleBounds"],function(t){this[t]=function(){this._bounds||(this._bounds={});var e=this._bounds[t];return e||(e=this._bounds[t]=D[t]([this._segment1,this._segment2],!1,this._path)),e.clone()}},{}),o.each({isStraight:function(t,e,n,i){if(e.isZero()&&n.isZero())return!0;var r=i.subtract(t);if(r.isZero())return!1;if(r.isCollinear(e)&&r.isCollinear(n)){var s=new S(t,i),a=1e-7;if(s.getDistance(t.add(e))<a&&s.getDistance(i.add(n))<a){var o=r.dot(r),u=r.dot(e)/o,l=r.dot(n)/o;return u>=0&&u<=1&&l<=0&&l>=-1}}return!1},isLinear:function(t,e,n,i){var r=i.subtract(t).divide(3);return e.equals(r)&&n.negate().equals(r)}},function(t,e){this[e]=function(e){var n=this._segment1,i=this._segment2;return t(n._point,n._handleOut,i._handleIn,i._point,e)},this.statics[e]=function(e,n){var i=e[0],r=e[1],s=e[6],a=e[7];return t(new _(i,r),new _(e[2]-i,e[3]-r),new _(e[4]-s,e[5]-a),new _(s,a),n)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(t){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(t||0)},isCollinear:function(t){return t&&this.isStraight()&&t.isStraight()&&this.getLine().isCollinear(t.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(t,e){return this.getLocationAtTime(e?t:this.getTimeAt(t))},getLocationAtTime:function(t){return null!=t&&t>=0&&t<=1?new O(this,t):null},getTimeAt:function(t,e){return H.getTimeAt(this.getValues(),t,e)},getParameterAt:"#getTimeAt",getOffsetAtTime:function(t){return this.getPartLength(0,t)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(_.read(arguments)))},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getTimeOf:function(){return H.getTimeOf(this.getValues(),_.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var t=_.read(arguments),e=this.getValues(),n=H.getNearestTime(e,t),i=H.getPoint(e,n);return new O(this,n,i,null,t.getDistance(i))},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t?t.getPoint():t}},new function(){var t=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return o.each(t,function(t){this[t+"At"]=function(e,n){var i=this.getValues();return H[t](i,n?e:H.getTimeAt(i,e))},this[t+"AtTime"]=function(e){return H[t](this.getValues(),e)}},{statics:{_evaluateMethods:t}})},new function(){function t(t){var e=t[0],n=t[1],i=t[2],r=t[3],s=t[4],a=t[5],o=t[6],u=t[7],l=9*(i-s)+3*(o-e),h=6*(e+s)-12*i,c=3*(i-e),f=9*(r-a)+3*(u-n),d=6*(n+a)-12*r,_=3*(r-n);return function(t){var e=(l*t+h)*t+c,n=(f*t+d)*t+_;return Math.sqrt(e*e+n*n)}}function e(t,e){return Math.max(2,Math.min(16,Math.ceil(32*Math.abs(e-t))))}function n(t,e,n,i){if(null==e||e<0||e>1)return null;var r=t[0],s=t[1],a=t[2],o=t[3],u=t[4],l=t[5],h=t[6],c=t[7],d=f.isZero;d(a-r)&&d(o-s)&&(a=r,o=s),d(u-h)&&d(l-c)&&(u=h,l=c);var g,v,p=3*(a-r),m=3*(u-a)-p,b=h-r-p-m,T=3*(o-s),S=3*(l-o)-T,y=c-s-T-S;if(0===n)g=0===e?r:1===e?h:((b*e+m)*e+p)*e+r,v=0===e?s:1===e?c:((y*e+S)*e+T)*e+s;else{var w=1e-8,x=1-w;if(e<w?(g=p,v=T):e>x?(g=3*(h-u),v=3*(c-l)):(g=(3*b*e+2*m)*e+p,v=(3*y*e+2*S)*e+T),i){0===g&&0===v&&(e<w||e>x)&&(g=u-a,v=l-o);var A=Math.sqrt(g*g+v*v);A&&(g/=A,v/=A)}if(3===n){var u=6*b*e+2*m,l=6*y*e+2*S,P=Math.pow(g*g+v*v,1.5);g=0!==P?(g*l-v*u)/P:0,v=0}}return 2===n?new _(v,(-g)):new _(g,v)}return{statics:{classify:function(t){function e(t,e,n){var i=e!==r,s=i&&e>0&&e<1,a=i&&n>0&&n<1;return!i||(s||a)&&("loop"!==t||s&&a)||(t="arch",s=a=!1),{type:t,roots:s||a?s&&a?e<n?[e,n]:[n,e]:[s?e:n]:null}}var n=t[0],i=t[1],s=t[2],a=t[3],o=t[4],u=t[5],l=t[6],h=t[7],c=n*(h-u)+i*(o-l)+l*u-h*o,d=s*(i-h)+a*(l-n)+n*h-i*l,_=o*(a-i)+u*(n-s)+s*i-a*n,g=3*_,v=g-d,p=v-d+c,m=Math.sqrt(p*p+v*v+g*g),b=0!==m?1/m:0,T=f.isZero,S="serpentine";if(p*=b,v*=b,g*=b,T(p))return T(v)?e(T(g)?"line":"quadratic"):e(S,g/(3*v));var y=3*v*v-4*p*g;if(T(y))return e("cusp",v/(2*p));var w=y>0?Math.sqrt(y/3):Math.sqrt(-y),x=2*p;return e(y>0?S:"loop",(v+w)/x,(v-w)/x)},getLength:function(n,i,s,a){if(i===r&&(i=0),s===r&&(s=1),H.isStraight(n)){var o=n;s<1&&(o=H.subdivide(o,s)[0],i/=s),i>0&&(o=H.subdivide(o,i)[1]);var u=o[6]-o[0],l=o[7]-o[1];return Math.sqrt(u*u+l*l)}return f.integrate(a||t(n),i,s,e(i,s))},getTimeAt:function(n,i,s){function a(t){return p+=f.integrate(d,s,t,e(s,t)),s=t,p-i}if(s===r&&(s=i<0?1:0),0===i)return s;var o=Math.abs,u=1e-12,l=i>0,h=l?s:0,c=l?1:s,d=t(n),_=H.getLength(n,h,c,d),g=o(i)-_;if(o(g)<u)return l?c:h;if(g>u)return null;var v=i/_,p=0;return f.findRoot(a,d,s+v,h,c,32,1e-12)},getPoint:function(t,e){return n(t,e,0,!1)},getTangent:function(t,e){return n(t,e,1,!0)},getWeightedTangent:function(t,e){return n(t,e,1,!1)},getNormal:function(t,e){return n(t,e,2,!0)},getWeightedNormal:function(t,e){return n(t,e,2,!1)},getCurvature:function(t,e){return n(t,e,3,!1).x},getPeaks:function(t){var e=t[0],n=t[1],i=t[2],r=t[3],s=t[4],a=t[5],o=t[6],u=t[7],l=-e+3*i-3*s+o,h=3*e-6*i+3*s,c=-3*e+3*i,d=-n+3*r-3*a+u,_=3*n-6*r+3*a,g=-3*n+3*r,v=1e-8,p=1-v,m=[];return f.solveCubic(9*(l*l+d*d),9*(l*h+_*d),2*(h*h+_*_)+3*(c*l+g*d),c*h+_*g,m,v,p),m.sort()}}}},new function(){function t(t,e,n,i,r,s,a,o,u){var l=!u&&n.getPrevious()===s,h=!u&&n!==s&&n.getNext()===s,c=1e-8,f=1-c;if(null==i&&(i=n.getTimeOf(r)),null!==i&&i>=(l?c:0)&&i<=(h?f:1)&&(null==a&&(a=s.getTimeOf(o)),null!==a&&a>=(h?c:0)&&a<=(l?f:1))){var d=new O(n,i,r||n.getPointAtTime(i),u),_=new O(s,a,o||s.getPointAtTime(a),u);d._intersection=_,_._intersection=d,e&&!e(d)||O.insert(t,d,!0)}}function e(r,s,a,o,u,l,h,c,f,d,_,g,v){if(++f>=4096||++c>=40)return f;var p,m,b=1e-9,T=s[0],y=s[1],w=s[6],x=s[7],A=S.getSignedDistance,P=A(T,y,w,x,s[2],s[3]),C=A(T,y,w,x,s[4],s[5]),M=P*C>0?.75:4/9,I=M*Math.min(0,P,C),G=M*Math.max(0,P,C),B=A(T,y,w,x,r[0],r[1]),E=A(T,y,w,x,r[2],r[3]),O=A(T,y,w,x,r[4],r[5]),k=A(T,y,w,x,r[6],r[7]),D=n(B,E,O,k),L=D[0],N=D[1];if(0===P&&0===C&&0===B&&0===E&&0===O&&0===k||null==(p=i(L,N,I,G))||null==(m=i(L.reverse(),N.reverse(),I,G)))return f;var R=d+(_-d)*p,V=d+(_-d)*m;if(Math.max(v-g,V-R)<b){var z=(R+V)/2,F=(g+v)/2;t(u,l,h?o:a,h?F:z,null,h?a:o,h?z:F,null)}else if(r=H.getPart(r,p,m),m-p>.8)if(V-R>v-g){var j=H.subdivide(r,.5),z=(R+V)/2;f=e(s,j[0],o,a,u,l,!h,c,f,g,v,R,z),f=e(s,j[1],o,a,u,l,!h,c,f,g,v,z,V)}else{var j=H.subdivide(s,.5),F=(g+v)/2;f=e(j[0],r,o,a,u,l,!h,c,f,g,F,R,V),f=e(j[1],r,o,a,u,l,!h,c,f,F,v,R,V)}else f=v-g>=b?e(s,r,o,a,u,l,!h,c,f,g,v,R,V):e(r,s,a,o,u,l,h,c,f,R,V,g,v);return f}function n(t,e,n,i){var r,s=[0,t],a=[1/3,e],o=[2/3,n],u=[1,i],l=e-(2*t+i)/3,h=n-(t+2*i)/3;if(l*h<0)r=[[s,a,u],[s,o,u]];else{var c=l/h;r=[c>=2?[s,a,u]:c<=.5?[s,o,u]:[s,a,o,u],[s,u]]}return(l||h)<0?r.reverse():r}function i(t,e,n,i){return t[0][1]<n?r(t,!0,n):e[0][1]>i?r(e,!1,i):t[0][0]}function r(t,e,n){for(var i=t[0][0],r=t[0][1],s=1,a=t.length;s<a;s++){var o=t[s][0],u=t[s][1];if(e?u>=n:u<=n)return u===n?o:i+(n-r)*(o-i)/(u-r);i=o,r=u}return null}function s(t,e,n,i,r){var s=f.isZero;if(s(i)&&s(r)){var a=H.getTimeOf(t,new _(e,n));return null===a?[]:[a]}for(var o=Math.atan2(-r,i),u=Math.sin(o),l=Math.cos(o),h=[],c=[],d=0;d<8;d+=2){var g=t[d]-e,v=t[d+1]-n;h.push(g*l-v*u,g*u+v*l)}return H.solveCubic(h,1,0,c,0,1),c}function a(e,n,i,r,a,o,u){for(var l=n[0],h=n[1],c=n[6],f=n[7],d=s(e,l,h,c-l,f-h),_=0,g=d.length;_<g;_++){var v=d[_],p=H.getPoint(e,v),m=H.getTimeOf(n,p);if(null!==m){var b=H.getPoint(n,m);t(a,o,u?r:i,u?m:v,u?b:p,u?i:r,u?v:m,u?p:b)}}}function o(e,n,i,r,s,a){var o=S.intersect(e[0],e[1],e[6],e[7],n[0],n[1],n[6],n[7]);o&&t(s,a,i,null,o,r,null,o)}function u(n,i,r,s,u,l){var h=1e-12,f=Math.min,d=Math.max;if(d(n[0],n[2],n[4],n[6])+h>f(i[0],i[2],i[4],i[6])&&f(n[0],n[2],n[4],n[6])-h<d(i[0],i[2],i[4],i[6])&&d(n[1],n[3],n[5],n[7])+h>f(i[1],i[3],i[5],i[7])&&f(n[1],n[3],n[5],n[7])-h<d(i[1],i[3],i[5],i[7])){var _=c(n,i);if(_)for(var g=0;g<2;g++){var v=_[g];t(u,l,r,v[0],null,s,v[1],null,!0)}else{var p=H.isStraight(n),m=H.isStraight(i),b=p&&m,T=p&&!m;(b?o:p||m?a:e)(T?i:n,T?n:i,T?s:r,T?r:s,u,l,T,0,0,0,1,0,1)}}return u}function l(e,n,i,r){var s=H.classify(e);if("loop"===s.type){var a=s.roots;t(i,r,n,a[0],null,n,a[1],null)}return i}function h(t,e,n,i,r,s){var a=!e;a&&(e=t);for(var o,h,c=t.length,f=e.length,d=[],_=[],g=0;g<f;g++)d[g]=e[g].getValues(r);for(var g=0;g<c;g++){var v=t[g],p=a?d[g]:v.getValues(i),m=v.getPath();m!==h&&(h=m,o=[],_.push(o)),a&&l(p,v,o,n);for(var b=a?g+1:0;b<f;b++){if(s&&o.length)return o;u(p,d[b],v,e[b],o,n)}}o=[];for(var g=0,T=_.length;g<T;g++)o.push.apply(o,_[g]);return o}function c(t,e){function n(t){var e=t[6]-t[0],n=t[7]-t[1];return e*e+n*n}var i=Math.abs,r=S.getDistance,s=1e-8,a=1e-7,o=H.isStraight(t),u=H.isStraight(e),l=o&&u,h=n(t)<n(e),c=h?e:t,f=h?t:e,d=c[0],g=c[1],v=c[6]-d,p=c[7]-g;if(r(d,g,v,p,f[0],f[1],!0)<a&&r(d,g,v,p,f[6],f[7],!0)<a)!l&&r(d,g,v,p,c[2],c[3],!0)<a&&r(d,g,v,p,c[4],c[5],!0)<a&&r(d,g,v,p,f[2],f[3],!0)<a&&r(d,g,v,p,f[4],f[5],!0)<a&&(o=u=l=!0);else if(l)return null;if(o^u)return null;for(var m=[t,e],b=[],T=0;T<4&&b.length<2;T++){var y=1&T,w=1^y,x=T>>1,A=H.getTimeOf(m[y],new _(m[w][x?6:0],m[w][x?7:1]));if(null!=A){var P=y?[x,A]:[A,x];(!b.length||i(P[0]-b[0][0])>s&&i(P[1]-b[0][1])>s)&&b.push(P)}if(T>2&&!b.length)break}if(2!==b.length)b=null;else if(!l){var C=H.getPart(t,b[0][0],b[1][0]),M=H.getPart(e,b[0][1],b[1][1]);(i(M[2]-C[2])>a||i(M[3]-C[3])>a||i(M[4]-C[4])>a||i(M[5]-C[5])>a)&&(b=null)}return b}return{getIntersections:function(t){var e=this.getValues(),n=t&&t!==this&&t.getValues();return n?u(e,n,this,t,[]):l(e,this,[])},statics:{getOverlaps:c,getIntersections:h,getCurveLineIntersections:s}}}),O=o.extend({_class:"CurveLocation",initialize:function(t,e,n,i,r){if(e>=.99999999){var s=t.getNext();s&&(e=0,t=s)}this._setCurve(t),this._time=e,this._point=n||t.getPointAtTime(e),this._overlap=i,this._distance=r,this._intersection=this._next=this._previous=null},_setCurve:function(t){var e=t._path;this._path=e,this._version=e?e._version:0,this._curve=t,this._segment=null,this._segment1=t._segment1,this._segment2=t._segment2},_setSegment:function(t){this._setCurve(t.getCurve()),this._segment=t,this._time=t===this._segment1?0:1,this._point=t._point.clone()},getSegment:function(){var t=this._segment;if(!t){var e=this.getCurve(),n=this.getTime();0===n?t=e._segment1:1===n?t=e._segment2:null!=n&&(t=e.getPartLength(0,n)<e.getPartLength(n,1)?e._segment1:e._segment2),this._segment=t}return t},getCurve:function(){function t(t){var e=t&&t.getCurve();if(e&&null!=(n._time=e.getTimeOf(n._point)))return n._setCurve(e),e}var e=this._path,n=this;return e&&e._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null),this._curve||t(this._segment)||t(this._segment1)||t(this._segment2.getPrevious())},getPath:function(){var t=this.getCurve();return t&&t._path},getIndex:function(){var t=this.getCurve();return t&&t.getIndex()},getTime:function(){var t=this.getCurve(),e=this._time;return t&&null==e?this._time=t.getTimeOf(this._point):e},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var t=this._offset;if(null==t){t=0;var e=this.getPath(),n=this.getIndex();if(e&&null!=n)for(var i=e.getCurves(),r=0;r<n;r++)t+=i[r].getLength();this._offset=t+=this.getCurveOffset()}return t},getCurveOffset:function(){var t=this._curveOffset;if(null==t){var e=this.getCurve(),n=this.getTime();this._curveOffset=t=null!=n&&e&&e.getPartLength(0,n)}return t},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var t=this.getCurve(),e=t&&t.divideAtTime(this.getTime());return e&&this._setSegment(e._segment1),e},split:function(){var t=this.getCurve(),e=t._path,n=t&&t.splitAtTime(this.getTime());return n&&this._setSegment(e.getLastSegment()),n},equals:function(t,e){var n=this===t;if(!n&&t instanceof O){var i=this.getCurve(),r=t.getCurve(),s=i._path,a=r._path;if(s===a){var o=Math.abs,u=1e-7,l=o(this.getOffset()-t.getOffset()),h=!e&&this._intersection,c=!e&&t._intersection;n=(l<u||s&&o(s.getLength()-l)<u)&&(!h&&!c||h&&c&&h.equals(c,!0))}}return n},toString:function(){var t=[],e=this.getPoint(),n=c.instance;e&&t.push("point: "+e);var i=this.getIndex();null!=i&&t.push("index: "+i);var r=this.getTime();return null!=r&&t.push("time: "+n.number(r)),null!=this._distance&&t.push("distance: "+n.number(this._distance)),"{ "+t.join(", ")+" }"},isTouching:function(){var t=this._intersection;if(t&&this.getTangent().isCollinear(t.getTangent())){var e=this.getCurve(),n=t.getCurve();return!(e.isStraight()&&n.isStraight()&&e.getLine().intersect(n.getLine()))}return!1},isCrossing:function(){function t(t,e){var n=t.getValues(),i=H.classify(n).roots||H.getPeaks(n),r=i.length,s=e&&r>1?i[r-1]:r>0?i[0]:.5;d.push(H.getLength(n,e?s:0,e?1:s)/2)}function e(t,e,n){return e<n?t>e&&t<n:t>e||t<n}var n=this._intersection;if(!n)return!1;var i=this.getTime(),r=n.getTime(),s=1e-8,a=1-s,o=i>=s&&i<=a,u=r>=s&&r<=a;if(o&&u)return!this.isTouching();var l=this.getCurve(),h=i<s?l.getPrevious():l,c=n.getCurve(),f=r<s?c.getPrevious():c;if(i>a&&(l=l.getNext()),r>a&&(c=c.getNext()),!(h&&l&&f&&c))return!1;var d=[];o||(t(h,!0),t(l,!1)),u||(t(f,!0),t(c,!1));var _=this.getPoint(),g=Math.min.apply(Math,d),v=o?l.getTangentAtTime(i):l.getPointAt(g).subtract(_),p=o?v.negate():h.getPointAt(-g).subtract(_),m=u?c.getTangentAtTime(r):c.getPointAt(g).subtract(_),b=u?m.negate():f.getPointAt(-g).subtract(_),T=p.getAngle(),S=v.getAngle(),y=b.getAngle(),w=m.getAngle();return!!(o?e(T,y,w)^e(S,y,w)&&e(T,w,y)^e(S,w,y):e(y,T,S)^e(w,T,S)&&e(y,S,T)^e(w,S,T))},hasOverlap:function(){return!!this._overlap}},o.each(H._evaluateMethods,function(t){var e=t+"At";this[t]=function(){var t=this.getCurve(),n=this.getTime();return null!=n&&t&&t[e](n,!0)}},{preserve:!0}),new function(){function t(t,e,n){function i(n,i){for(var s=n+i;s>=-1&&s<=r;s+=i){var a=t[(s%r+r)%r];if(!e.getPoint().isClose(a.getPoint(),1e-7))break;if(e.equals(a))return a}return null}for(var r=t.length,s=0,a=r-1;s<=a;){var o,u=s+a>>>1,l=t[u];if(n&&(o=e.equals(l)?l:i(u,-1)||i(u,1)))return e._overlap&&(o._overlap=o._intersection._overlap=!0),o;var h=e.getPath(),c=l.getPath(),f=h!==c?h._id-c._id:e.getIndex()+e.getTime()-(l.getIndex()+l.getTime());f<0?a=u-1:s=u+1}return t.splice(s,0,e),e}return{statics:{insert:t,expand:function(e){for(var n=e.slice(),i=e.length-1;i>=0;i--)t(n,e[i]._intersection,!1);return n}}}}),k=w.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(t){var e,n,i;if(o.isPlainObject(t)?(n=t.segments,e=t.pathData):Array.isArray(t)?n=t:"string"==typeof t&&(e=t),n){var r=n[0];i=r&&Array.isArray(r[0])}else e&&(i=(e.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(e));var s=i?L:D;return new s(t)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(t){this.isClockwise()!=(t=!!t)&&this.reverse()},setPathData:function(t){function e(t,e){var n=+i[t];return o&&(n+=u[e]),n}function n(t){return new _(e(t,"x"),e(t+1,"y"))}var i,r,s,a=t&&t.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),o=!1,u=new _,l=new _;this.clear();for(var h=0,c=a&&a.length;h<c;h++){var f=a[h],d=f[0],g=d.toLowerCase();i=f.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var p=i&&i.length;switch(o=d===g,"z"!==r||/[mz]/.test(g)||this.moveTo(u),g){case"m":case"l":for(var m="m"===g,b=0;b<p;b+=2)this[m?"moveTo":"lineTo"](u=n(b)),m&&(l=u,m=!1);s=u;break;case"h":case"v":var T="h"===g?"x":"y";u=u.clone();for(var b=0;b<p;b++)u[T]=e(b,T),this.lineTo(u);s=u;break;case"c":for(var b=0;b<p;b+=6)this.cubicCurveTo(n(b),s=n(b+2),u=n(b+4));break;case"s":for(var b=0;b<p;b+=4)this.cubicCurveTo(/[cs]/.test(r)?u.multiply(2).subtract(s):u,s=n(b),u=n(b+2)),r=g;break;case"q":for(var b=0;b<p;b+=4)this.quadraticCurveTo(s=n(b),u=n(b+2));break;case"t":for(var b=0;b<p;b+=2)this.quadraticCurveTo(s=/[qt]/.test(r)?u.multiply(2).subtract(s):u,u=n(b)),r=g;break;case"a":for(var b=0;b<p;b+=7)this.arcTo(u=n(b+5),new v((+i[b]),(+i[b+1])),+i[b+2],+i[b+4],+i[b+3]);break;case"z":this.closePath(1e-12),u=l}r=g}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(t){var e=t.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(t):{};return e.onPath||!!("evenodd"===this.getFillRule()?1&e.windingL||1&e.windingR:e.winding)},getIntersections:function(t,e,n,i){var r=this===t||!t,s=this._matrix._orNullIfIdentity(),a=r?s:(n||t._matrix)._orNullIfIdentity();return r||this.getBounds(s).touches(t.getBounds(a))?H.getIntersections(this.getCurves(),!r&&t.getCurves(),e,s,a,i):[]},getCrossings:function(t){return this.getIntersections(t,function(t){return t.hasOverlap()||t.isCrossing()})},getNearestLocation:function(){for(var t=_.read(arguments),e=this.getCurves(),n=1/0,i=null,r=0,s=e.length;r<s;r++){var a=e[r].getNearestLocation(t);a._distance<n&&(n=a._distance,i=a)}return i},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t?t.getPoint():t},interpolate:function(t,e,n){var i=!this._children,r=i?"_segments":"_children",s=t[r],a=e[r],o=this[r];if(!s||!a||s.length!==a.length)throw new Error("Invalid operands in interpolate() call: "+t+", "+e);var u=o.length,l=a.length;if(u<l)for(var h=i?B:D,c=u;c<l;c++)this.add(new h);else u>l&&this[i?"removeSegments":"removeChildren"](l,u);for(var c=0;c<l;c++)o[c].interpolate(s[c],a[c],n);i&&(this.setClosed(t._closed),this._changed(9))},compare:function(t){var e=!1;if(t){var n=this._children||[this],i=t._children?t._children.slice():[t],r=n.length,s=i.length,a=[],o=0;e=!0;for(var u=r-1;u>=0&&e;u--){var l=n[u];e=!1;for(var h=s-1;h>=0&&!e;h--)l.compare(i[h])&&(a[h]||(a[h]=!0,o++),e=!0)}e=e&&o===s}return e}}),D=k.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(t){this._closed=!1,this._segments=[],this._version=0;var e=Array.isArray(t)?"object"==typeof t[0]?t:arguments:!t||t.size!==r||t.x===r&&t.point===r?null:arguments;e&&e.length>0?this.setSegments(e):(this._curves=r,this._segmentSelection=0,e||"string"!=typeof t||(this.setPathData(t),t=null)),this._initialize(!e&&t)},_equals:function(t){return this._closed===t._closed&&o.equals(this._segments,t._segments)},copyContent:function(t){this.setSegments(t._segments),this._closed=t._closed},_changed:function bt(t){if(bt.base.call(this,t),8&t){if(this._length=this._area=r,16&t)this._version++;else if(this._curves)for(var e=0,n=this._curves.length;e<n;e++)this._curves[e]._changed()}else 32&t&&(this._bounds=r)},getStyle:function(){var t=this._parent;return(t instanceof L?t:this)._style},getSegments:function(){return this._segments},setSegments:function(t){var e=this.isFullySelected(),n=t&&t.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=r,n){var i=t[n-1];"boolean"==typeof i&&(this.setClosed(i),n--),this._add(B.readList(t,0,{},n))}e&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var t=this._curves,e=this._segments;if(!t){var n=this._countCurves();t=this._curves=new Array(n);for(var i=0;i<n;i++)t[i]=new H(this,e[i],e[i+1]||e[0])}return t},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var t=this.getCurves();return t[t.length-1]},isClosed:function(){return this._closed},setClosed:function(t){if(this._closed!=(t=!!t)){if(this._closed=t,this._curves){var e=this._curves.length=this._countCurves();t&&(this._curves[e-1]=new H(this,this._segments[e-1],this._segments[0]))}this._changed(25)}}},{beans:!0,getPathData:function(t,e){function n(e,n){if(e._transformCoordinates(t,g),i=g[0],r=g[1],
v)p.push("M"+_.pair(i,r)),v=!1;else if(o=g[2],u=g[3],o===i&&u===r&&l===s&&h===a){if(!n){var c=i-s,f=r-a;p.push(0===c?"v"+_.number(f):0===f?"h"+_.number(c):"l"+_.pair(c,f))}}else p.push("c"+_.pair(l-s,h-a)+" "+_.pair(o-s,u-a)+" "+_.pair(i-s,r-a));s=i,a=r,l=g[4],h=g[5]}var i,r,s,a,o,u,l,h,f=this._segments,d=f.length,_=new c(e),g=new Array(6),v=!0,p=[];if(!d)return"";for(var m=0;m<d;m++)n(f[m]);return this._closed&&d>0&&(n(f[0],!0),p.push("z")),p.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(t){for(var e=this._segments,n=new Array(6),i=0,r=e.length;i<r;i++)e[i]._transformCoordinates(t,n,!0);return!0},_add:function(t,e){for(var n=this._segments,i=this._curves,r=t.length,s=null==e,e=s?n.length:e,a=0;a<r;a++){var o=t[a];o._path&&(o=t[a]=o.clone()),o._path=this,o._index=e+a,o._selection&&this._updateSelection(o,0,o._selection)}if(s)n.push.apply(n,t);else{n.splice.apply(n,[e,0].concat(t));for(var a=e+r,u=n.length;a<u;a++)n[a]._index=a}if(i){var l=this._countCurves(),h=e>0&&e+r-1===l?e-1:e,c=h,f=Math.min(h+r,l);t._curves&&(i.splice.apply(i,[h,0].concat(t._curves)),c+=t._curves.length);for(var a=c;a<f;a++)i.splice(a,0,new H(this,null,null));this._adjustCurves(h,f)}return this._changed(25),t},_adjustCurves:function(t,e){for(var n,i=this._segments,r=this._curves,s=t;s<e;s++)n=r[s],n._path=this,n._segment1=i[s],n._segment2=i[s+1]||i[0],n._changed();(n=r[this._closed&&!t?i.length-1:t-1])&&(n._segment2=i[t]||i[0],n._changed()),(n=r[e])&&(n._segment1=i[e],n._changed())},_countCurves:function(){var t=this._segments.length;return!this._closed&&t>0?t-1:t},add:function(t){return arguments.length>1&&"number"!=typeof t?this._add(B.readList(arguments)):this._add([B.read(arguments)])[0]},insert:function(t,e){return arguments.length>2&&"number"!=typeof e?this._add(B.readList(arguments,1),t):this._add([B.read(arguments,1)],t)[0]},addSegment:function(){return this._add([B.read(arguments)])[0]},insertSegment:function(t){return this._add([B.read(arguments,1)],t)[0]},addSegments:function(t){return this._add(B.readList(t))},insertSegments:function(t,e){return this._add(B.readList(e),t)},removeSegment:function(t){return this.removeSegments(t,t+1)[0]||null},removeSegments:function(t,e,n){t=t||0,e=o.pick(e,this._segments.length);var i=this._segments,r=this._curves,s=i.length,a=i.splice(t,e-t),u=a.length;if(!u)return a;for(var l=0;l<u;l++){var h=a[l];h._selection&&this._updateSelection(h,h._selection,0),h._index=h._path=null}for(var l=t,c=i.length;l<c;l++)i[l]._index=l;if(r){for(var f=t>0&&e===s+(this._closed?1:0)?t-1:t,r=r.splice(f,u),l=r.length-1;l>=0;l--)r[l]._path=null;n&&(a._curves=r.slice(1)),this._adjustCurves(f,f)}return this._changed(25),a},clear:"#removeSegments",hasHandles:function(){for(var t=this._segments,e=0,n=t.length;e<n;e++)if(t[e].hasHandles())return!0;return!1},clearHandles:function(){for(var t=this._segments,e=0,n=t.length;e<n;e++)t[e].clearHandles()},getLength:function(){if(null==this._length){for(var t=this.getCurves(),e=0,n=0,i=t.length;n<i;n++)e+=t[n].getLength();this._length=e}return this._length},getArea:function(){var t=this._area;if(null==t){var e=this._segments,n=this._closed;t=0;for(var i=0,r=e.length;i<r;i++){var s=i+1===r;t+=H.getArea(H.getValues(e[i],e[s?0:i+1],null,s&&!n))}this._area=t}return t},isFullySelected:function(){var t=this._segments.length;return this.isSelected()&&t>0&&this._segmentSelection===7*t},setFullySelected:function(t){t&&this._selectSegments(!0),this.setSelected(t)},setSelection:function Tt(t){1&t||this._selectSegments(!1),Tt.base.call(this,t)},_selectSegments:function(t){var e=this._segments,n=e.length,i=t?7:0;this._segmentSelection=i*n;for(var r=0;r<n;r++)e[r]._selection=i},_updateSelection:function(t,e,n){t._selection=n;var i=this._segmentSelection+=n-e;i>0&&this.setSelected(!0)},divideAt:function(t){var e,n=this.getLocationAt(t);return n&&(e=n.getCurve().divideAt(n.getCurveOffset()))?e._segment1:null},splitAt:function(t){var e=this.getLocationAt(t),n=e&&e.index,i=e&&e.time,r=1e-8,s=1-r;i>s&&(n++,i=0);var a=this.getCurves();if(n>=0&&n<a.length){i>=r&&a[n++].divideAtTime(i);var o,u=this.removeSegments(n,this._segments.length,!0);return this._closed?(this.setClosed(!1),o=this):(o=new D(w.NO_INSERT),o.insertAbove(this),o.copyAttributes(this)),o._add(u,0),this.addSegment(u[0]),o}return null},split:function(t,e){var n,i=e===r?t:(n=this.getCurves()[t])&&n.getLocationAtTime(e);return null!=i?this.splitAt(i):null},join:function(t,e){var n=e||0;if(t&&t!==this){var i=t._segments,r=this.getLastSegment(),s=t.getLastSegment();if(!s)return this;r&&r._point.isClose(s._point,n)&&t.reverse();var a=t.getFirstSegment();if(r&&r._point.isClose(a._point,n))r.setHandleOut(a._handleOut),this._add(i.slice(1));else{var o=this.getFirstSegment();o&&o._point.isClose(a._point,n)&&t.reverse(),s=t.getLastSegment(),o&&o._point.isClose(s._point,n)?(o.setHandleIn(s._handleIn),this._add(i.slice(0,i.length-1),0)):this._add(i.slice())}t._closed&&this._add([i[0]]),t.remove()}var u=this.getFirstSegment(),l=this.getLastSegment();return u!==l&&u._point.isClose(l._point,n)&&(u.setHandleIn(l._handleIn),l.remove(),this.setClosed(!0)),this},reduce:function(t){for(var e=this.getCurves(),n=t&&t.simplify,i=n?1e-7:0,r=e.length-1;r>=0;r--){var s=e[r];!s.hasHandles()&&(!s.hasLength(i)||n&&s.isCollinear(s.getNext()))&&s.remove()}return this},reverse:function(){this._segments.reverse();for(var t=0,e=this._segments.length;t<e;t++){var n=this._segments[t],i=n._handleIn;n._handleIn=n._handleOut,n._handleOut=i,n._index=t}this._curves=null,this._changed(9)},flatten:function(t){for(var e=new N(this,t||.25,256,(!0)),n=e.parts,i=n.length,r=[],s=0;s<i;s++)r.push(new B(n[s].curve.slice(0,2)));!this._closed&&i>0&&r.push(new B(n[i-1].curve.slice(6))),this.setSegments(r)},simplify:function(t){var e=new R(this).fit(t||2.5);return e&&this.setSegments(e),!!e},smooth:function(t){function e(t,e){var i=t&&t.index;if(null!=i){var r=t.path;if(r&&r!==n)throw new Error(t._class+" "+i+" of "+r+" is not part of "+n);e&&t instanceof H&&i++}else i="number"==typeof t?t:e;return Math.min(i<0&&u?i%o:i<0?i+o:i,o-1)}var n=this,i=t||{},s=i.type||"asymmetric",a=this._segments,o=a.length,u=this._closed,l=u&&i.from===r&&i.to===r,h=e(i.from,0),c=e(i.to,o-1);if(h>c)if(u)h-=o;else{var f=h;h=c,c=f}if(/^(?:asymmetric|continuous)$/.test(s)){var d="asymmetric"===s,_=Math.min,g=c-h+1,v=g-1,p=l?_(g,4):1,m=p,b=p,T=[];if(u||(m=_(1,h),b=_(1,o-c-1)),v+=m+b,v<=1)return;for(var S=0,y=h-m;S<=v;S++,y++)T[S]=a[(y<0?y+o:y)%o]._point;for(var w=T[0]._x+2*T[1]._x,x=T[0]._y+2*T[1]._y,A=2,P=v-1,C=[w],M=[x],I=[A],G=[],B=[],S=1;S<v;S++){var E=S<P,O=E?1:d?1:2,k=E?4:d?2:7,D=E?4:d?3:8,L=E?2:d?0:1,N=O/A;A=I[S]=k-N,w=C[S]=D*T[S]._x+L*T[S+1]._x-N*w,x=M[S]=D*T[S]._y+L*T[S+1]._y-N*x}G[P]=C[P]/I[P],B[P]=M[P]/I[P];for(var S=v-2;S>=0;S--)G[S]=(C[S]-G[S+1])/I[S],B[S]=(M[S]-B[S+1])/I[S];G[v]=(3*T[v]._x-G[P])/2,B[v]=(3*T[v]._y-B[P])/2;for(var S=m,R=v-b,y=h;S<=R;S++,y++){var V=a[y<0?y+o:y],z=V._point,F=G[S]-z._x,j=B[S]-z._y;(l||S<R)&&V.setHandleOut(F,j),(l||S>m)&&V.setHandleIn(-F,-j)}}else for(var S=h;S<=c;S++)a[S<0?S+o:S].smooth(i,!l&&S===h,!l&&S===c)},toShape:function(t){function e(t,e){var n=h[t],i=n.getNext(),r=h[e],s=r.getNext();return n._handleOut.isZero()&&i._handleIn.isZero()&&r._handleOut.isZero()&&s._handleIn.isZero()&&i._point.subtract(n._point).isCollinear(s._point.subtract(r._point))}function n(t){var e=h[t],n=e.getPrevious(),i=e.getNext();return n._handleOut.isZero()&&e._handleIn.isZero()&&e._handleOut.isZero()&&i._handleIn.isZero()&&e._point.subtract(n._point).isOrthogonal(i._point.subtract(e._point))}function i(t){var e=h[t],n=e.getNext(),i=e._handleOut,r=n._handleIn,s=.5522847498307936;if(i.isOrthogonal(r)){var a=e._point,o=n._point,u=new S(a,i,(!0)).intersect(new S(o,r,(!0)),!0);return u&&f.isZero(i.getLength()/u.subtract(a).getLength()-s)&&f.isZero(r.getLength()/u.subtract(o).getLength()-s)}return!1}function s(t,e){return h[t]._point.getDistance(h[e]._point)}if(!this._closed)return null;var a,o,u,l,h=this._segments;if(!this.hasHandles()&&4===h.length&&e(0,2)&&e(1,3)&&n(1)?(a=P.Rectangle,o=new v(s(0,3),s(0,1)),l=h[1]._point.add(h[2]._point).divide(2)):8===h.length&&i(0)&&i(2)&&i(4)&&i(6)&&e(1,5)&&e(3,7)?(a=P.Rectangle,o=new v(s(1,6),s(0,3)),u=o.subtract(new v(s(0,7),s(1,2))).divide(2),l=h[3]._point.add(h[4]._point).divide(2)):4===h.length&&i(0)&&i(1)&&i(2)&&i(3)&&(f.isZero(s(0,2)-s(1,3))?(a=P.Circle,u=s(0,2)/2):(a=P.Ellipse,u=new v(s(2,0)/2,s(3,1)/2)),l=h[1]._point),a){var c=this.getPosition(!0),d=new a({center:c,size:o,radius:u,insert:!1});return d.copyAttributes(this,!0),d._matrix.prepend(this._matrix),d.rotate(l.subtract(c).getAngle()+90),(t===r||t)&&d.insertAbove(this),d}return null},toPath:"#clone",compare:function St(t){if(!t||t instanceof L)return St.base.call(this,t);var e=this.getCurves(),n=t.getCurves(),i=e.length,r=n.length;if(!i||!r)return i==r;for(var s,a,o=e[0].getValues(),u=[],l=0,h=0,c=0;c<r;c++){var f=n[c].getValues();u.push(f);var d=H.getOverlaps(o,f);if(d){s=!c&&d[0][0]>0?r-1:c,a=d[0][1];break}}for(var _,g=Math.abs,v=1e-8,f=u[s];o&&f;){var d=H.getOverlaps(o,f);if(d){var p=d[0][0];if(g(p-h)<v){h=d[1][0],1===h&&(o=++l<i?e[l].getValues():null,h=0);var m=d[0][1];if(g(m-a)<v){if(_||(_=[s,m]),a=d[1][1],1===a&&(++s>=r&&(s=0),f=u[s]||n[s].getValues(),a=0),!o)return _[0]===s&&_[1]===a;continue}}}break}return!1},_hitTestSelf:function(t,e,n,i){function r(e,n){return t.subtract(e).divide(n).length<=1}function s(t,n,i){if(!e.selected||n.isSelected()){var s=t._point;if(n!==s&&(n=n.add(s)),r(n,S))return new G(i,g,{segment:t,point:n})}}function a(t,n){return(n||e.segments)&&s(t,t._point,"segment")||!n&&e.handles&&(s(t,t._handleIn,"handle-in")||s(t,t._handleOut,"handle-out"))}function o(t){f.add(t)}function u(e){var n=b||e._index>0&&e._index<m-1;if("round"===(n?l:h))return r(e._point,S);if(f=new D({internal:!0,closed:!0}),n?e.isSmooth()||D._addBevelJoin(e,l,A,c,null,i,o,!0):"square"===h&&D._addSquareCap(e,h,A,null,i,o,!0),!f.isEmpty()){var s;return f.contains(t)||(s=f.getNearestLocation(t))&&r(s.getPoint(),T)}}var l,h,c,f,d,_,g=this,v=this.getStyle(),p=this._segments,m=p.length,b=this._closed,T=e._tolerancePadding,S=T,y=e.stroke&&v.hasStroke(),w=e.fill&&v.hasFill(),x=e.curves,A=y?v.getStrokeWidth()/2:w&&e.tolerance>0||x?0:null;if(null!==A&&(A>0?(l=v.getStrokeJoin(),h=v.getStrokeCap(),c=v.getMiterLimit(),S=S.add(D._getStrokePadding(A,i))):l=h="round"),!e.ends||e.segments||b){if(e.segments||e.handles)for(var P=0;P<m;P++)if(_=a(p[P]))return _}else if(_=a(p[0],!0)||a(p[m-1],!0))return _;if(null!==A){if(d=this.getNearestLocation(t)){var C=d.getTime();0===C||1===C&&m>1?u(d.getSegment())||(d=null):r(d.getPoint(),S)||(d=null)}if(!d&&"miter"===l&&m>1)for(var P=0;P<m;P++){var M=p[P];if(t.getDistance(M._point)<=c*A&&u(M)){d=M.getLocation();break}}}return!d&&w&&this._contains(t)||d&&!y&&!x?new G("fill",this):d?new G(y?"stroke":"curve",this,{location:d,point:d.getPoint()}):null}},o.each(H._evaluateMethods,function(t){this[t+"At"]=function(e){var n=this.getLocationAt(e);return n&&n[t]()}},{beans:!1,getLocationOf:function(){for(var t=_.read(arguments),e=this.getCurves(),n=0,i=e.length;n<i;n++){var r=e[n].getLocationOf(t);if(r)return r}return null},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getLocationAt:function(t){if("number"==typeof t){for(var e=this.getCurves(),n=0,i=0,r=e.length;i<r;i++){var s=n,a=e[i];if(n+=a.getLength(),n>t)return a.getLocationAt(t-s)}if(e.length>0&&t<=this.getLength())return new O(e[e.length-1],1)}else if(t&&t.getPath&&t.getPath()===this)return t;return null}}),new function(){function t(t,e,n,i){function r(e){var n=u[e],i=u[e+1];s==n&&a==i||(t.beginPath(),t.moveTo(s,a),t.lineTo(n,i),t.stroke(),t.beginPath(),t.arc(n,i,o,0,2*Math.PI,!0),t.fill())}for(var s,a,o=i/2,u=new Array(6),l=0,h=e.length;l<h;l++){var c=e[l],f=c._selection;if(c._transformCoordinates(n,u),s=u[0],a=u[1],2&f&&r(2),4&f&&r(4),t.fillRect(s-o,a-o,i,i),!(1&f)){var d=t.fillStyle;t.fillStyle="#ffffff",t.fillRect(s-o+1,a-o+1,i-2,i-2),t.fillStyle=d}}}function e(t,e,n){function i(e){if(n)e._transformCoordinates(n,_),r=_[0],s=_[1];else{var i=e._point;r=i._x,s=i._y}if(g)t.moveTo(r,s),g=!1;else{if(n)u=_[2],l=_[3];else{var f=e._handleIn;u=r+f._x,l=s+f._y}u===r&&l===s&&h===a&&c===o?t.lineTo(r,s):t.bezierCurveTo(h,c,u,l,r,s)}if(a=r,o=s,n)h=_[4],c=_[5];else{var f=e._handleOut;h=a+f._x,c=o+f._y}}for(var r,s,a,o,u,l,h,c,f=e._segments,d=f.length,_=new Array(6),g=!0,v=0;v<d;v++)i(f[v]);e._closed&&d>0&&i(f[0])}return{_draw:function(t,n,r,s){function a(t){return f[(t%d+d)%d]}var o=n.dontStart,u=n.dontFinish||n.clip,l=this.getStyle(),h=l.hasFill(),c=l.hasStroke(),f=l.getDashArray(),d=!i.support.nativeDash&&c&&f&&f.length;if(o||t.beginPath(),(h||c&&!d||u)&&(e(t,this,s),this._closed&&t.closePath()),!u&&(h||c)&&(this._setStyles(t,n,r),h&&(t.fill(l.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),c)){if(d){o||t.beginPath();var _,g=new N(this,.25,32,(!1),s),v=g.length,p=-l.getDashOffset(),m=0;for(p%=v;p>0;)p-=a(m--)+a(m--);for(;p<v;)_=p+a(m++),(p>0||_>0)&&g.drawPart(t,Math.max(p,0),Math.max(_,0)),p=_+a(m++)}t.stroke()}},_drawSelected:function(n,r){n.beginPath(),e(n,this,r),n.stroke(),t(n,this._segments,r,i.settings.handleSize)}}},new function(){function t(t){var e=t._segments;if(!e.length)throw new Error("Use a moveTo() command first");return e[e.length-1]}return{moveTo:function(){var t=this._segments;1===t.length&&this.removeSegment(0),t.length||this._add([new B(_.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new B(_.read(arguments))])},cubicCurveTo:function(){var e=_.read(arguments),n=_.read(arguments),i=_.read(arguments),r=t(this);r.setHandleOut(e.subtract(r._point)),this._add([new B(i,n.subtract(i))])},quadraticCurveTo:function(){var e=_.read(arguments),n=_.read(arguments),i=t(this)._point;this.cubicCurveTo(e.add(i.subtract(e).multiply(1/3)),e.add(n.subtract(e).multiply(1/3)),n)},curveTo:function(){var e=_.read(arguments),n=_.read(arguments),i=o.pick(o.read(arguments),.5),r=1-i,s=t(this)._point,a=e.subtract(s.multiply(r*r)).subtract(n.multiply(i*i)).divide(2*i*r);if(a.isNaN())throw new Error("Cannot put a curve through points with parameter = "+i);this.quadraticCurveTo(a,n)},arcTo:function(){var e,n,i,r,s,a=Math.abs,u=Math.sqrt,l=t(this),h=l._point,c=_.read(arguments),d=o.peek(arguments),g=o.pick(d,!0);if("boolean"==typeof g)var p=h.add(c).divide(2),e=p.add(p.subtract(h).rotate(g?-90:90));else if(o.remain(arguments)<=2)e=c,c=_.read(arguments);else{var m=v.read(arguments),b=f.isZero;if(b(m.width)||b(m.height))return this.lineTo(c);var y=o.read(arguments),g=!!o.read(arguments),w=!!o.read(arguments),p=h.add(c).divide(2),x=h.subtract(p).rotate(-y),A=x.x,P=x.y,C=a(m.width),M=a(m.height),I=C*C,G=M*M,E=A*A,H=P*P,O=u(E/I+H/G);if(O>1&&(C*=O,M*=O,I=C*C,G=M*M),O=(I*G-I*H-G*E)/(I*H+G*E),a(O)<1e-12&&(O=0),O<0)throw new Error("Cannot create an arc with the given arguments");n=new _(C*P/M,-M*A/C).multiply((w===g?-1:1)*u(O)).rotate(y).add(p),s=(new T).translate(n).rotate(y).scale(C,M),r=s._inverseTransform(h),i=r.getDirectedAngle(s._inverseTransform(c)),!g&&i>0?i-=360:g&&i<0&&(i+=360)}if(e){var k=new S(h.add(e).divide(2),e.subtract(h).rotate(90),(!0)),D=new S(e.add(c).divide(2),c.subtract(e).rotate(90),(!0)),L=new S(h,c),N=L.getSide(e);if(n=k.intersect(D,!0),!n){if(!N)return this.lineTo(c);throw new Error("Cannot create an arc with the given arguments")}r=h.subtract(n),i=r.getDirectedAngle(c.subtract(n));var R=L.getSide(n);0===R?i=N*a(i):N===R&&(i+=i<0?360:-360)}for(var V=1e-12,z=a(i),F=z>=360?4:Math.ceil((z-V)/90),j=i/F,W=j*Math.PI/360,U=4/3*Math.sin(W)/(1+Math.cos(W)),X=[],q=0;q<=F;q++){var x=c,K=null;if(q<F&&(K=r.rotate(90).multiply(U),s?(x=s._transformPoint(r),K=s._transformPoint(r.add(K)).subtract(x)):x=n.add(r)),q){var Z=r.rotate(-90).multiply(U);s&&(Z=s._transformPoint(r.add(Z)).subtract(x)),X.push(new B(x,Z,K))}else l.setHandleOut(K);r=r.rotate(j)}this._add(X)},lineBy:function(){var e=_.read(arguments),n=t(this)._point;this.lineTo(n.add(e))},curveBy:function(){var e=_.read(arguments),n=_.read(arguments),i=o.read(arguments),r=t(this)._point;this.curveTo(r.add(e),r.add(n),i)},cubicCurveBy:function(){var e=_.read(arguments),n=_.read(arguments),i=_.read(arguments),r=t(this)._point;this.cubicCurveTo(r.add(e),r.add(n),r.add(i))},quadraticCurveBy:function(){var e=_.read(arguments),n=_.read(arguments),i=t(this)._point;this.quadraticCurveTo(i.add(e),i.add(n))},arcBy:function(){var e=t(this)._point,n=e.add(_.read(arguments)),i=o.pick(o.peek(arguments),!0);"boolean"==typeof i?this.arcTo(n,i):this.arcTo(n,e.add(_.read(arguments)))},closePath:function(t){this.setClosed(!0),this.join(this,t)}}},{_getBounds:function(t,e){var n=e.handle?"getHandleBounds":e.stroke?"getStrokeBounds":"getBounds";return D[n](this._segments,this._closed,this,t,e)},statics:{getBounds:function(t,e,n,i,r,s){function a(t){t._transformCoordinates(i,u);for(var e=0;e<2;e++)H._addBounds(l[e],l[e+4],u[e+2],u[e],e,s?s[e]:0,h,c,f);var n=l;l=u,u=n}var o=t[0];if(!o)return new m;for(var u=new Array(6),l=o._transformCoordinates(i,new Array(6)),h=l.slice(0,2),c=h.slice(),f=new Array(2),d=1,_=t.length;d<_;d++)a(t[d]);return e&&a(o),new m(h[0],h[1],c[0]-h[0],c[1]-h[1])},getStrokeBounds:function(t,e,n,i,r){function s(t){_=_.include(t)}function a(t){_=_.unite(S.setCenter(t._point.transform(i)))}function o(t,e){"round"===e||t.isSmooth()?a(t):D._addBevelJoin(t,e,g,T,i,f,s)}function u(t,e){"round"===e?a(t):D._addSquareCap(t,e,g,i,f,s)}var l=n.getStyle(),h=l.hasStroke(),c=l.getStrokeWidth(),f=h&&n._getStrokeMatrix(i,r),d=h&&D._getStrokePadding(c,f),_=D.getBounds(t,e,n,i,r,d);if(!h)return _;for(var g=c/2,p=l.getStrokeJoin(),b=l.getStrokeCap(),T=l.getMiterLimit(),S=new m(new v(d)),y=t.length-(e?0:1),w=1;w<y;w++)o(t[w],p);return e?o(t[0],p):y>0&&(u(t[0],b),u(t[t.length-1],b)),_},_getStrokePadding:function(t,e){if(!e)return[t,t];var n=new _(t,0).transform(e),i=new _(0,t).transform(e),r=n.getAngleInRadians(),s=n.getLength(),a=i.getLength(),o=Math.sin(r),u=Math.cos(r),l=Math.tan(r),h=Math.atan2(a*l,s),c=Math.atan2(a,l*s);return[Math.abs(s*Math.cos(h)*u+a*Math.sin(h)*o),Math.abs(a*Math.sin(c)*u+s*Math.cos(c)*o)]},_addBevelJoin:function(t,e,n,i,r,s,a,o){var u=t.getCurve(),l=u.getPrevious(),h=u.getPoint1().transform(r),c=l.getNormalAtTime(1).multiply(n).transform(s),f=u.getNormalAtTime(0).multiply(n).transform(s);if(c.getDirectedAngle(f)<0&&(c=c.negate(),f=f.negate()),o&&a(h),a(h.add(c)),"miter"===e){var d=new S(h.add(c),new _((-c.y),c.x),(!0)).intersect(new S(h.add(f),new _((-f.y),f.x),(!0)),!0);d&&h.getDistance(d)<=i*n&&a(d)}a(h.add(f))},_addSquareCap:function(t,e,n,i,r,s,a){var o=t._point.transform(i),u=t.getLocation(),l=u.getNormal().multiply(n).transform(r);"square"===e&&(a&&(s(o.subtract(l)),s(o.add(l))),o=o.add(l.rotate(0===u.getTime()?-90:90))),s(o.add(l)),s(o.subtract(l))},getHandleBounds:function(t,e,n,i,r){var s,a,o=n.getStyle(),u=r.stroke&&o.hasStroke();if(u){var l=n._getStrokeMatrix(i,r),h=o.getStrokeWidth()/2,c=h;"miter"===o.getStrokeJoin()&&(c=h*o.getMiterLimit()),"square"===o.getStrokeCap()&&(c=Math.max(c,h*Math.SQRT2)),s=D._getStrokePadding(h,l),a=D._getStrokePadding(c,l)}for(var f=new Array(6),d=1/0,_=-d,g=d,v=_,p=0,b=t.length;p<b;p++){var T=t[p];T._transformCoordinates(i,f);for(var S=0;S<6;S+=2){var y=S?s:a,w=y?y[0]:0,x=y?y[1]:0,A=f[S],P=f[S+1],C=A-w,M=A+w,I=P-x,G=P+x;C<d&&(d=C),M>_&&(_=M),I<g&&(g=I),G>v&&(v=G)}}return new m(d,g,_-d,v-g)}}});D.inject({statics:new function(){function t(t,e,n){var i=o.getNamed(n),r=new D(i&&i.insert===!1&&w.NO_INSERT);return r._add(t),r._closed=e,r.set(i)}function e(e,n,r){for(var s=new Array(4),a=0;a<4;a++){var o=i[a];s[a]=new B(o._point.multiply(n).add(e),o._handleIn.multiply(n),o._handleOut.multiply(n))}return t(s,!0,r)}var n=.5522847498307936,i=[new B([-1,0],[0,n],[0,-n]),new B([0,-1],[-n,0],[n,0]),new B([1,0],[0,-n],[0,n]),new B([0,1],[n,0],[-n,0])];return{Line:function(){return t([new B(_.readNamed(arguments,"from")),new B(_.readNamed(arguments,"to"))],!1,arguments)},Circle:function(){var t=_.readNamed(arguments,"center"),n=o.readNamed(arguments,"radius");return e(t,new v(n),arguments)},Rectangle:function(){var e,i=m.readNamed(arguments,"rectangle"),r=v.readNamed(arguments,"radius",0,{readNull:!0}),s=i.getBottomLeft(!0),a=i.getTopLeft(!0),o=i.getTopRight(!0),u=i.getBottomRight(!0);if(!r||r.isZero())e=[new B(s),new B(a),new B(o),new B(u)];else{r=v.min(r,i.getSize(!0).divide(2));var l=r.width,h=r.height,c=l*n,f=h*n;e=[new B(s.add(l,0),null,[-c,0]),new B(s.subtract(0,h),[0,f]),new B(a.add(0,h),null,[0,-f]),new B(a.add(l,0),[-c,0],null),new B(o.subtract(l,0),null,[c,0]),new B(o.add(0,h),[0,-f],null),new B(u.subtract(0,h),null,[0,f]),new B(u.subtract(l,0),[c,0])]}return t(e,!0,arguments)},RoundRectangle:"#Rectangle",Ellipse:function(){var t=P._readEllipse(arguments);return e(t.center,t.radius,arguments)},Oval:"#Ellipse",Arc:function(){var t=_.readNamed(arguments,"from"),e=_.readNamed(arguments,"through"),n=_.readNamed(arguments,"to"),i=o.getNamed(arguments),r=new D(i&&i.insert===!1&&w.NO_INSERT);return r.moveTo(t),r.arcTo(e,n),r.set(i)},RegularPolygon:function(){for(var e=_.readNamed(arguments,"center"),n=o.readNamed(arguments,"sides"),i=o.readNamed(arguments,"radius"),r=360/n,s=n%3===0,a=new _(0,s?-i:i),u=s?-1:.5,l=new Array(n),h=0;h<n;h++)l[h]=new B(e.add(a.rotate((h+u)*r)));return t(l,!0,arguments)},Star:function(){for(var e=_.readNamed(arguments,"center"),n=2*o.readNamed(arguments,"points"),i=o.readNamed(arguments,"radius1"),r=o.readNamed(arguments,"radius2"),s=360/n,a=new _(0,(-1)),u=new Array(n),l=0;l<n;l++)u[l]=new B(e.add(a.rotate(s*l).multiply(l%2?r:i)));return t(u,!0,arguments)}}}});var L=k.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||("string"==typeof t?this.setPathData(t):this.addChildren(Array.isArray(t)?t:arguments))},insertChildren:function yt(t,e){var n=e,i=n[0];i&&"number"==typeof i[0]&&(n=[n]);for(var r=e.length-1;r>=0;r--){var s=n[r];n!==e||s instanceof D||(n=o.slice(n)),Array.isArray(s)?n[r]=new D({segments:s,insert:!1}):s instanceof L&&(n.splice.apply(n,[r,1].concat(s.removeChildren())),s.remove())}return yt.base.call(this,t,n)},reduce:function wt(t){for(var e=this._children,n=e.length-1;n>=0;n--){var i=e[n].reduce(t);i.isEmpty()&&i.remove()}if(!e.length){var i=new D(w.NO_INSERT);return i.copyAttributes(this),i.insertAbove(this),this.remove(),i}return wt.base.call(this)},isClosed:function(){for(var t=this._children,e=0,n=t.length;e<n;e++)if(!t[e]._closed)return!1;return!0},setClosed:function(t){for(var e=this._children,n=0,i=e.length;n<i;n++)e[n].setClosed(t)},getFirstSegment:function(){var t=this.getFirstChild();return t&&t.getFirstSegment()},getLastSegment:function(){var t=this.getLastChild();return t&&t.getLastSegment()},getCurves:function(){for(var t=this._children,e=[],n=0,i=t.length;n<i;n++)e.push.apply(e,t[n].getCurves());return e},getFirstCurve:function(){var t=this.getFirstChild();return t&&t.getFirstCurve()},getLastCurve:function(){var t=this.getLastChild();return t&&t.getLastCurve()},getArea:function(){for(var t=this._children,e=0,n=0,i=t.length;n<i;n++)e+=t[n].getArea();return e},getLength:function(){for(var t=this._children,e=0,n=0,i=t.length;n<i;n++)e+=t[n].getLength();return e},getPathData:function(t,e){for(var n=this._children,i=[],r=0,s=n.length;r<s;r++){var a=n[r],o=a._matrix;i.push(a.getPathData(t&&!o.isIdentity()?t.appended(o):t,e))}return i.join("")},_hitTestChildren:function xt(t,e,n){return xt.base.call(this,t,e["class"]===D||"path"===e.type?e:o.set({},e,{fill:!1}),n)},_draw:function(t,e,n,i){var r=this._children;if(r.length){e=e.extend({dontStart:!0,dontFinish:!0}),t.beginPath();for(var s=0,a=r.length;s<a;s++)r[s].draw(t,e,i);if(!e.clip){this._setStyles(t,e,n);var o=this._style;o.hasFill()&&(t.fill(o.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),o.hasStroke()&&t.stroke()}}},_drawSelected:function(t,e,n){for(var i=this._children,r=0,s=i.length;r<s;r++){var a=i[r],o=a._matrix;n[a._id]||a._drawSelected(t,o.isIdentity()?e:e.appended(o))}}},new function(){function t(t,e){var n=t._children;if(e&&!n.length)throw new Error("Use a moveTo() command first");return n[n.length-1]}return o.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(e){this[e]=function(){var n=t(this,!0);n[e].apply(n,arguments)}},{moveTo:function(){var e=t(this),n=e&&e.isEmpty()?e:new D(w.NO_INSERT);n!==e&&this.addChild(n),n.moveTo.apply(n,arguments)},moveBy:function(){var e=t(this,!0),n=e&&e.getLastSegment(),i=_.read(arguments);this.moveTo(n?i.add(n._point):i)},closePath:function(e){t(this,!0).closePath(e)}})},o.each(["reverse","flatten","simplify","smooth"],function(t){this[t]=function(e){for(var n,i=this._children,r=0,s=i.length;r<s;r++)n=i[r][t](e)||n;return n}},{}));k.inject(new function(){function t(t,e){var n=t.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);return e?n.resolveCrossings().reorient("nonzero"===n.getFillRule(),!0):n}function e(t,e,n,i,r,s){var a=new t(w.NO_INSERT);return a.addChildren(e,!0),n&&(a=a.reduce({simplify:!0})),s&&s.insert===!1||a.insertAbove(r&&i.isSibling(r)&&i.getIndex()<r.getIndex()?r:i),a.copyAttributes(i,!0),a}function n(n,r,s,a){function o(t){for(var e=0,n=t.length;e<n;e++){var i=t[e];T.push.apply(T,i._segments),S.push.apply(S,i.getCurves()),i._overlapsOnly=!0}}if(a&&a.stroke&&/^(subtract|intersect)$/.test(s))return i(n,r,"subtract"===s);var h=t(n,!0),f=r&&n!==r&&t(r,!0),_=p[s];_[s]=!0,f&&(_.subtract||_.exclude)^(f.isClockwise()^h.isClockwise())&&f.reverse();var g,v=l(O.expand(h.getCrossings(f))),m=h._children||[h],b=f&&(f._children||[f]),T=[],S=[];if(v.length){o(m),b&&o(b);for(var y=0,w=v.length;y<w;y++)c(v[y]._segment,h,f,S,_);for(var y=0,w=T.length;y<w;y++){var x=T[y],A=x._intersection;x._winding||c(x,h,f,S,_),A&&A._overlap||(x._path._overlapsOnly=!1)}g=d(T,_)}else g=u(b?m.concat(b):m.slice(),function(t){return!!_[t]});return e(L,g,!0,n,r,a)}function i(n,i,r){function s(t){if(o.contains(t.getPointAt(t.getLength()/2))^r)return l.unshift(t),!0}for(var a=t(n),o=t(i),u=a.getCrossings(o),l=[],h=u.length-1;h>=0;h--){var c=u[h].split();c&&(s(c)&&c.getFirstSegment().setHandleIn(0,0),a.getLastSegment().setHandleOut(0,0))}return s(a),e(x,l,!1,n,i)}function s(t,e){for(var n=t;n;){if(n===e)return;n=n._previous}for(;t._next&&t._next!==e;)t=t._next;if(!t._next){for(;e._previous;)e=e._previous;t._next=e,e._previous=t}}function a(t){for(var e=t.length-1;e>=0;e--)t[e].clearHandles()}function u(t,e,n){var i=t&&t.length;if(i){var r=o.each(t,function(t,e){this[t._id]={container:null,winding:t.isClockwise()?1:-1,index:e}},{}),s=t.slice().sort(function(t,e){return v(e.getArea())-v(t.getArea())}),a=s[0];null==n&&(n=a.isClockwise());for(var u=0;u<i;u++){for(var l=s[u],h=r[l._id],c=l.getInteriorPoint(),f=0,d=u-1;d>=0;d--){var _=s[d];if(_.contains(c)){var g=r[_._id];f=g.winding,h.winding+=f,h.container=g.exclude?g.container:_;break}}if(e(h.winding)===e(f))h.exclude=!0,t[h.index]=null;else{var p=h.container;l.setClockwise(p?!p.isClockwise():n)}}}return t}function l(t,e,n){function i(t){return t._path._id+"."+t._segment1._index}for(var r,o,u,l=e&&[],h=1e-8,c=1-h,f=!1,d=n||[],_=n&&{},g=(n&&n.length)-1;g>=0;g--){var v=n[g];v._path&&(_[i(v)]=!0)}for(var g=t.length-1;g>=0;g--){var p,m=t[g],b=m._time,T=b,S=e&&!e(m),v=m._curve;if(v&&(v!==o?(f=!v.hasHandles()||_&&_[i(v)],r=[],u=null,o=v):u>=h&&(b/=u)),S)r&&r.push(m);else{if(e&&l.unshift(m),u=T,b<h)p=v._segment1;else if(b>c)p=v._segment2;else{var y=v.divideAtTime(b,!0);f&&d.push(v,y),p=y._segment1;for(var w=r.length-1;w>=0;w--){var x=r[w];x._time=(x._time-b)/(1-b)}}m._setSegment(p);var A=p._intersection,P=m._intersection;if(A){s(A,P);for(var C=A;C;)s(C._intersection,A),C=C._next}else p._intersection=P}}return n||a(d),l||t}function h(t,e,n,i,r){function s(s){var a=s[c+0],u=s[c+6];if(!(p<_(a,u)||p>g(a,u))){var f=s[l+0],v=s[l+2],m=s[l+4],C=s[l+6];if(a===u)return void((f<S&&C>T||C<S&&f>T)&&(x=!0));var M=p===a?0:p===u?1:T>g(f,v,m,C)||S<_(f,v,m,C)?1:1===H.solveCubic(s,c,p,P,0,1)?P[0]:.5,I=0===M?f:1===M?C:H.getPoint(s,M)[n?"y":"x"],G=a>u?1:-1,B=o[c]>o[c+6]?1:-1,E=o[l+6];return p!==a?(I<T?y+=G:I>S?w+=G:x=!0,I>d-b&&I<d+b&&(A/=2)):(G!==B?f<T?y+=G:f>S&&(w+=G):f!=E&&(E<S&&I>S?(w+=G,x=!0):E>T&&I<T&&(y+=G,x=!0)),A=0),o=s,!r&&I>T&&I<S&&0===H.getTangent(s,M)[n?"x":"y"]&&h(t,e,n?0:1,i,!0)}}function a(t){var e=t[c+0],i=t[c+2],r=t[c+4],a=t[c+6];if(p<=g(e,i,r,a)&&p>=_(e,i,r,a))for(var o,u=t[l+0],h=t[l+2],f=t[l+4],d=t[l+6],v=T>g(u,h,f,d)||S<_(u,h,f,d)?[t]:H.getMonoCurves(t,n),m=0,b=v.length;m<b;m++)if(o=s(v[m]))return o}for(var o,u,l=n?1:0,c=1^l,f=[t.x,t.y],d=f[l],p=f[c],m=1e-9,b=1e-6,T=d-m,S=d+m,y=0,w=0,x=!1,A=1,P=[],C=0,M=e.length;C<M;C++){var I,G=e[C],B=G._path,E=G.getValues();if(!(C&&e[C-1]._path===B||(o=null,B._closed||(u=H.getValues(B.getLastCurve().getSegment2(),G.getSegment1(),null,!i),u[c]!==u[c+6]&&(o=u)),o))){o=E;for(var O=B.getLastCurve();O&&O!==G;){var k=O.getValues();if(k[c]!==k[c+6]){o=k;break}O=O.getPrevious()}}if(I=a(E))return I;if(C+1===M||e[C+1]._path!==B){if(u&&(I=a(u)))return I;u=null}}return y=v(y),w=v(w),{winding:g(y,w),windingL:y,windingR:w,quality:A,onPath:x}}function c(t,e,n,i,r){var s,a=[],o=t,u=0;do{var l=t.getCurve(),c=l.getLength();a.push({segment:t,curve:l,length:c}),u+=c,t=t.getNext()}while(t&&!t._intersection&&t!==o);for(var d=[.5,.25,.75],_={winding:0,quality:0},s=_,g=1e-8,p=1-g,m=0;m<d.length&&s.quality<.5;m++)for(var c=u*d[m],b=0,T=a.length;b<T;b++){var S=a[b],y=S.length;if(c<=y){var l=S.curve,w=l._path,x=w._parent,A=f.clamp(l.getTimeAt(c),g,p),P=l.getPointAtTime(A),C=v(l.getTangentAtTime(A).normalize().y)<Math.SQRT1_2?1:0;x instanceof L&&(w=x);var M=r.subtract&&n&&(w===e&&n._getWinding(P,C,!0).winding||w===n&&!e._getWinding(P,C,!0).winding)?_:h(P,i,C,!0);M.quality>s.quality&&(s=M);break}c-=y}for(var b=a.length-1;b>=0;b--)a[b].segment._winding=s}function d(t,e){function n(t){var n;return!(!t||t._visited||e&&(!e[(n=t._winding||{}).winding]||e.unite&&2===n.winding&&n.windingL&&n.windingR))}function i(t){if(t)for(var e=0,n=a.length;e<n;e++)if(t===a[e])return!0;return!1}function r(t){for(var e=t._segments,n=0,i=e.length;n<i;n++)e[n]._visited=!0}function s(t,e){function r(r,s){for(;r&&r!==s;){var o=r._segment,l=o._path,h=o.getNext()||l&&l.getFirstSegment(),c=h&&h._intersection;o!==t&&(i(o)||i(h)||h&&n(o)&&(n(h)||c&&n(c._segment)))&&u.push(o),e&&a.push(o),r=r._next}}var s=t._intersection,o=s,u=[];if(e&&(a=[t]),s){for(r(s);s&&s._prev;)s=s._prev;r(s,o)}return u}var a,o=[];t.sort(function(t,e){var n=t._intersection,i=e._intersection,r=!(!n||!n._overlap),s=!(!i||!i._overlap),a=t._path,o=e._path;return r^s?r?1:-1:!n^!i?n?1:-1:a!==o?a._id-o._id:t._index-e._index});for(var u=0,l=t.length;u<l;u++){var h,c,f,d=t[u],_=n(d),g=null,v=!1,p=!0,m=[];if(_&&d._path._overlapsOnly){var b=d._path,T=d._intersection._segment._path;b.compare(T)&&(b.getArea()&&o.push(b.clone(!1)),r(b),r(T),_=!1)}for(;_;){var S=!g,y=s(d,S),x=y.shift(),v=!S&&(i(d)||i(x)),A=!v&&x;if(S&&(g=new D(w.NO_INSERT),h=null),v){(d.isFirst()||d.isLast())&&(p=d._path._closed),d._visited=!0;break}if(A&&h&&(m.push(h),h=null),h||(A&&y.push(d),h={start:g._segments.length,crossings:y,visited:c=[],handleIn:f}),A&&(d=x),!n(d)){g.removeSegments(h.start);for(var P=0,C=c.length;P<C;P++)c[P]._visited=!1;c.length=0;do d=h&&h.crossings.shift(),d||(h=m.pop(),h&&(c=h.visited,f=h.handleIn));while(h&&!n(d));if(!d)break}var M=d.getNext();g.add(new B(d._point,f,M&&d._handleOut)),d._visited=!0,c.push(d),d=M||d._path.getFirstSegment(),f=M&&M._handleIn}v&&(p&&(g.firstSegment.setHandleIn(f),g.setClosed(p)),0!==g.getArea()&&o.push(g))}return o}var _=Math.min,g=Math.max,v=Math.abs,p={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};return{_getWinding:function(t,e,n){return h(t,this.getCurves(),e,n)},unite:function(t,e){return n(this,t,"unite",e)},intersect:function(t,e){
return n(this,t,"intersect",e)},subtract:function(t){return n(this,t,"subtract")},exclude:function(t,e){return n(this,t,"exclude",e)},divide:function(t,n){return e(x,[this.subtract(t,n),this.intersect(t,n)],!0,this,t,n)},resolveCrossings:function(){function t(t){var e=t&&t._intersection;return e&&e._overlap}var e=this._children,n=e||[this],i=!1,r=!1,s=this.getIntersections(null,function(t){return t.hasOverlap()&&(i=!0)||t.isCrossing()&&(r=!0)}),u=i&&r&&[];if(s=O.expand(s),i)for(var h=l(s,function(t){return t.hasOverlap()},u),c=h.length-1;c>=0;c--){var f=h[c]._segment,_=f.getPrevious(),g=f.getNext();t(_)&&t(g)&&(f.remove(),_._handleOut._set(0,0),g._handleIn._set(0,0),_===f||_.getCurve().hasLength()||(g._handleIn.set(_._handleIn),_.remove()))}r&&(l(s,i&&function(t){var e=t.getCurve(),n=t.getSegment(),i=t._intersection,r=i._curve,s=i._segment;return!!(e&&r&&e._path&&r._path)||(n&&(n._intersection=null),void(s&&(s._intersection=null)))},u),u&&a(u),n=d(o.each(n,function(t){this.push.apply(this,t._segments)},[])));var v,p=n.length;return p>1&&e?(n!==e&&this.setChildren(n),v=this):1!==p||e||(n[0]!==this&&this.setSegments(n[0].removeSegments()),v=this),v||(v=new L(w.NO_INSERT),v.addChildren(n),v=v.reduce(),v.copyAttributes(this),this.replaceWith(v)),v},reorient:function(t,e){var n=this._children;return n&&n.length?this.setChildren(u(this.removeChildren(),function(e){return!!(t?e:1&e)},e)):e!==r&&this.setClockwise(e),this},getInteriorPoint:function(){var t=this.getBounds(),e=t.getCenter(!0);if(!this.contains(e)){for(var n=this.getCurves(),i=e.y,r=[],s=[],a=0,o=n.length;a<o;a++){var u=n[a].getValues(),l=u[1],h=u[3],c=u[5],f=u[7];if(i>=_(l,h,c,f)&&i<=g(l,h,c,f))for(var d=H.getMonoCurves(u),v=0,p=d.length;v<p;v++){var m=d[v],b=m[1],T=m[7];if(b!==T&&(i>=b&&i<=T||i>=T&&i<=b)){var S=i===b?m[0]:i===T?m[6]:1===H.solveCubic(m,1,i,s,0,1)?H.getPoint(m,s[0]).x:(m[0]+m[6])/2;r.push(S)}}}r.length>1&&(r.sort(function(t,e){return t-e}),e.x=(r[0]+r[1])/2)}return e}}});var N=o.extend({_class:"PathFlattener",initialize:function(t,e,n,i,r){function s(t,e){var n=H.getValues(t,e,r);u.push(n),a(n,t._index,0,1)}function a(t,n,r,s){if(!(s-r>c)||i&&H.isStraight(t)||H.isFlatEnough(t,e||.25)){var o=t[6]-t[0],u=t[7]-t[1],f=Math.sqrt(o*o+u*u);f>0&&(h+=f,l.push({offset:h,curve:t,index:n,time:s}))}else{var d=H.subdivide(t,.5),_=(r+s)/2;a(d[0],n,r,_),a(d[1],n,_,s)}}for(var o,u=[],l=[],h=0,c=1/(n||32),f=t._segments,d=f[0],_=1,g=f.length;_<g;_++)o=f[_],s(d,o),d=o;t._closed&&s(o,f[0]),this.curves=u,this.parts=l,this.length=h,this.index=0},_get:function(t){for(var e,n=this.parts,i=n.length,r=this.index;e=r,r&&!(n[--r].offset<t););for(;e<i;e++){var s=n[e];if(s.offset>=t){this.index=e;var a=n[e-1],o=a&&a.index===s.index?a.time:0,u=a?a.offset:0;return{index:s.index,time:o+(s.time-o)*(t-u)/(s.offset-u)}}}return{index:n[i-1].index,time:1}},drawPart:function(t,e,n){for(var i=this._get(e),r=this._get(n),s=i.index,a=r.index;s<=a;s++){var o=H.getPart(this.curves[s],s===i.index?i.time:0,s===r.index?r.time:1);s===i.index&&t.moveTo(o[0],o[1]),t.bezierCurveTo.apply(t,o.slice(2))}}},o.each(H._evaluateMethods,function(t){this[t+"At"]=function(e){var n=this._get(e);return H[t](this.curves[n.index],n.time)}},{})),R=o.extend({initialize:function(t){for(var e,n=this.points=[],i=t._segments,r=t._closed,s=0,a=i.length;s<a;s++){var o=i[s].point;e&&e.equals(o)||n.push(e=o.clone())}r&&(n.unshift(n[n.length-1]),n.push(n[1])),this.closed=r},fit:function(t){var e=this.points,n=e.length,i=null;return n>0&&(i=[new B(e[0])],n>1&&(this.fitCubic(i,t,0,n-1,e[1].subtract(e[0]),e[n-2].subtract(e[n-1])),this.closed&&(i.shift(),i.pop()))),i},fitCubic:function(t,e,n,i,r,s){var a=this.points;if(i-n===1){var o=a[n],u=a[i],l=o.getDistance(u)/3;return void this.addCurve(t,[o,o.add(r.normalize(l)),u.add(s.normalize(l)),u])}for(var h,c=this.chordLengthParameterize(n,i),f=Math.max(e,e*e),d=!0,_=0;_<=4;_++){var g=this.generateBezier(n,i,c,r,s),v=this.findMaxError(n,i,g,c);if(v.error<e&&d)return void this.addCurve(t,g);if(h=v.index,v.error>=f)break;d=this.reparameterize(n,i,c,g),f=v.error}var p=a[h-1].subtract(a[h+1]);this.fitCubic(t,e,n,h,r,p),this.fitCubic(t,e,h,i,p.negate(),s)},addCurve:function(t,e){var n=t[t.length-1];n.setHandleOut(e[1].subtract(e[0])),t.push(new B(e[3],e[2].subtract(e[3])))},generateBezier:function(t,e,n,i,r){for(var s=1e-12,a=Math.abs,o=this.points,u=o[t],l=o[e],h=[[0,0],[0,0]],c=[0,0],f=0,d=e-t+1;f<d;f++){var _=n[f],g=1-_,v=3*_*g,p=g*g*g,m=v*g,b=v*_,T=_*_*_,S=i.normalize(m),y=r.normalize(b),w=o[t+f].subtract(u.multiply(p+m)).subtract(l.multiply(b+T));h[0][0]+=S.dot(S),h[0][1]+=S.dot(y),h[1][0]=h[0][1],h[1][1]+=y.dot(y),c[0]+=S.dot(w),c[1]+=y.dot(w)}var x,A,P=h[0][0]*h[1][1]-h[1][0]*h[0][1];if(a(P)>s){var C=h[0][0]*c[1]-h[1][0]*c[0],M=c[0]*h[1][1]-c[1]*h[0][1];x=M/P,A=C/P}else{var I=h[0][0]+h[0][1],G=h[1][0]+h[1][1];x=A=a(I)>s?c[0]/I:a(G)>s?c[1]/G:0}var B,E,H=l.getDistance(u),O=s*H;if(x<O||A<O)x=A=H/3;else{var k=l.subtract(u);B=i.normalize(x),E=r.normalize(A),B.dot(k)-E.dot(k)>H*H&&(x=A=H/3,B=E=null)}return[u,u.add(B||i.normalize(x)),l.add(E||r.normalize(A)),l]},reparameterize:function(t,e,n,i){for(var r=t;r<=e;r++)n[r-t]=this.findRoot(i,this.points[r],n[r-t]);for(var r=1,s=n.length;r<s;r++)if(n[r]<=n[r-1])return!1;return!0},findRoot:function(t,e,n){for(var i=[],r=[],s=0;s<=2;s++)i[s]=t[s+1].subtract(t[s]).multiply(3);for(var s=0;s<=1;s++)r[s]=i[s+1].subtract(i[s]).multiply(2);var a=this.evaluate(3,t,n),o=this.evaluate(2,i,n),u=this.evaluate(1,r,n),l=a.subtract(e),h=o.dot(o)+l.dot(u);return f.isZero(h)?n:n-l.dot(o)/h},evaluate:function(t,e,n){for(var i=e.slice(),r=1;r<=t;r++)for(var s=0;s<=t-r;s++)i[s]=i[s].multiply(1-n).add(i[s+1].multiply(n));return i[0]},chordLengthParameterize:function(t,e){for(var n=[0],i=t+1;i<=e;i++)n[i-t]=n[i-t-1]+this.points[i].getDistance(this.points[i-1]);for(var i=1,r=e-t;i<=r;i++)n[i]/=n[r];return n},findMaxError:function(t,e,n,i){for(var r=Math.floor((e-t+1)/2),s=0,a=t+1;a<e;a++){var o=this.evaluate(3,n,i[a-t]),u=o.subtract(this.points[a]),l=u.x*u.x+u.y*u.y;l>=s&&(s=l,r=a)}return{error:s,index:r}}}),V=w.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(t){this._content="",this._lines=[];var e=t&&o.isPlainObject(t)&&t.x===r&&t.y===r;this._initialize(e&&t,!e&&_.read(arguments))},_equals:function(t){return this._content===t._content},copyContent:function(t){this.setContent(t._content)},getContent:function(){return this._content},setContent:function(t){this._content=""+t,this._lines=this._content.split(/\r\n|\n|\r/gm),this._changed(265)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),z=V.extend({_class:"PointText",initialize:function(){V.apply(this,arguments)},getPoint:function(){var t=this._matrix.getTranslation();return new g(t.x,t.y,this,"setPoint")},setPoint:function(){var t=_.read(arguments);this.translate(t.subtract(this._matrix.getTranslation()))},_draw:function(t,e,n){if(this._content){this._setStyles(t,e,n);var i=this._lines,r=this._style,s=r.hasFill(),a=r.hasStroke(),o=r.getLeading(),u=t.shadowColor;t.font=r.getFontStyle(),t.textAlign=r.getJustification();for(var l=0,h=i.length;l<h;l++){t.shadowColor=u;var c=i[l];s&&(t.fillText(c,0,0),t.shadowColor="rgba(0,0,0,0)"),a&&t.strokeText(c,0,0),t.translate(0,o)}}},_getBounds:function(t,e){var n=this._style,i=this._lines,r=i.length,s=n.getJustification(),a=n.getLeading(),o=this.getView().getTextWidth(n.getFontStyle(),i),u=0;"left"!==s&&(u-=o/("center"===s?2:1));var l=new m(u,r?-.75*a:0,o,r*a);return t?t._transformBounds(l,l):l}}),F=o.extend(new function(){function t(t){var n,i=t.match(/^#(\w{1,2})(\w{1,2})(\w{1,2})$/);if(i){n=[0,0,0];for(var a=0;a<3;a++){var o=i[a+1];n[a]=parseInt(1==o.length?o+o:o,16)/255}}else if(i=t.match(/^rgba?\((.*)\)$/)){n=i[1].split(",");for(var a=0,u=n.length;a<u;a++){var o=+n[a];n[a]=a<3?o/255:o}}else if(s){var l=r[t];if(!l){e||(e=it.getContext(1,1),e.globalCompositeOperation="copy"),e.fillStyle="rgba(0,0,0,0)",e.fillStyle=t,e.fillRect(0,0,1,1);var h=e.getImageData(0,0,1,1).data;l=r[t]=[h[0]/255,h[1]/255,h[2]/255]}n=l.slice()}else n=[0,0,0];return n}var e,n={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},i={},r={},a=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],u={"rgb-hsb":function(t,e,n){var i=Math.max(t,e,n),r=Math.min(t,e,n),s=i-r,a=0===s?0:60*(i==t?(e-n)/s+(e<n?6:0):i==e?(n-t)/s+2:(t-e)/s+4);return[a,0===i?0:s/i,i]},"hsb-rgb":function(t,e,n){t=(t/60%6+6)%6;var i=Math.floor(t),r=t-i,i=a[i],s=[n,n*(1-e),n*(1-e*r),n*(1-e*(1-r))];return[s[i[0]],s[i[1]],s[i[2]]]},"rgb-hsl":function(t,e,n){var i=Math.max(t,e,n),r=Math.min(t,e,n),s=i-r,a=0===s,o=a?0:60*(i==t?(e-n)/s+(e<n?6:0):i==e?(n-t)/s+2:(t-e)/s+4),u=(i+r)/2,l=a?0:u<.5?s/(i+r):s/(2-i-r);return[o,l,u]},"hsl-rgb":function(t,e,n){if(t=(t/360%1+1)%1,0===e)return[n,n,n];for(var i=[t+1/3,t,t-1/3],r=n<.5?n*(1+e):n+e-n*e,s=2*n-r,a=[],o=0;o<3;o++){var u=i[o];u<0&&(u+=1),u>1&&(u-=1),a[o]=6*u<1?s+6*(r-s)*u:2*u<1?r:3*u<2?s+(r-s)*(2/3-u)*6:s}return a},"rgb-gray":function(t,e,n){return[.2989*t+.587*e+.114*n]},"gray-rgb":function(t){return[t,t,t]},"gray-hsb":function(t){return[0,0,t]},"gray-hsl":function(t){return[0,0,t]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return o.each(n,function(t,e){i[e]=[],o.each(t,function(t,r){var s=o.capitalize(t),a=/^(hue|saturation)$/.test(t),u=i[e][r]="gradient"===t?function(t){var e=this._components[0];return t=j.read(Array.isArray(t)?t:arguments,0,{readNull:!0}),e!==t&&(e&&e._removeOwner(this),t&&t._addOwner(this)),t}:"gradient"===e?function(){return _.read(arguments,0,{readNull:"highlight"===t,clone:!0})}:function(t){return null==t||isNaN(t)?0:t};this["get"+s]=function(){return this._type===e||a&&/^hs[bl]$/.test(this._type)?this._components[r]:this._convert(e)[r]},this["set"+s]=function(t){this._type===e||a&&/^hs[bl]$/.test(this._type)||(this._components=this._convert(e),this._properties=n[e],this._type=e),this._components[r]=u.call(this,t),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function l(e){var r,s,a,u,h=arguments,c=this.__read,f=0;Array.isArray(e)&&(h=e,e=h[0]);var d=null!=e&&typeof e;if("string"===d&&e in n&&(r=e,e=h[1],Array.isArray(e)?(s=e,a=h[2]):(c&&(f=1),h=o.slice(h,1),d=typeof e)),!s){if(u="number"===d?h:"object"===d&&null!=e.length?e:null){r||(r=u.length>=3?"rgb":"gray");var _=n[r].length;a=u[_],c&&(f+=u===arguments?_+(null!=a?1:0):1),u.length>_&&(u=o.slice(u,0,_))}else if("string"===d)r="rgb",s=t(e),4===s.length&&(a=s[3],s.length--);else if("object"===d)if(e.constructor===l){if(r=e._type,s=e._components.slice(),a=e._alpha,"gradient"===r)for(var g=1,v=s.length;g<v;g++){var p=s[g];p&&(s[g]=p.clone())}}else if(e.constructor===j)r="gradient",u=h;else{r="hue"in e?"lightness"in e?"hsl":"hsb":"gradient"in e||"stops"in e||"radial"in e?"gradient":"gray"in e?"gray":"rgb";var m=n[r],b=i[r];this._components=s=[];for(var g=0,v=m.length;g<v;g++){var T=e[m[g]];null==T&&!g&&"gradient"===r&&"stops"in e&&(T={stops:e.stops,radial:e.radial}),T=b[g].call(this,T),null!=T&&(s[g]=T)}a=e.alpha}c&&r&&(f=1)}if(this._type=r||"rgb",!s){this._components=s=[];for(var b=i[this._type],g=0,v=b.length;g<v;g++){var T=b[g].call(this,u&&u[g]);null!=T&&(s[g]=T)}}return this._components=s,this._properties=n[this._type],this._alpha=a,c&&(this.__read=f),this},set:"#initialize",_serialize:function(t,e){var n=this.getComponents();return o.serialize(/^(gray|rgb)$/.test(this._type)?n:[this._type].concat(n),t,!0,e)},_changed:function(){this._canvasStyle=null,this._owner&&this._owner._changed(65)},_convert:function(t){var e;return this._type===t?this._components.slice():(e=u[this._type+"-"+t])?e.apply(this,this._components):u["rgb-"+t].apply(this,u[this._type+"-rgb"].apply(this,this._components))},convert:function(t){return new F(t,this._convert(t),this._alpha)},getType:function(){return this._type},setType:function(t){this._components=this._convert(t),this._properties=n[t],this._type=t},getComponents:function(){var t=this._components.slice();return null!=this._alpha&&t.push(this._alpha),t},getAlpha:function(){return null!=this._alpha?this._alpha:1},setAlpha:function(t){this._alpha=null==t?null:Math.min(Math.max(t,0),1),this._changed()},hasAlpha:function(){return null!=this._alpha},equals:function(t){var e=o.isPlainValue(t,!0)?F.read(arguments):t;return e===this||e&&this._class===e._class&&this._type===e._type&&this.getAlpha()===e.getAlpha()&&o.equals(this._components,e._components)||!1},toString:function(){for(var t=this._properties,e=[],n="gradient"===this._type,i=c.instance,r=0,s=t.length;r<s;r++){var a=this._components[r];null!=a&&e.push(t[r]+": "+(n?a:i.number(a)))}return null!=this._alpha&&e.push("alpha: "+i.number(this._alpha)),"{ "+e.join(", ")+" }"},toCSS:function(t){function e(t){return Math.round(255*(t<0?0:t>1?1:t))}var n=this._convert("rgb"),i=t||null==this._alpha?1:this._alpha;return n=[e(n[0]),e(n[1]),e(n[2])],i<1&&n.push(i<0?0:i),t?"#"+((1<<24)+(n[0]<<16)+(n[1]<<8)+n[2]).toString(16).slice(1):(4==n.length?"rgba(":"rgb(")+n.join(",")+")"},toCanvasStyle:function(t){if(this._canvasStyle)return this._canvasStyle;if("gradient"!==this._type)return this._canvasStyle=this.toCSS();var e,n=this._components,i=n[0],r=i._stops,s=n[1],a=n[2];if(i._radial){var o=a.getDistance(s),u=n[3];if(u){var l=u.subtract(s);l.getLength()>o&&(u=s.add(l.normalize(o-.1)))}var h=u||s;e=t.createRadialGradient(h.x,h.y,0,s.x,s.y,o)}else e=t.createLinearGradient(s.x,s.y,a.x,a.y);for(var c=0,f=r.length;c<f;c++){var d=r[c],_=d._offset;e.addColorStop(null==_?c/(f-1):_,d._color.toCanvasStyle())}return this._canvasStyle=e},transform:function(t){if("gradient"===this._type){for(var e=this._components,n=1,i=e.length;n<i;n++){var r=e[n];t._transformPoint(r,r,!0)}this._changed()}},statics:{_types:n,random:function(){var t=Math.random;return new F(t(),t(),t())}}})},new function(){var t={add:function(t,e){return t+e},subtract:function(t,e){return t-e},multiply:function(t,e){return t*e},divide:function(t,e){return t/e}};return o.each(t,function(t,e){this[e]=function(e){e=F.read(arguments);for(var n=this._type,i=this._components,r=e._convert(n),s=0,a=i.length;s<a;s++)r[s]=t(i[s],r[s]);return new F(n,r,null!=this._alpha?t(this._alpha,e.getAlpha()):null)}},{})}),j=o.extend({_class:"Gradient",initialize:function(t,e){this._id=d.get(),t&&o.isPlainObject(t)&&(this.set(t),t=e=null),null==this._stops&&this.setStops(t||["white","black"]),null==this._radial&&this.setRadial("string"==typeof e&&"radial"===e||e||!1)},_serialize:function(t,e){return e.add(this,function(){return o.serialize([this._stops,this._radial],t,!0,e)})},_changed:function(){for(var t=0,e=this._owners&&this._owners.length;t<e;t++)this._owners[t]._changed()},_addOwner:function(t){this._owners||(this._owners=[]),this._owners.push(t)},_removeOwner:function(t){var e=this._owners?this._owners.indexOf(t):-1;e!=-1&&(this._owners.splice(e,1),this._owners.length||(this._owners=r))},clone:function(){for(var t=[],e=0,n=this._stops.length;e<n;e++)t[e]=this._stops[e].clone();return new j(t,this._radial)},getStops:function(){return this._stops},setStops:function(t){if(t.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var e=this._stops;if(e)for(var n=0,i=e.length;n<i;n++)e[n]._owner=r;e=this._stops=W.readList(t,0,{clone:!0});for(var n=0,i=e.length;n<i;n++)e[n]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(t){this._radial=t,this._changed()},equals:function(t){if(t===this)return!0;if(t&&this._class===t._class){var e=this._stops,n=t._stops,i=e.length;if(i===n.length){for(var r=0;r<i;r++)if(!e[r].equals(n[r]))return!1;return!0}}return!1}}),W=o.extend({_class:"GradientStop",initialize:function(t,e){var n=t,i=e;"object"==typeof t&&e===r&&(Array.isArray(t)&&"number"!=typeof t[0]?(n=t[0],i=t[1]):("color"in t||"offset"in t||"rampPoint"in t)&&(n=t.color,i=t.offset||t.rampPoint||0)),this.setColor(n),this.setOffset(i)},clone:function(){return new W(this._color.clone(),this._offset)},_serialize:function(t,e){var n=this._color,i=this._offset;return o.serialize(null==i?[n]:[n,i],t,!0,e)},_changed:function(){this._owner&&this._owner._changed(65)},getOffset:function(){return this._offset},setOffset:function(t){this._offset=t,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){var t=F.read(arguments,0,{clone:!0});t&&(t._owner=this),this._color=t,this._changed()},equals:function(t){return t===this||t&&this._class===t._class&&this._color.equals(t._color)&&this._offset==t._offset||!1}}),U=o.extend(new function(){var t={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new _,selectedColor:null},e=o.set({},t,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),n=o.set({},e,{fillColor:new F}),s={strokeWidth:97,strokeCap:97,strokeJoin:97,strokeScaling:105,miterLimit:97,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},a={beans:!0},u={_class:"Style",beans:!0,initialize:function(r,s,a){this._values={},this._owner=s,this._project=s&&s._project||a||i.project,this._defaults=!s||s instanceof x?e:s instanceof V?n:t,r&&this.set(r)}};return o.each(e,function(t,e){var n=/Color$/.test(e),i="shadowOffset"===e,l=o.capitalize(e),h=s[e],c="set"+l,f="get"+l;u[c]=function(t){var i=this._owner,s=i&&i._children;if(s&&s.length>0&&!(i instanceof L))for(var a=0,o=s.length;a<o;a++)s[a]._style[c](t);else if(e in this._defaults){var u=this._values[e];u!==t&&(n&&(u&&u._owner!==r&&(u._owner=r),t&&t.constructor===F&&(t._owner&&(t=t.clone()),t._owner=i)),this._values[e]=t,i&&i._changed(h||65))}},u[f]=function(t){var s,a=this._owner,u=a&&a._children;if(e in this._defaults&&(!u||!u.length||t||a instanceof L)){var s=this._values[e];if(s===r)s=this._defaults[e],s&&s.clone&&(s=s.clone());else{var l=n?F:i?_:null;!l||s&&s.constructor===l||(this._values[e]=s=l.read([s],0,{readNull:!0,clone:!0}),s&&n&&(s._owner=a))}}else if(u)for(var h=0,c=u.length;h<c;h++){var d=u[h]._style[f]();if(h){if(!o.equals(s,d))return r}else s=d}return s},a[f]=function(t){return this._style[f](t)},a[c]=function(t){this._style[c](t)}}),o.each({Font:"FontFamily",WindingRule:"FillRule"},function(t,e){var n="get"+e,i="set"+e;u[n]=a[n]="#get"+t,u[i]=a[i]="#set"+t}),w.inject(a),u},{set:function(t){this._values={};var e=t instanceof U,n=e?t._values:t;if(n)for(var i in n)if(i in this._defaults){var r=n[i];this[i]=r&&e&&r.clone?r.clone():r}},equals:function(t){function e(t,e,n){var i=t._values,s=e._values,a=e._defaults;for(var u in i){var l=i[u],h=s[u];if(!(n&&u in s||o.equals(l,h===r?a[u]:h)))return!1}return!0}return t===this||t&&this._class===t._class&&e(this,t)&&e(t,this,!0)||!1},hasFill:function(){var t=this.getFillColor();return!!t&&t.alpha>0},hasStroke:function(){var t=this.getStrokeColor();return!!t&&t.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var t=this.getShadowColor();return!!t&&t.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var t=this.getFontSize();return this.getFontWeight()+" "+t+(/[a-z]/i.test(t+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function At(){var t=At.base.call(this),e=this.getFontSize();return/pt|em|%|px/.test(e)&&(e=this.getView().getPixelSize(e)),null!=t?t:1.2*e}}),X=new function(){function t(t,e,n,i){for(var r=["","webkit","moz","Moz","ms","o"],s=e[0].toUpperCase()+e.substring(1),a=0;a<6;a++){var o=r[a],u=o?o+s:e;if(u in t){if(!n)return t[u];t[u]=i;break}}}return{getStyles:function(t){var e=t&&9!==t.nodeType?t.ownerDocument:t,n=e&&e.defaultView;return n&&n.getComputedStyle(t,"")},getBounds:function(t,e){var n,i=t.ownerDocument,r=i.body,s=i.documentElement;try{n=t.getBoundingClientRect()}catch(a){n={left:0,top:0,width:0,height:0}}var o=n.left-(s.clientLeft||r.clientLeft||0),u=n.top-(s.clientTop||r.clientTop||0);if(!e){var l=i.defaultView;o+=l.pageXOffset||s.scrollLeft||r.scrollLeft,u+=l.pageYOffset||s.scrollTop||r.scrollTop}return new m(o,u,n.width,n.height)},getViewportBounds:function(t){var e=t.ownerDocument,n=e.defaultView,i=e.documentElement;return new m(0,0,n.innerWidth||i.clientWidth,n.innerHeight||i.clientHeight)},getOffset:function(t,e){return X.getBounds(t,e).getPoint()},getSize:function(t){return X.getBounds(t,!0).getSize()},isInvisible:function(t){return X.getSize(t).equals(new v(0,0))},isInView:function(t){return!X.isInvisible(t)&&X.getViewportBounds(t).intersects(X.getBounds(t,!0))},isInserted:function(t){return a.body.contains(t)},getPrefixed:function(e,n){return e&&t(e,n)},setPrefixed:function(e,n,i){if("object"==typeof n)for(var r in n)t(e,r,!0,n[r]);else t(e,n,!0,i)}}},q={add:function(t,e){if(t)for(var n in e)for(var i=e[n],r=n.split(/[\s,]+/g),s=0,a=r.length;s<a;s++)t.addEventListener(r[s],i,!1)},remove:function(t,e){if(t)for(var n in e)for(var i=e[n],r=n.split(/[\s,]+/g),s=0,a=r.length;s<a;s++)t.removeEventListener(r[s],i,!1)},getPoint:function(t){var e=t.targetTouches?t.targetTouches.length?t.targetTouches[0]:t.changedTouches[0]:t;return new _(e.pageX||e.clientX+a.documentElement.scrollLeft,e.pageY||e.clientY+a.documentElement.scrollTop)},getTarget:function(t){return t.target||t.srcElement},getRelatedTarget:function(t){return t.relatedTarget||t.toElement},getOffset:function(t,e){return q.getPoint(t).subtract(X.getOffset(e||q.getTarget(t)))}};q.requestAnimationFrame=new function(){function t(){var e=r;r=[];for(var s=0,a=e.length;s<a;s++)e[s]();i=n&&r.length,i&&n(t)}var e,n=X.getPrefixed(s,"requestAnimationFrame"),i=!1,r=[];return function(s){r.push(s),n?i||(n(t),i=!0):e||(e=setInterval(t,1e3/60))}};var K=o.extend(u,{_class:"View",initialize:function Pt(t,e){function n(t){return e[t]||parseInt(e.getAttribute(t),10)}function r(){var t=X.getSize(e);return t.isNaN()||t.isZero()?new v(n("width"),n("height")):t}var o;if(s&&e){this._id=e.getAttribute("id"),null==this._id&&e.setAttribute("id",this._id="view-"+Pt._id++),q.add(e,this._viewEvents);var u="none";if(X.setPrefixed(e.style,{userDrag:u,userSelect:u,touchCallout:u,contentZooming:u,tapHighlightColor:"rgba(0,0,0,0)"}),l.hasAttribute(e,"resize")){var h=this;q.add(s,this._windowEvents={resize:function(){h.setViewSize(r())}})}if(o=r(),l.hasAttribute(e,"stats")&&"undefined"!=typeof Stats){this._stats=new Stats;var c=this._stats.domElement,f=c.style,d=X.getOffset(e);f.position="absolute",f.left=d.x+"px",f.top=d.y+"px",a.body.appendChild(c)}}else o=new v(e),e=null;this._project=t,this._scope=t._scope,this._element=e,this._pixelRatio||(this._pixelRatio=s&&s.devicePixelRatio||1),this._setElementSize(o.width,o.height),this._viewSize=o,Pt._views.push(this),Pt._viewsById[this._id]=this,(this._matrix=new T)._owner=this,Pt._focused||(Pt._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={"native":{},virtual:{}},this._autoUpdate=!i.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;K._focused===this&&(K._focused=null),K._views.splice(K._views.indexOf(this),1),delete K._viewsById[this._id];var t=this._project;return t._view===this&&(t._view=null),q.remove(this._element,this._viewEvents),q.remove(s,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:o.each(w._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(t){this[t]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(t){this._autoUpdate=t,t&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var t=this;q.requestAnimationFrame(function(){if(t._requested=!1,t._animate){t.requestUpdate();var e=t._element;X.getPrefixed(a,"hidden")&&"true"!==l.getAttribute(e,"keepalive")||!X.isInView(e)||t._handleFrame()}t._autoUpdate&&t.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){i=this._scope;var t=Date.now()/1e3,e=this._last?t-this._last:0;this._last=t,this.emit("frame",new o({delta:e,time:this._time+=e,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(t,e){var n=this._frameItems;e?(n[t._id]={item:t,time:0,count:0},1===++this._frameItemCount&&this.on("frame",this._handleFrameItems)):(delete n[t._id],0===--this._frameItemCount&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(t){for(var e in this._frameItems){var n=this._frameItems[e];n.item.emit("frame",new o(t,{time:n.time+=t.delta,count:n.count++}))}},_changed:function(){this._project._changed(2049),this._bounds=this._decomposed=r},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return 72*this._pixelRatio},getViewSize:function(){var t=this._viewSize;return new p(t.width,t.height,this,"setViewSize")},setViewSize:function(){var t=v.read(arguments),e=t.subtract(this._viewSize);e.isZero()||(this._setElementSize(t.width,t.height),this._viewSize.set(t),this._changed(),this.emit("resize",{size:t,delta:e}),this._autoUpdate&&this.update())},_setElementSize:function(t,e){var n=this._element;n&&(n.width!==t&&(n.width=t),n.height!==e&&(n.height=e))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new m(new _,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return X.isInView(this._element)},isInserted:function(){return X.isInserted(this._element)},getPixelSize:function(t){var e,n=this._element;if(n){var i=n.parentNode,r=a.createElement("div");r.style.fontSize=t,i.appendChild(r),e=parseFloat(X.getStyles(r).fontSize),i.removeChild(r)}else e=parseFloat(e);return e},getTextWidth:function(t,e){return 0}},o.each(["rotate","scale","shear","skew"],function(t){var e="rotate"===t;this[t]=function(){var n=(e?o:_).read(arguments),i=_.read(arguments,0,{readNull:!0});return this.transform((new T)[t](n,i||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var t=new T;return this.transform(t.translate.apply(t,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var t=_.read(arguments);this.translate(this.getCenter().subtract(t))},getZoom:function(){var t=this._decompose(),e=t&&t.scaling;return e?(e.x+e.y)/2:0},setZoom:function(t){this.transform((new T).scale(t/this.getZoom(),this.getCenter()))},getRotation:function(){var t=this._decompose();return t&&t.rotation},setRotation:function(t){var e=this.getRotation();null!=e&&null!=t&&this.rotate(t-e)},getScaling:function(){var t=this._decompose(),e=t&&t.scaling;return e?new g(e.x,e.y,this,"setScaling"):r},setScaling:function(){var t=this.getScaling(),e=_.read(arguments,0,{clone:!0,readNull:!0});t&&e&&this.scale(e.x/t.x,e.y/t.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.initialize.apply(t,arguments)},transform:function(t){this._matrix.append(t)},scrollBy:function(){this.translate(_.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(_.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(_.read(arguments))},getEventPoint:function(t){return this.viewToProject(q.getOffset(t,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(t,e){a&&"string"==typeof e&&(e=a.getElementById(e));var n=s?Z:K;return new n(t,e)}}},new function(){function t(t){var e=q.getTarget(t);return e.getAttribute&&K._viewsById[e.getAttribute("id")]}function e(){var t=K._focused;if(!t||!t.isVisible())for(var e=0,n=K._views.length;e<n;e++)if((t=K._views[e]).isVisible()){K._focused=l=t;break}}function n(t,e,n){t._handleMouseEvent("mousemove",e,n)}function r(t,e,n,i,r,s,a){function o(t,n){if(t.responds(n)){if(u||(u=new Y(n,i,r,e||t,s?r.subtract(s):null)),t.emit(n,u)&&(C=!0,u.prevented&&(M=!0),u.stopped))return l=!0}else{var a=I[n];if(a)return o(t,a)}}for(var u,l=!1;t&&t!==a&&!o(t,n);)t=t._parent;return l}function o(t,e,n,i,s,a){return t._project.removeOn(n),M=C=!1,w&&r(w,null,n,i,s,a)||e&&e!==w&&!e.isDescendant(w)&&r(e,null,I[n]||n,i,s,a,w)||r(t,w||e||t,n,i,s,a)}if(s){var u,l,h,c,f,d=!1,_=!1,g=s.navigator;g.pointerEnabled||g.msPointerEnabled?(h="pointerdown MSPointerDown",c="pointermove MSPointerMove",f="pointerup pointercancel MSPointerUp MSPointerCancel"):(h="touchstart",c="touchmove",f="touchend touchcancel","ontouchstart"in s&&g.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(h+=" mousedown",c+=" mousemove",f+=" mouseup"));var v={},p={mouseout:function(t){var e=K._focused,i=q.getRelatedTarget(t);if(e&&(!i||"HTML"===i.nodeName)){var r=q.getOffset(t,e._element),s=r.x,a=Math.abs,o=a(s),u=1<<25,l=o-u;r.x=a(l)<o?l*(s<0?-1:1):s,n(e,t,e.viewToProject(r))}},scroll:e};v[h]=function(e){var n=K._focused=t(e);d||(d=!0,n._handleMouseEvent("mousedown",e))},p[c]=function(i){var r=K._focused;if(!_){var s=t(i);s?r!==s&&(r&&n(r,i),u||(u=r),r=K._focused=l=s):l&&l===r&&(u&&!u.isInserted()&&(u=null),r=K._focused=u,u=null,e())}r&&n(r,i)},p[h]=function(){_=!0},p[f]=function(t){var e=K._focused;e&&d&&e._handleMouseEvent("mouseup",t),_=d=!1},q.add(a,p),q.add(s,{load:e});var m,b,T,S,y,w,x,A,P,C=!1,M=!1,I={doubleclick:"click",mousedrag:"mousemove"},G=!1,B={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:v,_handleMouseEvent:function(t,e,n){function i(t){return s.virtual[t]||h.responds(t)||l&&l.responds(t)}var s=this._itemEvents,a=s["native"][t],u="mousemove"===t,l=this._scope.tool,h=this;u&&d&&i("mousedrag")&&(t="mousedrag"),n||(n=this.getEventPoint(e));var c=this.getBounds().contains(n),f=a&&c&&h._project.hitTest(n,{tolerance:0,fill:!0,stroke:!0}),_=f&&f.item||null,g=!1,v={};v[t.substr(5)]=!0,a&&_!==y&&(y&&r(y,null,"mouseleave",e,n),_&&r(_,null,"mouseenter",e,n),y=_),G^c&&(r(this,null,c?"mouseenter":"mouseleave",e,n),m=c?this:null,g=!0),!c&&!v.drag||n.equals(T)||(o(this,_,u?t:"mousemove",e,n,T),g=!0),G=c,(v.down&&c||v.up&&b)&&(o(this,_,t,e,n,b),v.down?(P=_===x&&Date.now()-A<300,S=x=_,w=!M&&_,b=n):v.up&&(M||_!==S||(A=Date.now(),o(this,_,P?"doubleclick":"click",e,n,b),P=!1),S=w=null),G=!1,g=!0),T=n,g&&l&&(C=l._handleMouseEvent(t,e,n,v)||C),(C&&!v.move||v.down&&i("mouseup"))&&e.preventDefault()},_handleKeyEvent:function(t,e,n,r){function s(s){s.responds(t)&&(i=o,s.emit(t,a=a||new $(t,e,n,r)))}var a,o=this._scope,u=o.tool;this.isVisible()&&(s(this),u&&u.responds(t)&&s(u))},_countItemEvent:function(t,e){var n=this._itemEvents,i=n["native"],r=n.virtual;for(var s in B)i[s]=(i[s]||0)+(B[s][t]||0)*e;r[t]=(r[t]||0)+e},statics:{updateFocus:e}}}}),Z=K.extend({_class:"CanvasView",initialize:function(t,e){if(!(e instanceof s.HTMLCanvasElement)){var n=v.read(arguments,1);if(n.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+o.slice(arguments,1));e=it.getCanvas(n)}var i=this._context=e.getContext("2d");if(i.save(),this._pixelRatio=1,!/^off|false$/.test(l.getAttribute(e,"hidpi"))){var r=s.devicePixelRatio||1,a=X.getPrefixed(i,"backingStorePixelRatio")||1;this._pixelRatio=r/a}K.call(this,t,e),this._needsUpdate=!0},remove:function Ct(){return this._context.restore(),Ct.base.call(this)},_setElementSize:function Mt(t,e){var n=this._pixelRatio;if(Mt.base.call(this,t*n,e*n),1!==n){var i=this._element,r=this._context;
if(!l.hasAttribute(i,"resize")){var s=i.style;s.width=t+"px",s.height=e+"px"}r.restore(),r.save(),r.scale(n,n)}},getPixelSize:function It(t){var e,n=i.agent;if(n&&n.firefox)e=It.base.call(this,t);else{var r=this._context,s=r.font;r.font=t+" serif",e=parseFloat(r.font),r.font=s}return e},getTextWidth:function(t,e){var n=this._context,i=n.font,r=0;n.font=t;for(var s=0,a=e.length;s<a;s++)r=Math.max(r,n.measureText(e[s]).width);return n.font=i,r},update:function(){if(!this._needsUpdate)return!1;var t=this._project,e=this._context,n=this._viewSize;return e.clearRect(0,0,n.width+1,n.height+1),t&&t.draw(e,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),Q=o.extend({_class:"Event",initialize:function(t){this.event=t,this.type=t&&t.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return J.modifiers}}),$=Q.extend({_class:"KeyEvent",initialize:function(t,e,n,i){this.type=t,this.event=e,this.key=n,this.character=i},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),J=new function(){function t(t){var e=t.key||t.keyIdentifier;return e=/^U\+/.test(e)?String.fromCharCode(parseInt(e.substr(2),16)):/^Arrow[A-Z]/.test(e)?e.substr(5):"Unidentified"===e?String.fromCharCode(t.keyCode):e,u[e]||(e.length>1?o.hyphenate(e):e.toLowerCase())}function e(t,r,s,a){var u,l=K._focused;if(h[r]=t,t?c[r]=s:delete c[r],r.length>1&&(u=o.camelize(r))in f){f[u]=t;var d=i&&i.agent;if("meta"===u&&d&&d.mac)if(t)n={};else{for(var _ in n)_ in c&&e(!1,_,n[_],a);n=null}}else t&&n&&(n[r]=s);l&&l._handleKeyEvent(t?"keydown":"keyup",a,r,s)}var n,r,u={"\t":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},l={tab:"\t",space:" ",enter:"\r"},h={},c={},f=new o({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var t=i&&i.agent;return t&&t.mac?this.meta:this.control}}});return q.add(a,{keydown:function(n){var s=t(n),a=i&&i.agent;s.length>1||a&&a.chrome&&(n.altKey||a.mac&&n.metaKey||!a.mac&&n.ctrlKey)?e(!0,s,l[s]||(s.length>1?"":s),n):r=s},keypress:function(n){if(r){var i=t(n),s=n.charCode,a=s>=32?String.fromCharCode(s):i.length>1?"":i;i!==r&&(i=a.toLowerCase()),e(!0,i,a,n),r=null}},keyup:function(n){var i=t(n);i in c&&e(!1,i,c[i],n)}}),q.add(s,{blur:function(t){for(var n in c)e(!1,n,c[n],t)}}),{modifiers:f,isDown:function(t){return!!h[t]}}},Y=Q.extend({_class:"MouseEvent",initialize:function(t,e,n,i,r){this.type=t,this.event=e,this.point=n,this.target=i,this.delta=r},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),tt=Q.extend({_class:"ToolEvent",_item:null,initialize:function(t,e,n){this.tool=t,this.type=e,this.event=n},_choosePoint:function(t,e){return t?t:e?e.clone():null},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(t){this._point=t},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(t){this._lastPoint=t},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(t){this._downPoint=t},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(t){this._middlePoint=t},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(t){this._delta=t},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(t){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=t},getItem:function(){if(!this._item){var t=this.tool._scope.project.hitTest(this.getPoint());if(t){for(var e=t.item,n=e._parent;/^(Group|CompoundPath)$/.test(n._class);)e=n,n=n._parent;this._item=e}}return this._item},setItem:function(t){this._item=t},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),et=h.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(t){h.call(this),this._moveCount=-1,this._downCount=-1,this.set(t)},getMinDistance:function(){return this._minDistance},setMinDistance:function(t){this._minDistance=t,null!=t&&null!=this._maxDistance&&t>this._maxDistance&&(this._maxDistance=t)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(t){this._maxDistance=t,null!=this._minDistance&&null!=t&&t<this._minDistance&&(this._minDistance=t)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(t){this._minDistance=this._maxDistance=t},_handleMouseEvent:function(t,e,n,r){function s(t,e){var i=n,s=o?f._point:f._downPoint||i;if(o){if(f._moveCount&&i.equals(s))return!1;if(s&&(null!=t||null!=e)){var a=i.subtract(s),u=a.getLength();if(u<(t||0))return!1;e&&(i=s.add(a.normalize(Math.min(u,e))))}f._moveCount++}return f._point=i,f._lastPoint=s||i,r.down&&(f._moveCount=-1,f._downPoint=i,f._downCount++),!0}function a(){u&&(c=f.emit(t,new tt(f,t,e))||c)}i=this._scope,r.drag&&!this.responds(t)&&(t="mousemove");var o=r.move||r.drag,u=this.responds(t),l=this.minDistance,h=this.maxDistance,c=!1,f=this;if(r.down)s(),a();else if(r.up)s(null,h),a();else if(u)for(;s(l,h);)a();return c}}),nt={request:function(t){var e=new n.XMLHttpRequest;return e.open((t.method||"get").toUpperCase(),t.url,o.pick(t.async,!0)),t.mimeType&&e.overrideMimeType(t.mimeType),e.onload=function(){var n=e.status;0===n||200===n?t.onLoad&&t.onLoad.call(e,e.responseText):e.onerror()},e.onerror=function(){var n=e.status,i='Could not load "'+t.url+'" (Status: '+n+")";if(!t.onError)throw new Error(i);t.onError(i,n)},e.send(null)}},it={canvases:[],getCanvas:function(t,e){if(!s)return null;var n,i=!0;"object"==typeof t&&(e=t.height,t=t.width),this.canvases.length?n=this.canvases.pop():(n=a.createElement("canvas"),i=!1);var r=n.getContext("2d");if(!r)throw new Error("Canvas "+n+" is unable to provide a 2D context.");return n.width===t&&n.height===e?i&&r.clearRect(0,0,t+1,e+1):(n.width=t,n.height=e),r.save(),n},getContext:function(t,e){var n=this.getCanvas(t,e);return n?n.getContext("2d"):null},release:function(t){var e=t&&t.canvas?t.canvas:t;e&&e.getContext&&(e.getContext("2d").restore(),this.canvases.push(e))}},rt=new function(){function t(t,e,n){return.2989*t+.587*e+.114*n}function e(e,n,i,r){var s=r-t(e,n,i);d=e+s,_=n+s,g=i+s;var r=t(d,_,g),a=v(d,_,g),o=p(d,_,g);if(a<0){var u=r-a;d=r+(d-r)*r/u,_=r+(_-r)*r/u,g=r+(g-r)*r/u}if(o>255){var l=255-r,h=o-r;d=r+(d-r)*l/h,_=r+(_-r)*l/h,g=r+(g-r)*l/h}}function n(t,e,n){return p(t,e,n)-v(t,e,n)}function i(t,e,n,i){var r,s=[t,e,n],a=p(t,e,n),o=v(t,e,n);o=o===t?0:o===e?1:2,a=a===t?0:a===e?1:2,r=0===v(o,a)?1===p(o,a)?2:1:0,s[a]>s[o]?(s[r]=(s[r]-s[o])*i/(s[a]-s[o]),s[a]=i):s[r]=s[a]=0,s[o]=0,d=s[0],_=s[1],g=s[2]}var r,s,a,u,l,h,c,f,d,_,g,v=Math.min,p=Math.max,m=Math.abs,b={multiply:function(){d=l*r/255,_=h*s/255,g=c*a/255},screen:function(){d=l+r-l*r/255,_=h+s-h*s/255,g=c+a-c*a/255},overlay:function(){d=l<128?2*l*r/255:255-2*(255-l)*(255-r)/255,_=h<128?2*h*s/255:255-2*(255-h)*(255-s)/255,g=c<128?2*c*a/255:255-2*(255-c)*(255-a)/255},"soft-light":function(){var t=r*l/255;d=t+l*(255-(255-l)*(255-r)/255-t)/255,t=s*h/255,_=t+h*(255-(255-h)*(255-s)/255-t)/255,t=a*c/255,g=t+c*(255-(255-c)*(255-a)/255-t)/255},"hard-light":function(){d=r<128?2*r*l/255:255-2*(255-r)*(255-l)/255,_=s<128?2*s*h/255:255-2*(255-s)*(255-h)/255,g=a<128?2*a*c/255:255-2*(255-a)*(255-c)/255},"color-dodge":function(){d=0===l?0:255===r?255:v(255,255*l/(255-r)),_=0===h?0:255===s?255:v(255,255*h/(255-s)),g=0===c?0:255===a?255:v(255,255*c/(255-a))},"color-burn":function(){d=255===l?255:0===r?0:p(0,255-255*(255-l)/r),_=255===h?255:0===s?0:p(0,255-255*(255-h)/s),g=255===c?255:0===a?0:p(0,255-255*(255-c)/a)},darken:function(){d=l<r?l:r,_=h<s?h:s,g=c<a?c:a},lighten:function(){d=l>r?l:r,_=h>s?h:s,g=c>a?c:a},difference:function(){d=l-r,d<0&&(d=-d),_=h-s,_<0&&(_=-_),g=c-a,g<0&&(g=-g)},exclusion:function(){d=l+r*(255-l-l)/255,_=h+s*(255-h-h)/255,g=c+a*(255-c-c)/255},hue:function(){i(r,s,a,n(l,h,c)),e(d,_,g,t(l,h,c))},saturation:function(){i(l,h,c,n(r,s,a)),e(d,_,g,t(l,h,c))},luminosity:function(){e(l,h,c,t(r,s,a))},color:function(){e(r,s,a,t(l,h,c))},add:function(){d=v(l+r,255),_=v(h+s,255),g=v(c+a,255)},subtract:function(){d=p(l-r,0),_=p(h-s,0),g=p(c-a,0)},average:function(){d=(l+r)/2,_=(h+s)/2,g=(c+a)/2},negation:function(){d=255-m(255-r-l),_=255-m(255-s-h),g=255-m(255-a-c)}},T=this.nativeModes=o.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(t){this[t]=!0},{}),S=it.getContext(1,1);S&&(o.each(b,function(t,e){var n="darken"===e,i=!1;S.save();try{S.fillStyle=n?"#300":"#a00",S.fillRect(0,0,1,1),S.globalCompositeOperation=e,S.globalCompositeOperation===e&&(S.fillStyle=n?"#a00":"#300",S.fillRect(0,0,1,1),i=S.getImageData(0,0,1,1).data[0]!==n?170:51)}catch(r){}S.restore(),T[e]=i}),it.release(S)),this.process=function(t,e,n,i,o){var v=e.canvas,p="normal"===t;if(p||T[t])n.save(),n.setTransform(1,0,0,1,0,0),n.globalAlpha=i,p||(n.globalCompositeOperation=t),n.drawImage(v,o.x,o.y),n.restore();else{var m=b[t];if(!m)return;for(var S=n.getImageData(o.x,o.y,v.width,v.height),y=S.data,w=e.getImageData(0,0,v.width,v.height).data,x=0,A=y.length;x<A;x+=4){r=w[x],l=y[x],s=w[x+1],h=y[x+1],a=w[x+2],c=y[x+2],u=w[x+3],f=y[x+3],m();var P=u*i/255,C=1-P;y[x]=P*d+C*l,y[x+1]=P*_+C*h,y[x+2]=P*g+C*c,y[x+3]=u*i+C*f}n.putImageData(S,o.x,o.y)}}},st=new function(){function t(t,e,r){return n(a.createElementNS(i,t),e,r)}function e(t,e){var n=o[e],i=n?t.getAttributeNS(n,e):t.getAttribute(e);return"null"===i?null:i}function n(t,e,n){for(var i in e){var r=e[i],s=o[i];"number"==typeof r&&n&&(r=n.number(r)),s?t.setAttributeNS(s,i,r):t.setAttribute(i,r)}return t}var i="http://www.w3.org/2000/svg",r="http://www.w3.org/2000/xmlns",s="http://www.w3.org/1999/xlink",o={href:s,xlink:r,xmlns:r+"/","xmlns:xlink":r+"/"};return{svg:i,xmlns:r,xlink:s,create:t,get:e,set:n}},at=o.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{"true":"none","false":"non-scaling-stroke"},function(t,e){return!e&&(t instanceof k||t instanceof P||t instanceof V)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(t,e){var n=o.capitalize(e),i=t[2];this[e]={type:t[1],property:e,attribute:t[0],toSVG:i,fromSVG:i&&o.each(i,function(t,e){this[t]=e},{}),exportFilter:t[3],get:"get"+n,set:"set"+n}},{});return new function(){function t(t,e,n){var i=new o,r=t.getTranslation();if(e){t=t._shiftless();var s=t._inverseTransform(r);i[n?"cx":"x"]=s.x,i[n?"cy":"y"]=s.y,r=null}if(!t.isIdentity()){var a=t.decompose();if(a){var u=[],l=a.rotation,h=a.scaling,c=a.skewing;r&&!r.isZero()&&u.push("translate("+x.point(r)+")"),l&&u.push("rotate("+x.number(l)+")"),f.isZero(h.x-1)&&f.isZero(h.y-1)||u.push("scale("+x.point(h)+")"),c&&c.x&&u.push("skewX("+x.number(c.x)+")"),c&&c.y&&u.push("skewY("+x.number(c.y)+")"),i.transform=u.join(" ")}else i.transform="matrix("+t.getValues().join(",")+")"}return i}function e(e,n){for(var i=t(e._matrix),r=e._children,s=st.create("g",i,x),a=0,o=r.length;a<o;a++){var u=r[a],l=b(u,n);if(l)if(u.isClipMask()){var h=st.create("clipPath");h.appendChild(l),v(u,h,"clip"),st.set(s,{"clip-path":"url(#"+h.id+")"})}else s.appendChild(l)}return s}function i(e,n){var i=t(e._matrix,!0),r=e.getSize(),s=e.getImage();return i.x-=r.width/2,i.y-=r.height/2,i.width=r.width,i.height=r.height,i.href=n.embedImages===!1&&s&&s.src||e.toDataURL(),st.create("image",i,x)}function r(e,n){var i=n.matchShapes;if(i){var r=e.toShape(!1);if(r)return s(r,n)}var a,o=e._segments,u=o.length,l=t(e._matrix);if(i&&u>=2&&!e.hasHandles())if(u>2){a=e._closed?"polygon":"polyline";for(var h=[],c=0;c<u;c++)h.push(x.point(o[c]._point));l.points=h.join(" ")}else{a="line";var f=o[0]._point,d=o[1]._point;l.set({x1:f.x,y1:f.y,x2:d.x,y2:d.y})}else a="path",l.d=e.getPathData(null,n.precision);return st.create(a,l,x)}function s(e){var n=e._type,i=e._radius,r=t(e._matrix,!0,"rectangle"!==n);if("rectangle"===n){n="rect";var s=e._size,a=s.width,o=s.height;r.x-=a/2,r.y-=o/2,r.width=a,r.height=o,i.isZero()&&(i=null)}return i&&("circle"===n?r.r=i:(r.rx=i.width,r.ry=i.height)),st.create(n,r,x)}function a(e,n){var i=t(e._matrix),r=e.getPathData(null,n.precision);return r&&(i.d=r),st.create("path",i,x)}function u(e,n){var i=t(e._matrix,!0),r=e._definition,s=g(r,"symbol"),a=r._item,o=a.getBounds();return s||(s=st.create("symbol",{viewBox:x.rectangle(o)}),s.appendChild(b(a,n)),v(r,s,"symbol")),i.href="#"+s.id,i.x+=o.x,i.y+=o.y,i.width=o.width,i.height=o.height,i.overflow="visible",st.create("use",i,x)}function l(t){var e=g(t,"color");if(!e){var n,i=t.getGradient(),r=i._radial,s=t.getOrigin(),a=t.getDestination();if(r){n={cx:s.x,cy:s.y,r:s.getDistance(a)};var o=t.getHighlight();o&&(n.fx=o.x,n.fy=o.y)}else n={x1:s.x,y1:s.y,x2:a.x,y2:a.y};n.gradientUnits="userSpaceOnUse",e=st.create((r?"radial":"linear")+"Gradient",n,x);for(var u=i._stops,l=0,h=u.length;l<h;l++){var c=u[l],f=c._color,d=f.getAlpha(),_=c._offset;n={offset:null==_?l/(h-1):_},f&&(n["stop-color"]=f.toCSS(!0)),d<1&&(n["stop-opacity"]=d),e.appendChild(st.create("stop",n,x))}v(t,e,"color")}return"url(#"+e.id+")"}function h(e){var n=st.create("text",t(e._matrix,!0),x);return n.textContent=e._content,n}function _(t,e,n){var i={},r=!n&&t.getParent(),s=[];return null!=t._name&&(i.id=t._name),o.each(at,function(e){var n=e.get,a=e.type,u=t[n]();if(e.exportFilter?e.exportFilter(t,u):!r||!o.equals(r[n](),u)){if("color"===a&&null!=u){var h=u.getAlpha();h<1&&(i[e.attribute+"-opacity"]=h)}"style"===a?s.push(e.attribute+": "+u):i[e.attribute]=null==u?"none":"color"===a?u.gradient?l(u,t):u.toCSS(!0):"array"===a?u.join(","):"lookup"===a?e.toSVG[u]:u}}),s.length&&(i.style=s.join(";")),1===i.opacity&&delete i.opacity,t._visible||(i.visibility="hidden"),st.set(e,i,x)}function g(t,e){return A||(A={ids:{},svgs:{}}),t&&A.svgs[e+"-"+(t._id||t.__id||(t.__id=d.get("svg")))]}function v(t,e,n){A||g();var i=A.ids[n]=(A.ids[n]||0)+1;e.id=n+"-"+i,A.svgs[n+"-"+(t._id||t.__id)]=e}function p(t,e){var i=t,r=null;if(A){i="svg"===t.nodeName.toLowerCase()&&t;for(var s in A.svgs)r||(i||(i=st.create("svg"),i.appendChild(t)),r=i.insertBefore(st.create("defs"),i.firstChild)),r.appendChild(A.svgs[s]);A=null}return e.asString?(new n.XMLSerializer).serializeToString(i):i}function b(t,e,n){var i=P[t._class],r=i&&i(t,e);if(r){var s=e.onExport;s&&(r=s(t,r,e)||r);var a=JSON.stringify(t._data);a&&"{}"!==a&&"null"!==a&&r.setAttribute("data-paper-data",a)}return r&&_(t,r,n)}function S(t){return t||(t={}),x=new c(t.precision),t}var x,A,P={Group:e,Layer:e,Raster:i,Path:r,Shape:s,CompoundPath:a,SymbolItem:u,PointText:h};w.inject({exportSVG:function(t){return t=S(t),p(b(this,t,!0),t)}}),y.inject({exportSVG:function(e){e=S(e);var n=this._children,i=this.getView(),r=o.pick(e.bounds,"view"),s=e.matrix||"view"===r&&i._matrix,a=s&&T.read([s]),u="view"===r?new m([0,0],i.getViewSize()):"content"===r?w._getBounds(n,a,{stroke:!0}):m.read([r],0,{readNull:!0}),l={version:"1.1",xmlns:st.svg,"xmlns:xlink":st.xlink};u&&(l.width=u.width,l.height=u.height,(u.x||u.y)&&(l.viewBox=x.rectangle(u)));var h=st.create("svg",l,x),c=h;a&&!a.isIdentity()&&(c=h.appendChild(st.create("g",t(a),x)));for(var f=0,d=n.length;f<d;f++)c.appendChild(b(n[f],e,!0));return p(h,e)}})},new function(){function t(t,e,n,i,r){var s=st.get(t,e),a=null==s?i?null:n?"":0:n?s:parseFloat(s);return/%\s*$/.test(s)?a/100*(r?1:B[/x|^width/.test(e)?"width":"height"]):a}function e(e,n,i,r,s){return n=t(e,n||"x",!1,r,s),i=t(e,i||"y",!1,r,s),!r||null!=n&&null!=i?new _(n,i):null}function u(e,n,i,r,s){return n=t(e,n||"width",!1,r,s),i=t(e,i||"height",!1,r,s),!r||null!=n&&null!=i?new v(n,i):null}function l(t,e,n){return"none"===t?null:"number"===e?parseFloat(t):"array"===e?t?t.split(/[\s,]+/g).map(parseFloat):[]:"color"===e?A(t)||t:"lookup"===e?n[t]:t}function h(t,e,n,i){var r=t.childNodes,s="clippath"===e,a="defs"===e,o=new x,u=o._project,l=u._currentStyle,h=[];if(s||a||(o=S(o,t,i),u._currentStyle=o._style.clone()),i)for(var c=t.querySelectorAll("defs"),f=0,d=c.length;f<d;f++)M(c[f],n,!1);for(var f=0,d=r.length;f<d;f++){var _,g=r[f];1!==g.nodeType||/^defs$/i.test(g.nodeName)||!(_=M(g,n,!1))||_ instanceof I||h.push(_)}return o.addChildren(h),s&&(o=S(o.reduce(),t,i)),u._currentStyle=l,(s||a)&&(o.remove(),o=null),o}function c(t,e){for(var n=t.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),i=[],r=0,s=n.length;r<s;r+=2)i.push(new _(parseFloat(n[r]),parseFloat(n[r+1])));var a=new D(i);return"polygon"===e&&a.closePath(),a}function f(t){return k.create(t.getAttribute("d"))}function d(n,i){var r,s=(t(n,"href",!0)||"").substring(1),a="radialgradient"===i;if(s)r=E[s].getGradient(),r._radial^a&&(r=r.clone(),r._radial=a);else{for(var o=n.childNodes,u=[],l=0,h=o.length;l<h;l++){var c=o[l];1===c.nodeType&&u.push(S(new W,c))}r=new j(u,a)}var f,d,_,g="userSpaceOnUse"!==t(n,"gradientUnits",!0);a?(f=e(n,"cx","cy",!1,g),d=f.add(t(n,"r",!1,!1,g),0),_=e(n,"fx","fy",!0,g)):(f=e(n,"x1","y1",!1,g),d=e(n,"x2","y2",!1,g));var v=S(new F(r,f,d,_),n);return v._scaleToBounds=g,null}function g(t,e,n,i){if(t.transform){for(var r=(i.getAttribute(n)||"").split(/\)\s*/g),s=new T,a=0,o=r.length;a<o;a++){var u=r[a];if(!u)break;for(var l=u.split(/\(\s*/),h=l[0],c=l[1].split(/[\s,]+/g),f=0,d=c.length;f<d;f++)c[f]=parseFloat(c[f]);switch(h){case"matrix":s.append(new T(c[0],c[1],c[2],c[3],c[4],c[5]));break;case"rotate":s.rotate(c[0],c[1],c[2]);break;case"translate":s.translate(c[0],c[1]);break;case"scale":s.scale(c);break;case"skewX":s.skew(c[0],0);break;case"skewY":s.skew(0,c[0])}}t.transform(s)}}function p(t,e,n){var i="fill-opacity"===n?"getFillColor":"getStrokeColor",r=t[i]&&t[i]();r&&r.setAlpha(parseFloat(e))}function b(t,e,n){var i=t.attributes[e],s=i&&i.value;if(!s){var a=o.camelize(e);s=t.style[a],s||n.node[a]===n.parent[a]||(s=n.node[a])}return s?"none"===s?null:s:r}function S(t,e,n){var i=e.parentNode,s={node:X.getStyles(e)||{},parent:!n&&!/^defs$/i.test(i.tagName)&&X.getStyles(i)||{}};return o.each(O,function(n,i){var a=b(e,i,s);t=a!==r&&n(t,a,i,e,s)||t}),t}function A(t){var e=t&&t.match(/\((?:["'#]*)([^"')]+)/),n=e&&e[1],i=n&&E[s?n.replace(s.location.href.split("#")[0]+"#",""):n];return i&&i._scaleToBounds&&(i=i.clone(),i._scaleToBounds=!0),i}function M(t,e,n){var r,s,l,h=t.nodeName.toLowerCase(),c="#document"!==h,f=a.body;n&&c&&(B=u(t,null,null,!0)||i.getView().getSize(),r=st.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),s=t.parentNode,l=t.nextSibling,r.appendChild(t),f.appendChild(r));var d=i.settings,_=d.applyMatrix,g=d.insertItems;d.applyMatrix=!1,d.insertItems=!1;var v=H[h],p=v&&v(t,h,e,n)||null;if(d.insertItems=g,d.applyMatrix=_,p){!c||p instanceof x||(p=S(p,t,n));var m=e.onImport,b=c&&t.getAttribute("data-paper-data");m&&(p=m(t,p,e)||p),e.expandShapes&&p instanceof P&&(p.remove(),p=p.toPath()),b&&(p._data=JSON.parse(b))}return r&&(f.removeChild(r),s&&(l?s.insertBefore(t,l):s.appendChild(t))),n&&(E={},p&&o.pick(e.applyMatrix,_)&&p.matrix.apply(!0,!0)),p}function G(t,e,s){function o(a){try{var o="object"==typeof a?a:(new n.DOMParser).parseFromString(a,"image/svg+xml");if(!o.nodeName)throw o=null,new Error("Unsupported SVG source: "+t);i=l,h=M(o,e,!0),e&&e.insert===!1||s._insertItem(r,h);var c=e.onLoad;c&&c(h,a)}catch(f){u(f)}}function u(t,n){var i=e.onError;if(!i)throw new Error(t);i(t,n)}if(!t)return null;e="function"==typeof e?{onLoad:e}:e||{};var l=i,h=null;if("string"!=typeof t||/^.*</.test(t)){if("undefined"!=typeof File&&t instanceof File){var c=new FileReader;return c.onload=function(){o(c.result)},c.onerror=function(){u(c.error)},c.readAsText(t)}o(t)}else{var f=a.getElementById(t);f?o(f):nt.request({url:t,async:!0,onLoad:o,onError:u})}return h}var B,E={},H={"#document":function(t,e,n,i){for(var r=t.childNodes,s=0,a=r.length;s<a;s++){var o=r[s];if(1===o.nodeType)return M(o,n,i)}},g:h,svg:h,clippath:h,polygon:c,polyline:c,path:f,lineargradient:d,radialgradient:d,image:function(n){var i=new C(t(n,"href",!0));return i.on("load",function(){var t=u(n);this.setSize(t);var i=this._matrix._transformPoint(e(n).add(t.divide(2)));this.translate(i)}),i},symbol:function(t,e,n,i){return new I(h(t,e,n,i),(!0))},defs:h,use:function(n){var i=(t(n,"href",!0)||"").substring(1),r=E[i],s=e(n);return r?r instanceof I?r.place(s):r.clone().translate(s):null},circle:function(n){return new P.Circle(e(n,"cx","cy"),t(n,"r"))},ellipse:function(t){return new P.Ellipse({center:e(t,"cx","cy"),radius:u(t,"rx","ry")})},rect:function(t){return new P.Rectangle(new m(e(t),u(t)),u(t,"rx","ry"))},line:function(t){return new D.Line(e(t,"x1","y1"),e(t,"x2","y2"))},text:function(t){var n=new z(e(t).add(e(t,"dx","dy")));return n.setContent(t.textContent.trim()||""),n}},O=o.set(o.each(at,function(t){this[t.attribute]=function(e,n){if(e[t.set]&&(e[t.set](l(n,t.type,t.fromSVG)),"color"===t.type)){var i=e[t.get]();if(i){if(i._scaleToBounds){var r=e.getBounds();i.transform((new T).translate(r.getPoint()).scale(r.getSize()))}e instanceof P&&i.transform((new T).translate(e.getPosition(!0).negate()))}}}},{}),{id:function(t,e){E[e]=t,t.setName&&t.setName(e)},"clip-path":function(t,e){var n=A(e);if(n){if(n=n.clone(),n.setClipMask(!0),!(t instanceof x))return new x(n,t);t.insertChild(0,n)}},gradientTransform:g,transform:g,"fill-opacity":p,"stroke-opacity":p,visibility:function(t,e){t.setVisible&&t.setVisible("visible"===e)},display:function(t,e){t.setVisible&&t.setVisible(null!==e)},"stop-color":function(t,e){t.setColor&&t.setColor(e)},"stop-opacity":function(t,e){t._color&&t._color.setAlpha(parseFloat(e))},offset:function(t,e){if(t.setOffset){var n=e.match(/(.*)%$/);t.setOffset(n?n[1]/100:parseFloat(e))}},viewBox:function(t,e,n,i,r){var s,a,o=new m(l(e,"array")),h=u(i,null,null,!0);if(t instanceof x){var c=h?h.divide(o.getSize()):1,a=(new T).scale(c).translate(o.getPoint().negate());s=t}else t instanceof I&&(h&&o.setSize(h),s=t._item);if(s){if("visible"!==b(i,"overflow",r)){var f=new P.Rectangle(o);f.setClipMask(!0),s.addChild(f)}a&&s.transform(a)}}});w.inject({importSVG:function(t,e){return G(t,e,this)}}),y.inject({importSVG:function(t,e){return this.activate(),G(t,e,this)}})},o.exports.PaperScript=function(){function t(t,e,n){var i=T[e];if(t&&t[i]){var r=t[i](n);return"!="===e?!r:r}switch(e){case"+":return t+n;case"-":return t-n;case"*":return t*n;case"/":return t/n;case"%":return t%n;case"==":return t==n;case"!=":return t!=n}}function r(t,e){var n=S[t];if(n&&e&&e[n])return e[n]();switch(t){case"+":return+e;case"-":return-e}}function u(t,e){return b.acorn.parse(t,e)}function h(t,e){function r(t){for(var e=0,n=_.length;e<n;e++){var i=_[e];if(i[0]>=t)break;t+=i[1]}return t}function o(e){return t.substring(r(e.range[0]),r(e.range[1]))}function l(e,n){return t.substring(r(e.range[1]),r(n.range[0]))}function h(e,n){for(var i=r(e.range[0]),s=r(e.range[1]),a=0,o=_.length-1;o>=0;o--)if(i>_[o][0]){a=o+1;break}_.splice(a,0,[i,n.length-s+i]),t=t.substring(0,i)+n+t.substring(s)}function c(t,e){if(t){for(var n in t)if("range"!==n&&"loc"!==n){var i=t[n];if(Array.isArray(i))for(var r=0,s=i.length;r<s;r++)c(i[r],t);else i&&"object"==typeof i&&c(i,t)}switch(t.type){case"UnaryExpression":if(t.operator in S&&"Literal"!==t.argument.type){var a=o(t.argument);h(t,'$__("'+t.operator+'", '+a+")")}break;case"BinaryExpression":if(t.operator in T&&"Literal"!==t.left.type){var u=o(t.left),f=o(t.right),d=l(t.left,t.right),_=t.operator;h(t,"__$__("+u+","+d.replace(new RegExp("\\"+_),'"'+_+'"')+", "+f+")")}break;case"UpdateExpression":case"AssignmentExpression":var g=e&&e.type;if(!("ForStatement"===g||"BinaryExpression"===g&&/^[=!<>]/.test(e.operator)||"MemberExpression"===g&&e.computed))if("UpdateExpression"===t.type){var a=o(t.argument),v="__$__("+a+', "'+t.operator[0]+'", 1)',p=a+" = "+v;t.prefix||"AssignmentExpression"!==g&&"VariableDeclarator"!==g||(o(e.left||e.id)===a&&(p=v),p=a+"; "+p),h(t,p)}else if(/^.=$/.test(t.operator)&&"Literal"!==t.left.type){var u=o(t.left),f=o(t.right),v=u+" = __$__("+u+', "'+t.operator[0]+'", '+f+")";h(t,/^\(.*\)$/.test(o(t))?"("+v+")":v)}}}}function f(t){var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(t=(Math.abs(t)<<1)+(t<0?1:0);t||!e;){var i=31&t;t>>=5,t&&(i|=32),e+=n[i]}return e}if(!t)return"";e=e||{};var d,_=[],g=e.url||"",v=i.agent,p=v.versionNumber,m=!1,b=e.sourceMaps,y=e.source||t,w=/\r\n|\n|\r/gm,x=e.offset||0;if(b&&(v.chrome&&p>=30||v.webkit&&p>=537.76||v.firefox&&p>=23||v.node)){if(v.node)x-=2;else if(s&&g&&!s.location.href.indexOf(g)){var A=a.getElementsByTagName("html")[0].innerHTML;x=A.substr(0,A.indexOf(t)+1).match(w).length+1}m=x>0&&!(v.chrome&&p>=36||v.safari&&p>=600||v.firefox&&p>=40||v.node);var P=["AA"+f(m?0:x)+"A"];P.length=(t.match(w)||[]).length+1+(m?x:0),d={version:3,file:g,names:[],mappings:P.join(";AACA"),sourceRoot:"",sources:[g],sourcesContent:[y]}}return c(u(t,{ranges:!0})),d&&(m&&(t=new Array(x+1).join("\n")+t),/^(inline|both)$/.test(b)&&(t+="\n//# sourceMappingURL=data:application/json;base64,"+n.btoa(unescape(encodeURIComponent(JSON.stringify(d))))),t+="\n//# sourceURL="+(g||"paperscript")),{url:g,source:y,code:t,map:d}}function c(e,n,s){function u(t,n){for(var i in t)!n&&/^_/.test(i)||!new RegExp("([\\b\\s\\W]|^)"+i.replace(/\$/g,"\\$")+"\\b").test(e)||(v.push(i),p.push(t[i]))}i=n;var l,c=n.getView(),f=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(e)&&!/\bnew\s+Tool\b/.test(e)?new et:null,d=f?f._events:[],g=["onFrame","onResize"].concat(d),v=[],p=[],m="object"==typeof e?e:h(e,s);e=m.code,u({__$__:t,$__:r,paper:n,view:c,tool:f},!0),u(n),g=o.each(g,function(t){new RegExp("\\s+"+t+"\\b").test(e)&&(v.push(t),this.push(t+": "+t))},[]).join(", "),g&&(e+="\nreturn { "+g+" };");var b=i.agent;if(a&&(b.chrome||b.firefox&&b.versionNumber<40)){var T=a.createElement("script"),S=a.head||a.getElementsByTagName("head")[0];b.firefox&&(e="\n"+e),T.appendChild(a.createTextNode("paper._execute = function("+v+") {"+e+"\n}")),S.appendChild(T),l=i._execute,delete i._execute,S.removeChild(T)}else l=Function(v,e);var y=l.apply(n,p)||{};return o.each(d,function(t){var e=y[t];e&&(f[t]=e)}),c&&(y.onResize&&c.setOnResize(y.onResize),c.emit("resize",{size:c.size,delta:new _}),y.onFrame&&c.setOnFrame(y.onFrame),c.requestUpdate()),m}function f(t){if(/^text\/(?:x-|)paperscript$/.test(t.type)&&"true"!==l.getAttribute(t,"ignore")){var e=l.getAttribute(t,"canvas"),n=a.getElementById(e),i=t.src||t.getAttribute("data-src"),r=l.hasAttribute(t,"async"),s="data-paper-scope";if(!n)throw new Error('Unable to find canvas with id "'+e+'"');var o=l.get(n.getAttribute(s))||(new l).setup(n);return n.setAttribute(s,o._id),i?nt.request({url:i,async:r,mimeType:"text/plain",onLoad:function(t){c(t,o,i)}}):c(t.innerHTML,o,t.baseURI),t.setAttribute("data-paper-ignore","true"),o}}function d(){o.each(a&&a.getElementsByTagName("script"),f)}function g(t){return t?f(t):d()}var p,m,b=this;!function(t,n){return"object"==typeof p&&"object"==typeof e?n(p):"function"==typeof m&&m.amd?m(["exports"],n):void n(t.acorn||(t.acorn={}))}(this,function(t){"use strict";function e(t){ct=t||{};for(var e in gt)Object.prototype.hasOwnProperty.call(ct,e)||(ct[e]=gt[e]);_t=ct.sourceFile||null}function n(t,e){var n=vt(ft,t);e+=" ("+n.line+":"+n.column+")";var i=new SyntaxError(e);throw i.pos=t,i.loc=n,i.raisedAt=pt,i}function i(t){function e(t){if(1==t.length)return n+="return str === "+JSON.stringify(t[0])+";";n+="switch(str){";for(var e=0;e<t.length;++e)n+="case "+JSON.stringify(t[e])+":";n+="return true}return false;"}t=t.split(" ");var n="",i=[];t:for(var r=0;r<t.length;++r){for(var s=0;s<i.length;++s)if(i[s][0].length==t[r].length){i[s].push(t[r]);continue t}i.push([t[r]])}if(i.length>3){i.sort(function(t,e){return e.length-t.length}),n+="switch(str.length){";for(var r=0;r<i.length;++r){var a=i[r];n+="case "+a[0].length+":",e(a)}n+="}"}else e(t);return new Function("str",n)}function r(){this.line=At,this.column=pt-Pt}function s(){At=1,pt=Pt=0,xt=!0,l()}function a(t,e){bt=pt,ct.locations&&(St=new r),yt=t,l(),wt=e,xt=t.beforeExpr}function o(){var t=ct.onComment&&ct.locations&&new r,e=pt,i=ft.indexOf("*/",pt+=2);if(i===-1&&n(pt-2,"Unterminated comment"),pt=i+2,ct.locations){Qe.lastIndex=e;for(var s;(s=Qe.exec(ft))&&s.index<pt;)++At,Pt=s.index+s[0].length}ct.onComment&&ct.onComment(!0,ft.slice(e+2,i),e,pt,t,ct.locations&&new r)}function u(){for(var t=pt,e=ct.onComment&&ct.locations&&new r,n=ft.charCodeAt(pt+=2);pt<dt&&10!==n&&13!==n&&8232!==n&&8233!==n;)++pt,n=ft.charCodeAt(pt);ct.onComment&&ct.onComment(!1,ft.slice(t+2,pt),t,pt,e,ct.locations&&new r)}function l(){for(;pt<dt;){var t=ft.charCodeAt(pt);if(32===t)++pt;else if(13===t){++pt;var e=ft.charCodeAt(pt);10===e&&++pt,ct.locations&&(++At,Pt=pt)}else if(10===t||8232===t||8233===t)++pt,ct.locations&&(++At,Pt=pt);else if(t>8&&t<14)++pt;else if(47===t){var e=ft.charCodeAt(pt+1);if(42===e)o();else{if(47!==e)break;u()}}else if(160===t)++pt;else{if(!(t>=5760&&We.test(String.fromCharCode(t))))break;++pt}}}function h(){var t=ft.charCodeAt(pt+1);return t>=48&&t<=57?x(!0):(++pt,a(Te))}function c(){var t=ft.charCodeAt(pt+1);return xt?(++pt,S()):61===t?T(xe,2):T(ye,1)}function f(){var t=ft.charCodeAt(pt+1);return 61===t?T(xe,2):T(De,1)}function d(t){var e=ft.charCodeAt(pt+1);return e===t?T(124===t?Ce:Me,2):61===e?T(xe,2):T(124===t?Ie:Be,1)}function _(){var t=ft.charCodeAt(pt+1);return 61===t?T(xe,2):T(Ge,1)}function g(t){var e=ft.charCodeAt(pt+1);return e===t?45==e&&62==ft.charCodeAt(pt+2)&&Ze.test(ft.slice(Mt,pt))?(pt+=3,u(),l(),b()):T(Ae,2):61===e?T(xe,2):T(ke,1)}function v(t){var e=ft.charCodeAt(pt+1),n=1;return e===t?(n=62===t&&62===ft.charCodeAt(pt+2)?3:2,61===ft.charCodeAt(pt+n)?T(xe,n+1):T(Oe,n)):33==e&&60==t&&45==ft.charCodeAt(pt+2)&&45==ft.charCodeAt(pt+3)?(pt+=4,u(),l(),b()):(61===e&&(n=61===ft.charCodeAt(pt+2)?3:2),T(He,n))}function p(t){var e=ft.charCodeAt(pt+1);return 61===e?T(Ee,61===ft.charCodeAt(pt+2)?3:2):T(61===t?we:Pe,1)}function m(t){switch(t){case 46:return h();case 40:return++pt,a(ge);case 41:return++pt,a(ve);case 59:return++pt,a(me);case 44:return++pt,a(pe);case 91:return++pt,a(ce);case 93:return++pt,a(fe);case 123:return++pt,a(de);case 125:return++pt,a(_e);case 58:return++pt,a(be);case 63:return++pt,a(Se);case 48:var e=ft.charCodeAt(pt+1);if(120===e||88===e)return w();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return x(!1);case 34:case 39:return A(t);case 47:return c(t);case 37:case 42:return f();case 124:case 38:return d(t);case 94:return _();case 43:case 45:return g(t);case 60:case 62:return v(t);case 61:case 33:return p(t);case 126:return T(Pe,1)}return!1}function b(t){if(t?pt=mt+1:mt=pt,ct.locations&&(Tt=new r),t)return S();if(pt>=dt)return a(Nt);
var e=ft.charCodeAt(pt);if($e(e)||92===e)return M();var i=m(e);if(i===!1){var s=String.fromCharCode(e);if("\\"===s||qe.test(s))return M();n(pt,"Unexpected character '"+s+"'")}return i}function T(t,e){var n=ft.slice(pt,pt+e);pt+=e,a(t,n)}function S(){for(var t,e,i="",r=pt;;){pt>=dt&&n(r,"Unterminated regular expression");var s=ft.charAt(pt);if(Ze.test(s)&&n(r,"Unterminated regular expression"),t)t=!1;else{if("["===s)e=!0;else if("]"===s&&e)e=!1;else if("/"===s&&!e)break;t="\\"===s}++pt}var i=ft.slice(r,pt);++pt;var o=C();o&&!/^[gmsiy]*$/.test(o)&&n(r,"Invalid regexp flag");try{var u=new RegExp(i,o)}catch(l){l instanceof SyntaxError&&n(r,l.message),n(l)}return a(kt,u)}function y(t,e){for(var n=pt,i=0,r=0,s=null==e?1/0:e;r<s;++r){var a,o=ft.charCodeAt(pt);if(a=o>=97?o-97+10:o>=65?o-65+10:o>=48&&o<=57?o-48:1/0,a>=t)break;++pt,i=i*t+a}return pt===n||null!=e&&pt-n!==e?null:i}function w(){pt+=2;var t=y(16);return null==t&&n(mt+2,"Expected hexadecimal number"),$e(ft.charCodeAt(pt))&&n(pt,"Identifier directly after number"),a(Ot,t)}function x(t){var e=pt,i=!1,r=48===ft.charCodeAt(pt);t||null!==y(10)||n(e,"Invalid number"),46===ft.charCodeAt(pt)&&(++pt,y(10),i=!0);var s=ft.charCodeAt(pt);69!==s&&101!==s||(s=ft.charCodeAt(++pt),43!==s&&45!==s||++pt,null===y(10)&&n(e,"Invalid number"),i=!0),$e(ft.charCodeAt(pt))&&n(pt,"Identifier directly after number");var o,u=ft.slice(e,pt);return i?o=parseFloat(u):r&&1!==u.length?/[89]/.test(u)||Et?n(e,"Invalid number"):o=parseInt(u,8):o=parseInt(u,10),a(Ot,o)}function A(t){pt++;for(var e="";;){pt>=dt&&n(mt,"Unterminated string constant");var i=ft.charCodeAt(pt);if(i===t)return++pt,a(Dt,e);if(92===i){i=ft.charCodeAt(++pt);var r=/^[0-7]+/.exec(ft.slice(pt,pt+3));for(r&&(r=r[0]);r&&parseInt(r,8)>255;)r=r.slice(0,-1);if("0"===r&&(r=null),++pt,r)Et&&n(pt-2,"Octal literal in strict mode"),e+=String.fromCharCode(parseInt(r,8)),pt+=r.length-1;else switch(i){case 110:e+="\n";break;case 114:e+="\r";break;case 120:e+=String.fromCharCode(P(2));break;case 117:e+=String.fromCharCode(P(4));break;case 85:e+=String.fromCharCode(P(8));break;case 116:e+="\t";break;case 98:e+="\b";break;case 118:e+="\x0B";break;case 102:e+="\f";break;case 48:e+="\0";break;case 13:10===ft.charCodeAt(pt)&&++pt;case 10:ct.locations&&(Pt=pt,++At);break;default:e+=String.fromCharCode(i)}}else 13!==i&&10!==i&&8232!==i&&8233!==i||n(mt,"Unterminated string constant"),e+=String.fromCharCode(i),++pt}}function P(t){var e=y(16,t);return null===e&&n(mt,"Bad character escape sequence"),e}function C(){Ne=!1;for(var t,e=!0,i=pt;;){var r=ft.charCodeAt(pt);if(Je(r))Ne&&(t+=ft.charAt(pt)),++pt;else{if(92!==r)break;Ne||(t=ft.slice(i,pt)),Ne=!0,117!=ft.charCodeAt(++pt)&&n(pt,"Expecting Unicode escape sequence \\uXXXX"),++pt;var s=P(4),a=String.fromCharCode(s);a||n(pt-1,"Invalid Unicode escape"),(e?$e(s):Je(s))||n(pt-4,"Invalid Unicode escape"),t+=a}e=!1}return Ne?t:ft.slice(i,pt)}function M(){var t=C(),e=Lt;return!Ne&&je(t)&&(e=he[t]),a(e,t)}function I(){Ct=mt,Mt=bt,It=St,b()}function G(t){if(Et=t,pt=mt,ct.locations)for(;pt<Pt;)Pt=ft.lastIndexOf("\n",Pt-2)+1,--At;l(),b()}function B(){this.type=null,this.start=mt,this.end=null}function E(){this.start=Tt,this.end=null,null!==_t&&(this.source=_t)}function H(){var t=new B;return ct.locations&&(t.loc=new E),ct.directSourceFile&&(t.sourceFile=ct.directSourceFile),ct.ranges&&(t.range=[mt,0]),t}function O(t){var e=new B;return e.start=t.start,ct.locations&&(e.loc=new E,e.loc.start=t.loc.start),ct.ranges&&(e.range=[t.range[0],0]),e}function k(t,e){return t.type=e,t.end=Mt,ct.locations&&(t.loc.end=It),ct.ranges&&(t.range[1]=Mt),t}function D(t){return ct.ecmaVersion>=5&&"ExpressionStatement"===t.type&&"Literal"===t.expression.type&&"use strict"===t.expression.value}function L(t){if(yt===t)return I(),!0}function N(){return!ct.strictSemicolons&&(yt===Nt||yt===_e||Ze.test(ft.slice(Mt,mt)))}function R(){L(me)||N()||z()}function V(t){yt===t?I():z()}function z(){n(mt,"Unexpected token")}function F(t){"Identifier"!==t.type&&"MemberExpression"!==t.type&&n(t.start,"Assigning to rvalue"),Et&&"Identifier"===t.type&&Fe(t.name)&&n(t.start,"Assigning to "+t.name+" in strict mode")}function j(t){Ct=Mt=pt,ct.locations&&(It=new r),Gt=Et=null,Bt=[],b();var e=t||H(),n=!0;for(t||(e.body=[]);yt!==Nt;){var i=W();e.body.push(i),n&&D(i)&&G(!0),n=!1}return k(e,"Program")}function W(){(yt===ye||yt===xe&&"/="==wt)&&b(!0);var t=yt,e=H();switch(t){case Rt:case Ft:I();var i=t===Rt;L(me)||N()?e.label=null:yt!==Lt?z():(e.label=ht(),R());for(var r=0;r<Bt.length;++r){var s=Bt[r];if(null==e.label||s.name===e.label.name){if(null!=s.kind&&(i||"loop"===s.kind))break;if(e.label&&i)break}}return r===Bt.length&&n(e.start,"Unsyntactic "+t.keyword),k(e,i?"BreakStatement":"ContinueStatement");case jt:return I(),R(),k(e,"DebuggerStatement");case Ut:return I(),Bt.push(Ye),e.body=W(),Bt.pop(),V(ne),e.test=U(),R(),k(e,"DoWhileStatement");case Kt:if(I(),Bt.push(Ye),V(ge),yt===me)return q(e,null);if(yt===ee){var a=H();return I(),Z(a,!0),k(a,"VariableDeclaration"),1===a.declarations.length&&L(le)?K(e,a):q(e,a)}var a=Q(!1,!0);return L(le)?(F(a),K(e,a)):q(e,a);case Zt:return I(),ut(e,!0);case Qt:return I(),e.test=U(),e.consequent=W(),e.alternate=L(Xt)?W():null,k(e,"IfStatement");case $t:return Gt||ct.allowReturnOutsideFunction||n(mt,"'return' outside of function"),I(),L(me)||N()?e.argument=null:(e.argument=Q(),R()),k(e,"ReturnStatement");case Jt:I(),e.discriminant=U(),e.cases=[],V(de),Bt.push(tn);for(var o,u;yt!=_e;)if(yt===Vt||yt===Wt){var l=yt===Vt;o&&k(o,"SwitchCase"),e.cases.push(o=H()),o.consequent=[],I(),l?o.test=Q():(u&&n(Ct,"Multiple default clauses"),u=!0,o.test=null),V(be)}else o||z(),o.consequent.push(W());return o&&k(o,"SwitchCase"),I(),Bt.pop(),k(e,"SwitchStatement");case Yt:return I(),Ze.test(ft.slice(Mt,mt))&&n(Mt,"Illegal newline after throw"),e.argument=Q(),R(),k(e,"ThrowStatement");case te:if(I(),e.block=X(),e.handler=null,yt===zt){var h=H();I(),V(ge),h.param=ht(),Et&&Fe(h.param.name)&&n(h.param.start,"Binding "+h.param.name+" in strict mode"),V(ve),h.guard=null,h.body=X(),e.handler=k(h,"CatchClause")}return e.guardedHandlers=Ht,e.finalizer=L(qt)?X():null,e.handler||e.finalizer||n(e.start,"Missing catch or finally clause"),k(e,"TryStatement");case ee:return I(),Z(e),R(),k(e,"VariableDeclaration");case ne:return I(),e.test=U(),Bt.push(Ye),e.body=W(),Bt.pop(),k(e,"WhileStatement");case ie:return Et&&n(mt,"'with' in strict mode"),I(),e.object=U(),e.body=W(),k(e,"WithStatement");case de:return X();case me:return I(),k(e,"EmptyStatement");default:var c=wt,f=Q();if(t===Lt&&"Identifier"===f.type&&L(be)){for(var r=0;r<Bt.length;++r)Bt[r].name===c&&n(f.start,"Label '"+c+"' is already declared");var d=yt.isLoop?"loop":yt===Jt?"switch":null;return Bt.push({name:c,kind:d}),e.body=W(),Bt.pop(),e.label=f,k(e,"LabeledStatement")}return e.expression=f,R(),k(e,"ExpressionStatement")}}function U(){V(ge);var t=Q();return V(ve),t}function X(t){var e,n=H(),i=!0,r=!1;for(n.body=[],V(de);!L(_e);){var s=W();n.body.push(s),i&&t&&D(s)&&(e=r,G(r=!0)),i=!1}return r&&!e&&G(!1),k(n,"BlockStatement")}function q(t,e){return t.init=e,V(me),t.test=yt===me?null:Q(),V(me),t.update=yt===ve?null:Q(),V(ve),t.body=W(),Bt.pop(),k(t,"ForStatement")}function K(t,e){return t.left=e,t.right=Q(),V(ve),t.body=W(),Bt.pop(),k(t,"ForInStatement")}function Z(t,e){for(t.declarations=[],t.kind="var";;){var i=H();if(i.id=ht(),Et&&Fe(i.id.name)&&n(i.id.start,"Binding "+i.id.name+" in strict mode"),i.init=L(we)?Q(!0,e):null,t.declarations.push(k(i,"VariableDeclarator")),!L(pe))break}return t}function Q(t,e){var n=$(e);if(!t&&yt===pe){var i=O(n);for(i.expressions=[n];L(pe);)i.expressions.push($(e));return k(i,"SequenceExpression")}return n}function $(t){var e=J(t);if(yt.isAssign){var n=O(e);return n.operator=wt,n.left=e,I(),n.right=$(t),F(e),k(n,"AssignmentExpression")}return e}function J(t){var e=Y(t);if(L(Se)){var n=O(e);return n.test=e,n.consequent=Q(!0),V(be),n.alternate=Q(!0,t),k(n,"ConditionalExpression")}return e}function Y(t){return tt(et(),-1,t)}function tt(t,e,n){var i=yt.binop;if(null!=i&&(!n||yt!==le)&&i>e){var r=O(t);r.left=t,r.operator=wt;var s=yt;I(),r.right=tt(et(),i,n);var a=k(r,s===Ce||s===Me?"LogicalExpression":"BinaryExpression");return tt(a,e,n)}return t}function et(){if(yt.prefix){var t=H(),e=yt.isUpdate;return t.operator=wt,t.prefix=!0,xt=!0,I(),t.argument=et(),e?F(t.argument):Et&&"delete"===t.operator&&"Identifier"===t.argument.type&&n(t.start,"Deleting local variable in strict mode"),k(t,e?"UpdateExpression":"UnaryExpression")}for(var i=nt();yt.postfix&&!N();){var t=O(i);t.operator=wt,t.prefix=!1,t.argument=i,F(i),I(),i=k(t,"UpdateExpression")}return i}function nt(){return it(rt())}function it(t,e){if(L(Te)){var n=O(t);return n.object=t,n.property=ht(!0),n.computed=!1,it(k(n,"MemberExpression"),e)}if(L(ce)){var n=O(t);return n.object=t,n.property=Q(),n.computed=!0,V(fe),it(k(n,"MemberExpression"),e)}if(!e&&L(ge)){var n=O(t);return n.callee=t,n.arguments=lt(ve,!1),it(k(n,"CallExpression"),e)}return t}function rt(){switch(yt){case se:var t=H();return I(),k(t,"ThisExpression");case Lt:return ht();case Ot:case Dt:case kt:var t=H();return t.value=wt,t.raw=ft.slice(mt,bt),I(),k(t,"Literal");case ae:case oe:case ue:var t=H();return t.value=yt.atomValue,t.raw=yt.keyword,I(),k(t,"Literal");case ge:var e=Tt,n=mt;I();var i=Q();return i.start=n,i.end=bt,ct.locations&&(i.loc.start=e,i.loc.end=St),ct.ranges&&(i.range=[n,bt]),V(ve),i;case ce:var t=H();return I(),t.elements=lt(fe,!0,!0),k(t,"ArrayExpression");case de:return at();case Zt:var t=H();return I(),ut(t,!1);case re:return st();default:z()}}function st(){var t=H();return I(),t.callee=it(rt(),!0),L(ge)?t.arguments=lt(ve,!1):t.arguments=Ht,k(t,"NewExpression")}function at(){var t=H(),e=!0,i=!1;for(t.properties=[],I();!L(_e);){if(e)e=!1;else if(V(pe),ct.allowTrailingCommas&&L(_e))break;var r,s={key:ot()},a=!1;if(L(be)?(s.value=Q(!0),r=s.kind="init"):ct.ecmaVersion>=5&&"Identifier"===s.key.type&&("get"===s.key.name||"set"===s.key.name)?(a=i=!0,r=s.kind=s.key.name,s.key=ot(),yt!==ge&&z(),s.value=ut(H(),!1)):z(),"Identifier"===s.key.type&&(Et||i))for(var o=0;o<t.properties.length;++o){var u=t.properties[o];if(u.key.name===s.key.name){var l=r==u.kind||a&&"init"===u.kind||"init"===r&&("get"===u.kind||"set"===u.kind);l&&!Et&&"init"===r&&"init"===u.kind&&(l=!1),l&&n(s.key.start,"Redefinition of property")}}t.properties.push(s)}return k(t,"ObjectExpression")}function ot(){return yt===Ot||yt===Dt?rt():ht(!0)}function ut(t,e){yt===Lt?t.id=ht():e?z():t.id=null,t.params=[];var i=!0;for(V(ge);!L(ve);)i?i=!1:V(pe),t.params.push(ht());var r=Gt,s=Bt;if(Gt=!0,Bt=[],t.body=X(!0),Gt=r,Bt=s,Et||t.body.body.length&&D(t.body.body[0]))for(var a=t.id?-1:0;a<t.params.length;++a){var o=a<0?t.id:t.params[a];if((ze(o.name)||Fe(o.name))&&n(o.start,"Defining '"+o.name+"' in strict mode"),a>=0)for(var u=0;u<a;++u)o.name===t.params[u].name&&n(o.start,"Argument name clash in strict mode")}return k(t,e?"FunctionDeclaration":"FunctionExpression")}function lt(t,e,n){for(var i=[],r=!0;!L(t);){if(r)r=!1;else if(V(pe),e&&ct.allowTrailingCommas&&L(t))break;n&&yt===pe?i.push(null):i.push(Q(!0))}return i}function ht(t){var e=H();return t&&"everywhere"==ct.forbidReserved&&(t=!1),yt===Lt?(!t&&(ct.forbidReserved&&(3===ct.ecmaVersion?Re:Ve)(wt)||Et&&ze(wt))&&ft.slice(mt,bt).indexOf("\\")==-1&&n(mt,"The keyword '"+wt+"' is reserved"),e.name=wt):t&&yt.keyword?e.name=yt.keyword:z(),xt=!1,I(),k(e,"Identifier")}t.version="0.5.0";var ct,ft,dt,_t;t.parse=function(t,n){return ft=String(t),dt=ft.length,e(n),s(),j(ct.program)};var gt=t.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null},vt=t.getLineInfo=function(t,e){for(var n=1,i=0;;){Qe.lastIndex=i;var r=Qe.exec(t);if(!(r&&r.index<e))break;++n,i=r.index+r[0].length}return{line:n,column:e-i}};t.tokenize=function(t,n){function i(t){return Mt=bt,b(t),r.start=mt,r.end=bt,r.startLoc=Tt,r.endLoc=St,r.type=yt,r.value=wt,r}ft=String(t),dt=ft.length,e(n),s();var r={};return i.jumpTo=function(t,e){if(pt=t,ct.locations){At=1,Pt=Qe.lastIndex=0;for(var n;(n=Qe.exec(ft))&&n.index<t;)++At,Pt=n.index+n[0].length}xt=e,l()},i};var pt,mt,bt,Tt,St,yt,wt,xt,At,Pt,Ct,Mt,It,Gt,Bt,Et,Ht=[],Ot={type:"num"},kt={type:"regexp"},Dt={type:"string"},Lt={type:"name"},Nt={type:"eof"},Rt={keyword:"break"},Vt={keyword:"case",beforeExpr:!0},zt={keyword:"catch"},Ft={keyword:"continue"},jt={keyword:"debugger"},Wt={keyword:"default"},Ut={keyword:"do",isLoop:!0},Xt={keyword:"else",beforeExpr:!0},qt={keyword:"finally"},Kt={keyword:"for",isLoop:!0},Zt={keyword:"function"},Qt={keyword:"if"},$t={keyword:"return",beforeExpr:!0},Jt={keyword:"switch"},Yt={keyword:"throw",beforeExpr:!0},te={keyword:"try"},ee={keyword:"var"},ne={keyword:"while",isLoop:!0},ie={keyword:"with"},re={keyword:"new",beforeExpr:!0},se={keyword:"this"},ae={keyword:"null",atomValue:null},oe={keyword:"true",atomValue:!0},ue={keyword:"false",atomValue:!1},le={keyword:"in",binop:7,beforeExpr:!0},he={"break":Rt,"case":Vt,"catch":zt,"continue":Ft,"debugger":jt,"default":Wt,"do":Ut,"else":Xt,"finally":qt,"for":Kt,"function":Zt,"if":Qt,"return":$t,"switch":Jt,"throw":Yt,"try":te,"var":ee,"while":ne,"with":ie,"null":ae,"true":oe,"false":ue,"new":re,"in":le,"instanceof":{keyword:"instanceof",binop:7,beforeExpr:!0},"this":se,"typeof":{keyword:"typeof",prefix:!0,beforeExpr:!0},"void":{keyword:"void",prefix:!0,beforeExpr:!0},"delete":{keyword:"delete",prefix:!0,beforeExpr:!0}},ce={type:"[",beforeExpr:!0},fe={type:"]"},de={type:"{",beforeExpr:!0},_e={type:"}"},ge={type:"(",beforeExpr:!0},ve={type:")"},pe={type:",",beforeExpr:!0},me={type:";",beforeExpr:!0},be={type:":",beforeExpr:!0},Te={type:"."},Se={type:"?",beforeExpr:!0},ye={binop:10,beforeExpr:!0},we={isAssign:!0,beforeExpr:!0},xe={isAssign:!0,beforeExpr:!0},Ae={postfix:!0,prefix:!0,isUpdate:!0},Pe={prefix:!0,beforeExpr:!0},Ce={binop:1,beforeExpr:!0},Me={binop:2,beforeExpr:!0},Ie={binop:3,beforeExpr:!0},Ge={binop:4,beforeExpr:!0},Be={binop:5,beforeExpr:!0},Ee={binop:6,beforeExpr:!0},He={binop:7,beforeExpr:!0},Oe={binop:8,beforeExpr:!0},ke={binop:9,prefix:!0,beforeExpr:!0},De={binop:10,beforeExpr:!0};t.tokTypes={bracketL:ce,bracketR:fe,braceL:de,braceR:_e,parenL:ge,parenR:ve,comma:pe,semi:me,colon:be,dot:Te,question:Se,slash:ye,eq:we,name:Lt,eof:Nt,num:Ot,regexp:kt,string:Dt};for(var Le in he)t.tokTypes["_"+Le]=he[Le];var Ne,Re=i("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Ve=i("class enum extends super const export import"),ze=i("implements interface let package private protected public static yield"),Fe=i("eval arguments"),je=i("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),We=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Ue="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",Xe="̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿",qe=new RegExp("["+Ue+"]"),Ke=new RegExp("["+Ue+Xe+"]"),Ze=/[\n\r\u2028\u2029]/,Qe=/\r\n|[\n\r\u2028\u2029]/g,$e=t.isIdentifierStart=function(t){return t<65?36===t:t<91||(t<97?95===t:t<123||t>=170&&qe.test(String.fromCharCode(t)))},Je=t.isIdentifierChar=function(t){return t<48?36===t:t<58||!(t<65)&&(t<91||(t<97?95===t:t<123||t>=170&&Ke.test(String.fromCharCode(t))))},Ye={kind:"loop"},tn={kind:"switch"}});var T={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},S={"-":"__negate","+":null},y=o.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(t){this["__"+t]="#"+t},{});return _.inject(y),v.inject(y),F.inject(y),s&&("complete"===a.readyState?setTimeout(d):q.add(s,{load:d})),{compile:h,execute:c,load:g,parse:u}}.call(this),i=new(l.inject(o.exports,{enumerable:!0,Base:o,Numerical:f,Key:J,DomEvent:q,DomElement:X,document:a,window:s,Symbol:I,PlacedSymbol:M})),i.agent.node&&t("./node/extend.js")(i),"function"==typeof define&&define.amd?define("paper",i):"object"==typeof e&&e&&(e.exports=i),i}.call(this,"object"==typeof self?self:null)},{"./node/extend.js":3,"./node/window.js":3}]},{},[1]);